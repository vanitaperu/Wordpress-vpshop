var ThemifyCodeMiror;((t,e,s,o)=>{"use strict";const i="https://cdnjs.cloudflare.com/ajax/libs/codemirror/6.65.7/",m="ayu-dark",n=(e,s=!1,o=!1)=>t.loadJs(e,s,o),a=(e,s,o,i=!1)=>t.loadCss(e,s,i,o);ThemifyCodeMiror=class{static def(){return{indentUnit:4,indentWithTabs:!0,inputStyle:"contenteditable",lineNumbers:!0,lineWrapping:!0,styleActiveLine:!1,autoCloseBrackets:!0,matchBrackets:!0,scrollbarStyle:null,completeSingle:!1,allowFullScreen:!0,theme:"default",extraKeys:{"Ctrl-Space":"autocomplete","Ctrl-/":"toggleComment","Cmd-/":"toggleComment","Alt-F":"findPersistent","Ctrl-F":"findPersistent","Cmd-F":"findPersistent"},direction:"ltr",gutters:["CodeMirror-lint-markers"]}}constructor(t,s,o){const i=this,n=i.t(s);if(!n)throw"";i.mode=s,i.el=t,i.options={...i.constructor.def(),..."string"!=typeof n?n.options:{},options:o},i.options.mode="string"!=typeof n?n.mode:n,"default"===i.options.theme&&i.options.isDarkMode&&(i.options.theme=m),i.wrap=e.createElement("div"),i.wrap.className="tf_cdm tf_w tf_rel",i.wrap.tabIndex="-1",i.el.after(i.wrap),i.wrap.appendChild(i.el)}destroy(){const t=this;t.editor&&(t.editor.off("keyup",t.o),t.editor.toTextArea(),t.wrap.after(t.el),t.wrap.remove(),t.editor=t.wrap=t.el=null)}save(){this.editor?.save()}i(){const t=this.t(),e="string"!=typeof t,s=e&&t.mode?.name?t.mode.name:this.mode;return e&&t.assets?t.assets:["mode/"+s+"/"+s+".min.js"]}m(){const t=[],e=this.i(),s=e.includes("mode/python/python.min.js");return e.includes("mode/css/css.min.js")&&t.push(n(i+"addon/hint/css-hint.min.js")),e.includes("mode/javascript/javascript.min.js")&&t.push(n(i+"addon/hint/javascript-hint.min.js")),e.includes("mode/xml/xml.min.js")&&t.push(n(i+"addon/hint/xml-hint.min.js")),e.includes("mode/htmlmixed/htmlmixed.min.js")&&t.push(n(i+"addon/hint/html-hint.min.js")),e.includes("mode/sql/sql.min.js")&&t.push(n(i+"addon/hint/sql-hint.min.js")),(s||e.includes("mode/clike/clike.min.js"))&&(t.push(n(i+"addon/hint/anyword-hint.min.js")),s&&t.push(n("https://cdnjs.cloudflare.com/ajax/libs/codemirror/4.8.0/addon/hint/python-hint.min.js"))),t.length>0&&(t.push(n(i+"addon/hint/show-hint.min.js"),a(i+"addon/hint/show-hint.min.css","tf_codemirror_hint",this.l())),this.options.hintOptions={container:this.wrap}),o.all(t)}t(t){const e={apl:"text/apl","avro-idl":{mode:{name:"idl",version:1,singleLineStringErrors:!1}},markup:{mode:"htmlmixed",assets:["mode/xml/xml.min.js","mode/javascript/javascript.min.js","mode/css/css.min.js","mode/htmlmixed/htmlmixed.min.js"],options:{continueComments:!0,autoCloseTags:!0,matchTags:{bothTags:!0}}},css:{mode:"text/css",options:{continueComments:!0},assets:["mode/css/css.min.js"]},javascript:{mode:"text/javascript",options:{continueComments:!0},assets:["mode/javascript/javascript.min.js"]},c:{mode:"text/x-csrc",assets:["mode/clike/clike.min.js"],options:{continueComments:!0}},fsharp:{mode:"text/x-fsharp",assets:["mode/mllike/mllike.min.js"]},bash:{mode:"text/x-sh",options:{styleActiveLine:!0}},armasm:{mode:{name:"gas",architecture:"ARMv6"},options:{styleActiveLine:!0}},php:{mode:"application/x-httpd-php",assets:["mode/xml/xml.min.js","mode/htmlmixed/htmlmixed.min.js","mode/javascript/javascript.min.js","mode/css/css.min.js","mode/clike/clike.min.js","mode/php/php.min.js"],options:{continueComments:!0,autoCloseTags:!0,matchTags:{bothTags:!0}}},phpdoc:{mode:"text/x-php",assets:["mode/clike/clike.min.js","mode/php/php.min.js"],options:{continueComments:!0}},brainfuck:"text/x-brainfuck",clojure:"text/x-clojure",cmake:"text/x-cmake",cobol:{mode:"text/x-cobol",options:{styleActiveLine:!0,showCursorWhenSelecting:!0}},coffeescript:"text/coffeescript",crystal:"text/x-crystal",csv:{mode:"text/x-q",assets:["mode/q/q.min.js"]},cypher:"application/x-cypher-query",d:"text/x-d",dart:{mode:"application/dart",assets:["mode/clike/clike.min.js","mode/dart/dart.min.js"],options:{continueComments:!0}},diff:"text/x-diff",django:{mode:"text/x-django",assets:["mode/xml/xml.min.js","mode/htmlmixed/htmlmixed.min.js","mode/django/django.min.js"],options:{continueComments:!0,autoCloseTags:!0,matchTags:{bothTags:!0}}},docker:{mode:"text/x-dockerfile",assets:["addon/mode/simple.min.js","mode/dockerfile/dockerfile.min.js"]},ebnf:{mode:{name:"ebnf"},options:{bracesMode:"javascript"},assets:["mode/javascript/javascript.min.js","mode/ebnf/ebnf.min.js"]},editorconfig:{mode:"text/x-properties",assets:["mode/properties/properties.min.js"]},eiffel:"text/x-eiffel",elm:"text/x-elm",etlua:"text/x-lua",erlang:"text/x-erlang",factor:{mode:"text/x-factor",assets:["addon/mode/simple.mn.js","mode/factor/factor.min.js"]},fortran:"text/x-fortran",gherkin:"text/x-feature",go:"text/x-go","go-module":"text/x-go",groovy:"text/x-groovy",haml:{mode:"text/x-haml",assets:["mode/xml/xml.min.js","mode/htmlmixed/htmlmixed.min.js","mode/javascript/javascript.min.js","mode/ruby/ruby.min.js","mode/haml/haml.min.js"],options:{continueComments:!0,autoCloseTags:!0,matchTags:{bothTags:!0}}},handlebars:{mode:{name:"handlebars",base:"text/html"},assets:["addon/mode/simple.min.js","addon/mode/multiplex.min.js","mode/xml/xml.min.js","mode/handlebars/handlebars.min.js"]},haskell:"text/x-literate-haskell",haxe:"text/x-haxe",http:"message/http",julia:"text/x-julia",latex:{mode:"text/x-stex",assets:["mode/stex/stex.min.js"]},lisp:{mode:"text/x-common-lisp",assets:["mode/commonlisp/commonlisp.min.js"]},livescript:"text/x-livescript",lua:"text/x-lua",markdown:{mode:"gfm",assets:["addon/mode/overlay.min.js","mode/xml/xml.min.js","mode/markdown/markdown.min.js","mode/gfm/gfm.min.js","mode/javascript/javascript.min.js","mode/css/css.min.js","mode/htmlmixed/htmlmixed.min.js","mode/clike/clike.min.js"],options:{continueComments:!0,autoCloseTags:!0,matchTags:{bothTags:!0}}},matlab:{mode:"text/x-octave",assets:["mode/octave/octave.min.js"]},nasm:{name:"gas",architecture:"x86"},nginx:"text/nginx",nsis:{mode:"text/x-nsis",assets:["addon/mode/simple.min.js","mode/nsis/nsis.min.js"]},oz:"text/x-oz",pascal:"text/x-pascal",perl:"text/x-perl",powershell:{mode:"application/x-powershell",options:{tabMode:"shift"}},protobuf:"text/x-protobuf",puppet:"text/x-puppet",python:{mode:{name:"python",version:3,singleLineStringErrors:!1}},r:"text/x-rsrc",rest:"text/x-rst",ruby:"text/x-ruby",rust:{mode:"text/x-rustsrc",assets:["addon/mode/simple.min.js","mode/rust/rust.min.js"]},sas:{mode:"text/x-sas",assets:["mode/xml/xml.min.js","mode/sas/sas.min.js"],options:{autoCloseTags:!0,matchTags:{bothTags:!0}}},sass:"text/x-sass",scheme:"text/x-scheme",smalltalk:"text/x-stsrc",smarty:{mode:{name:"smarty",version:3,baseMode:"text/html"},assets:["mode/xml/xml.min.js","mode/smarty/smarty.min.js"],options:{autoCloseTags:!0,matchTags:{bothTags:!0}}},sparql:"application/sparql-query",sql:{mode:"text/x-sql",assets:["mode/sql/sql.min.js"],options:{smartIndent:!0}},stylus:"text/x-styl",swift:"text/x-swift",tcl:"text/x-tcl",textile:"text/x-textile",toml:"text/x-toml",turtle:"text/turtle",twig:{name:"twig",htmlMode:!0},vbnet:{mode:"text/x-vb",assets:["mode/vb/vb.min.js"]},velocity:"text/velocity",verilog:{name:"verilog",noIndentKeywords:["package"]},vhdl:"text/x-vhdl","visual-basic":"text/vbscript",wasm:"text/webassembly","web-idl":"text/x-webidl",wolfram:"text/x-mathematica","xml-doc":{mode:"application/xml",assets:["mode/xml/xml.min.js"],options:{htmlMode:!1,autoCloseTags:!0,matchTags:{bothTags:!0}}},xquery:"application/xquery",yaml:"text/x-yaml"},s={htmlmixed:e.markup,aspnet:{mode:"application/x-aspx",assets:[...e.markup.assets,"addon/mode/multiplex.min.js","addon/mode/htmlembedded.min.js"],options:e.markup.options},cpp:{...e.c,mode:"text/x-c++src"},csharp:{...e.c,mode:"text/x-csharp"},cilkc:e.c,ocaml:{...e.fsharp,mode:"text/x-ocaml"},ini:{...e.editorconfig,mode:"text/x-ini"},java:{...e.c,mode:"text/x-java"},jsdoc:{...e.javascript,mode:"text/x-java"},json:{...e.javascript,mode:"application/json"},jsstacktrace:e.javascript,kotlin:{...e.c,mode:"text/x-kotlin"},less:{...e.css,mode:"text/x-less"},objectivec:{...e.c,mode:"text/x-objectivec"},plsql:{...e.sql,mode:"text/x-plsql"},properties:e.editorconfig,scss:{...e.css,mode:"text/x-scss"},scala:{...e.c,mode:"text/x-scala"},vim:{mode:e.c.mode,assets:[...e.c.assets,"keymap/vim.min.js"],options:{keyMap:"vim",showCursorWhenSelecting:!0}},"shell-session":e.bash,soy:{mode:"text/x-soy",assets:[...e.markup.assets,"mode/soy/soy.min.js"],options:{autoCloseTags:!0,matchTags:{bothTags:!0}}},squirrel:{...e.c,mode:"text/x-squirrel"},typescript:{...e.javascript,mode:"application/typescript"}},o={...e,...s,cilkcpp:s.cpp,ignore:s.ini,json5:s.json,jsonp:s.json,javadoclike:s.java,javastacktrace:s.java};return t||(t=this.mode),o[t]}async p(){const e=async e=>{const o={css:{url:"https://cdnjs.cloudflare.com/ajax/libs/csslint/1.0.5/csslint.min.js",check:!!s.CSSLint,options:{errors:!0,"box-model":!0,"display-property-grouping":!0,"duplicate-properties":!0,"known-properties":!0,"outline-none":!0}},javascript:{url:"https://cdnjs.cloudflare.com/ajax/libs/jshint/2.13.5/jshint.min.js",options:{boss:!0,curly:!0,eqeqeq:!0,eqnull:!0,esversion:11,expr:!0,immed:!0,noarg:!0,nonbsp:!0,onevar:!0,quotmark:"single",trailing:!0,undef:!0,unused:!0,browser:!0,globals:{h:!1,Backbone:!1,jQuery:!1,JSON:!1,wp:!1,Prism:!1,Themify:!1,window:!1,document:!1,Promise:!1,$:!1}}},coffeescript:{dependce:"https://cdn.jsdelivr.net/npm/coffeescript@2.7.0/lib/coffeescript-browser-compiler-legacy/coffeescript.js",url:"https://cdn.jsdelivr.net/npm/coffeelint@2.1.0/lib/coffeelint.min.js",check:!!s.coffeelint},json:{url:"https://cdnjs.cloudflare.com/ajax/libs/jsonlint/1.6.0/jsonlint.min.js",check:!!s.jsonlint},yaml:{url:"https://cdnjs.cloudflare.com/ajax/libs/js-yaml/4.1.0/js-yaml.min.js",check:!!s.jsyaml},html:{url:"https://cdn.jsdelivr.net/npm/htmlhint@1.1.4/dist/htmlhint.js",check:!!s.HTMLHint,options:{"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!1,"doctype-first":!1,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"alt-require":!0,"space-tab-mixed-disabled":"tab","attr-unsafe-chars":!0}}}[e],m="html"===e?t.url+"js/admin/modules/codemirror/lints/htmlmixed":i+"addon/lint/"+e+"-lint.min.js";return o.dependce&&await n(o.dependce,null),await n(o.url,o.check),o.options&&(this.options.lint??={},this.options.lint[e]={options:o.options}),n(m)},m=this.i(),l=[];return m.includes("mode/css/css.min.js")&&l.push(e("css")),m.includes("mode/javascript/javascript.min.js")&&l.push(e("application/json"===this.options.mode?"json":"javascript")),m.includes("mode/yaml/yaml.min.js")&&l.push(e("yaml")),m.includes("mode/coffeescript/coffeescript.min.js")&&l.push(e("coffeescript")),m.includes("mode/htmlmixed/htmlmixed.min.js")&&l.push(e("html")),l.length>0&&l.push(n(i+"addon/lint/lint.min.js"),a(i+"addon/lint/lint.min.css","tf_codemirror_lint",this.l())),o.all(l.flat())}j(){const t=this.i(),e=[];for(let s=0;s<t.length;++s)e.push(n(i+t[s]));return o.all(e)}l(){return this.el.getRootNode().querySelector("style,link")}u(){if(!e.fullscreenElement){const t=this.wrap;return t.requestFullscreen?t.requestFullscreen():t.webkitEnterFullscreen?t.webkitEnterFullscreen():t.webkitrequestFullscreen?t.webkitRequestFullscreen():t.mozRequestFullscreen?t.mozRequestFullScreen():o.reject()}}v(){return e.exitFullscreen?e.exitFullscreen():e.webkitExitFullscreen||e.webkitExitFullscreen?e.webkitExitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.cancelFullScreen?e.cancelFullScreen():o.reject()}o(t,e){let o,i,m,n,a=/^[a-zA-Z]$/.test(e.key)||"Backspace"===e.key;t.state.completionActive&&a||(n=t.getTokenAt(t.getCursor()),"string"!==n.type&&"comment"!==n.type&&(m=s.CodeMirror.innerMode(t.getMode(),n.state).mode.name,i=t.doc.getLine(t.doc.getCursor().line).substr(0,t.doc.getCursor().ch),"html"===m||"xml"===m?o="<"===e.key||"/"===e.key&&"tag"===n.type||a&&"tag"===n.type||a&&"attribute"===n.type||"="===n.string&&n.state.htmlState&&n.state.htmlState.tagName:"css"===m?o=a||":"===e.key||" "===e.key&&/:\s+$/.test(i):"javascript"===m?o=a||"."===e.key:!a||"clike"!==m&&"python"!==m||(o="keyword"===n.type||"variable"===n.type),o&&t.showHint({completeSingle:!1})))}k(){const s="http://www.w3.org/2000/svg",o=e.createElement("button"),i=e.createElementNS(s,"svg"),n=e.createElementNS(s,"g"),a=e.createElementNS(s,"mask"),l=e.createElementNS(s,"rect"),d=e.createElementNS(s,"circle"),r=e.createElementNS(s,"circle"),c=e.createDocumentFragment(),x=[[12,1,12,3],[12,21,12,23],[4.22,4.22,5.64,5.64],[18.36,18.36,19.78,19.78],[1,12,3,12],[21,12,23,12],[4.22,19.78,5.64,18.36],[18.36,5.64,19.78,4.22]];o.className="tf_cdm_tgl_theme",o.type="button",o.title="Toggles light & dark",i.setAttributeNS(null,"viewBox","0 0 24 24"),i.setAttribute("width",14),i.setAttribute("height",14),a.setAttribute("id","tf-moon-mask"),a.setAttribute("class","tf_cdm_moon"),l.setAttribute("width","100%"),l.setAttribute("height","100%"),d.setAttribute("r",6),l.setAttribute("fill","white"),d.setAttribute("cx",24),d.setAttribute("cy",10),d.setAttribute("fill","black"),r.setAttribute("class","tf_cdm_sun"),r.setAttribute("cx","12"),r.setAttribute("cy","12"),r.setAttribute("r","6"),r.setAttribute("mask","url(#tf-moon-mask)"),r.setAttribute("stroke","currentColor"),n.setAttribute("stroke","currentColor");for(let t=0,o=x.length;t<o;++t){let o=e.createElementNS(s,"line");o.setAttribute("x1",x[t][0]),o.setAttribute("y1",x[t][1]),o.setAttribute("x2",x[t][2]),o.setAttribute("y2",x[t][3]),c.appendChild(o)}return n.appendChild(c),a.append(l,d),i.append(a,r,n),o.tfOn(t.click,(t=>{t.stopImmediatePropagation(),this._()}),{passive:!0}).appendChild(i),this.options.theme===m&&this._(!0),o}async _(t){const e=this.wrap.classList,s=void 0===t?e.contains("tf_cdm_dark"):!t;s?e.remove("tf_cdm_dark"):(e.add("tf_cdm_dark","tf_lazy"),await a(i+"theme/"+m+".min.css","tf_codemirror_"+m,this.l()),e.remove("tf_lazy")),this.editor.setOption("theme",s?"default":m)}run(){const m=e.createElement("div"),l=this.el;m.className="tf_loader tf_abs_c",l.disabled=1,l.style.opacity=.5,l.before(m);const d=new o((async(m,d)=>{try{const d=this,r=d.options,c=[],x=e.createElement("div");await o.all([a(t.url+"css/admin/codemirror.css","tf_codemirror",d.l(),null),a(i+"codemirror.min.css","tf_codemirror_cdn",d.l()),n(i+"codemirror.min.js",!!s.CodeMirror)]),s.CodeMirror.modeURL=i+"mode/",r.allowFullScreen&&(r.extraKeys.F11=t=>{e.fullscreenElement?d.v():d.u()}),"default"!==r.theme&&c.push(a(i+"theme/"+r.theme+".min.css","tf_codemirror_"+r.theme,d.l())),r.matchBrackets&&c.push(n(i+"addon/edit/matchbrackets.min.js")),r.autoCloseBrackets&&c.push(n(i+"addon/edit/closebrackets.min.js")),r.autoCloseTags&&c.push(n(i+"addon/edit/closetag.min.js")),r.matchTags&&c.push(n(i+"addon/fold/xml-fold.min.js"),n(i+"addon/edit/matchtags.min.js")),r.styleActiveLine&&c.push(n(i+"addon/selection/active-line.min.js")),r.continueComments&&c.push(n(i+"addon/comment/continuecomment.min.js")),r.runMode&&c.push(n(i+"addon/runmode/runmode.min.js")),c.push(d.m(),d.p(),d.j()),await o.all(c.flat()),setTimeout((()=>{if(d.editor=s.CodeMirror.fromTextArea(l,r),d.editor.on("change",(t=>{l.value=t.getValue()})),l.tf_mirror=d,d.editor.on("keyup",d.o),x.className="tf_cdm_controls tf_opacity",x.appendChild(d.k()),r.allowFullScreen){const s=e.createElement("button");s.className="tf_cdm_fullscreen_btn tf_rel",s.type="button",s.tfOn(t.click,(t=>{t.stopImmediatePropagation(),e.fullscreenElement?d.v():d.u()}),{passive:!0}).title="FullScreen Mode(Hot Key F11) or Tripple Click",d.wrap.tfOn("fullscreenchange",(t=>{const s=e.body.classList;e.fullscreenElement?s.add("tf_fullscreen_mode"):setTimeout((()=>{s.remove("tf_fullscreen_mode")}),150)}),{passive:!0}),x.appendChild(s)}d.wrap.appendChild(x),m(d)}),500)}catch(t){console.error(t),d(t)}}));return d.finally((()=>{m.remove(),l.disabled=l.style.opacity=""})),d}}})(Themify,document,window,Promise);