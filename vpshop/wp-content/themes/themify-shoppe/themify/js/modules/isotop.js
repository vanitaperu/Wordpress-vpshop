((t,e,o,i,a)=>{"use strict";let r,l,n=null,s=null;const c={"list-post":100,"list-large-image":100,"list-thumb-image":100,grid2:48.4,"grid2-thumb":48.4,grid3:31.2,grid4:22.6,grid5:17.44,grid6:14},f=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),m=new Set,p=t=>{null===s&&(s=new ResizeObserver(((t,o)=>{i((()=>{!0!==l&&(cancelAnimationFrame(r),l=!0,r=requestAnimationFrame((()=>{for(let i=t.length-1;i>-1;--i)if(t[i].target.isConnected){let o=t[i].target.closest(".masonry-done");o&&e.Isotope.data(o)?.layout()}else o.unobserve(t[i].target);l=!1})))}),800)}))),i((()=>{s.observe(t)}),300)},d=async(i,r)=>{if(!r||"object"!=typeof r){const t=i.dataset;"0"===(r={layoutMode:t.layout,gutter:t.gutter,columnWidth:t.column,itemSelector:t.selector,fitWidth:"1"===t.fit,percentPosition:"0"!==t.percent}).gutter&&(r.gutter=!1),"0"===r.columnWidth&&(r.columnWidth=!1)}r.layoutMode||(i.classList.contains("packery-gallery")?(r.layoutMode="packery",r.columnWidth=r.gutter=!1):i.classList.contains("masonry-fit-rows")&&(r.layoutMode="fitRows"));const l={originLeft:!t.isRTL,resize:!1,containerStyle:null,onceLayoutComplete:r.onceLayoutComplete,layoutComplete:r.layoutComplete,arrangeComplete:r.arrangeComplete,removeComplete:r.removeComplete,filterCallback:r.filterCallback,stagger:r.stagger||30,itemSelector:r.itemSelector||(i.classList.contains("products")?".products>.product":i.classList.contains("gallery-wrapper")?".item":".loops-wrapper > .post")},s=r.layoutMode||"masonry";l.layoutMode=s,l[s]={columnWidth:r.columnWidth,gutter:r.gutter},!0===r.fitWidth&&(l[s].fitWidth=!0),r.stamp&&(l.stamp=r.stamp),!0===r.fitWidth?l.percentPosition=!1:l.percentPosition??=!0;const f=[t.imagesLoad(i)];"packery"===s&&f.push(t.loadJs("https://cdnjs.cloudflare.com/ajax/libs/isotope-packery/2.0.1/packery-mode.pkgd.min.js",!!e.Packery,!1));const[d,u]=await Promise.all(f),_=d.previousElementSibling;let y="",g=0,h=!1!==l[s].gutter&&!d.classList.contains("no-gutter"),v=d.tfClass("gutter-sizer")[0];const w=Isotope.data(d),b=()=>{v&&(v.remove(),v=!1)};if(w&&(w.destroy(),b()),d.classList.contains("auto_tiles"))return void(_?.classList.contains("post-filter")&&t.trigger("themify_isotop_filter",[_,a,l.filterCallback]));for(let t=d.classList,e=t.length-1;e>-1;--e)if(c[t[e].trim()]!==a){y=t[e].trim();break}if("list-post"===y||"list-large-image"===y||"list-thumb-image"===y){if(!_?.classList.contains("post-filter"))return void b();h=!1}if(!m.has("masonry_done")){m.add("masonry_done");const t=".masonry>.post,.products.masonry>.product{animation-fill-mode:backwards;transition:none;animation:none;clear:none!important;margin-right:0!important;margin-left:0!important}.masonry-done{opacity:1}";null===n?(n=o.createElement("style"),n.innerText=t,o.head.prepend(n)):n.innerText+=t}if(!0===h){if(v?g=v:(g=o.createElement("div"),g.className="gutter-sizer",d.prepend(g)),!d.classList.contains("tf_fluid")){let t="";const e=d.classList.contains("products"),o=d.classList.contains("gutter-narrow")?1.6:3.2;if(!m.has(o+e)){m.add(o+e);let i=e?".products":"";1.6===o&&(i+=".gutter-narrow"),""!==i&&(i+=">"),t+=i+".gutter-sizer{width:"+o+"%}"}m.has("contain")||(m.add("contain"),t+=".gutter-sizer{contain:paint style size}@media (max-width:680px){.gutter-sizer{width:0}}"),t&&(n.innerText=t+n.innerText)}}else b();l[s].gutter=g,d.classList.add("masonry-done","tf_rel");const x=new Isotope(d,l);_?.classList.contains("post-filter")&&t.trigger("themify_isotop_filter",[_,x,l.filterCallback]),x.revealItemElements(x.items),l.onceLayoutComplete&&x.once("layoutComplete",l.onceLayoutComplete),x.on("layoutComplete",(function(e){l.layoutComplete?.call(this,e),t.trigger("isolayoutComplete",[this])})),l.arrangeComplete&&x.on("arrangeComplete",l.arrangeComplete),l.removeComplete&&x.on("removeComplete",l.removeComplete),x.layout(),p(d),g&&p(g)};t.on("tf_isotop_init",((e,o)=>{e.length===a&&(e=[e]);for(let i=e.length-1;i>-1;--i)t.requestIdleCallback((()=>{d(e[i],o)}),-1,500)})).on("themify_isotop_filter",((r,l,s)=>{if(r.dataset.done)return;r.dataset.done=1;const c=r.children,f=c.length,p=r.nextElementSibling,d=r.hasAttribute("data-ajax"),u=!0===d&&r.hasAttribute("data-sort");let _=0;if(!m.has("post_filter")){m.add("post_filter");const t=".post-filter{transition:opacity .2s ease-in-out}";null===n?(n=o.createElement("style"),n.innerText=t,o.head.prepend(n)):n.innerText+=t}if(!1===d)for(let t=f-1;t>-1;--t){let e=c[t].className.replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ",""),o=p.querySelector(".cat-"+e);null===o||o.parentNode!==p?(c[t].style.display="none",++_):c[t].style.display=""}if(f-_>1?(r.classList.remove("tf_opacity"),r.style.display=""):r.style.display="none",l||p.classList.contains("auto_tiles")){let l;const n=function(m){m.preventDefault();const p=m.target.closest(".cat-item"),_=r.parentNode.classList;if(_.remove("tb_hide_loadmore"),p){let c="*";const f=this.nextElementSibling;if(p.classList.contains("active")){if(p.classList.remove("active"),!0===u)return void t.triggerEvent(r.querySelector(".cat-item-all"),"click")}else{if(this.querySelector(".cat-item.active")?.classList.remove("active"),p.classList.contains("cat-item-all")||(c=p.className.replace(/(current-cat)|(cat-item)|(-)|(active)/g,"").replace(" ","")),p.dataset.p||(p.dataset.p=1),!0===d&&(p.dataset.done&&_.add("tb_hide_loadmore"),_.toggle("tb_empty_filter",!!p.dataset.empty)),!(!0!==d||p.dataset.done||p.dataset.loading||p.dataset.init)){p.dataset.init=p.dataset.loading=!0,f.parentNode.classList.contains("tf_ajax_filter_loading")?l.abort():f.parentNode.classList.add("tf_ajax_filter_loading"),l=new AbortController;const e=this,i=new FormData;if(i.set("action","themify_ajax_load_more"),i.set("type","module"),i.set("module",r.dataset.el),i.set("id",r.dataset.id),i.set("page",p.dataset.p),"*"!==c&&i.set("tax",c),!0===u){const t=r.querySelector(".tf_ajax_sort_order.active"),e=r.querySelector(".tf_ajax_sort_order_by .active");t&&i.set("order",t.dataset.type),e&&i.set("orderby",e.dataset.orderBy)}return void t.fetch(i,"html",{signal:l.signal}).then((i=>{const l=i.querySelector("."+r.dataset.el+" .loops-wrapper"),s=i.querySelector(".load-more-button");let d,u;if(null!==l){d=t.convert(l.children);const i=o.createDocumentFragment(),y=d.length;if(d[0]!==a){for(let t=0;t<y;++t)d[t].className+=" tf_opacity",i.appendChild(d[t]);r.dataset.reload&&(u=f.querySelectorAll(".post"),delete r.dataset.reload),f.appendChild(i)}if(null===s)p.dataset.done=!0,_.add("tb_hide_loadmore");else if("*"===c){const t=f.parentNode.querySelector(".load-more-button");t&&(t.href=t.dataset.url,t.dataset.page=s.dataset.page)}if(d.length>0)p.dataset.p=parseInt(p.dataset.p)+1,t.trigger("tf_isotop_append",[{new:d,remove:u},f,()=>{f.parentNode.classList.remove("tf_ajax_filter_loading"),n.bind(e)(m)}]);else{if(p.dataset.empty=!0,null===f.parentNode.querySelector(".tb_empty_filter_msg")){const t=o.createElement("span");t.className="tb_empty_filter_msg tf_hide",t.innerText=themify_vars.nop,f.parentNode.appendChild(t)}f.parentNode.classList.remove("tf_ajax_filter_loading"),n.bind(e)(m)}}})).catch((t=>{console.warn("Ajx filter error!",t)}))}!0===d&&p.dataset.loading&&delete p.dataset.loading,p.className+=" active"}if(null!==f){r.hasAttribute("data-hash")&&(p.classList.contains("active")&&p.dataset.id?location.hash=p.dataset.id:e.location.hash.includes(r.dataset.hash)&&e.history.pushState("","",e.location.pathname));let o=e.Isotope.data(f);if(f.classList.contains("auto_tiles")){const a=f.children;for(let t=a.length-1;t>-1;--t)a[t].classList.contains("post")&&!a[t].style.width&&(a[t].style.width=a[t].offsetWidth+"px",a[t].style.height=a[t].offsetHeight+"px");if(f.classList.add("masonry-done"),!o){let i;t.w<680?i=0:(i=e.getComputedStyle(f).getPropertyValue("grid-row-gap"),i?i=parseFloat(i):"0"!=i&&(i=5)),o=new Isotope(f,{layoutMode:"packery",packery:{gutter:i},resize:!1})}if("*"===c){const t=function(){this.off("arrangeComplete",t),i((()=>{if("*"===c){const t=this.element.children;for(let e=t.length-1;e>-1;--e)if(t[e].classList.contains("post")){let o=t[e].style;o.width=o.height=o.position=o.left=o.top=""}this.element.classList.remove("masonry-done"),this.element.style.height=this.element.style.position=""}}),20)};o.once("arrangeComplete",t)}}o&&(c=!0===d?"*"===c?".initial-cat":".ajax-cat-"+c:"*"===c?c:".cat-"+c.trim()+",.cat-all",o.arrange({filter:c}),s?.call(o,p,c))}}else if(!0===u){const e=m.target.closest(".tf_ajax_sort_order")||m.target.closest("[data-order-by]")?m.target:null;if(null!==e&&!e.classList.contains("active")){e.parentNode.querySelector(".active")?.classList.remove("active"),e.className+=" active";for(let t=f-1;t>-1;--t)delete c[t].dataset.init,delete c[t].dataset.done,delete c[t].dataset.p;r.dataset.reload=!0;const o=r.querySelector(".cat-item.active")||r.querySelector(".cat-item-all");o&&(o.classList.remove("active"),t.triggerEvent(o,"click"))}}};r.tfOn("click",n);const m=e.location.hash.replace("#","");if(""!==m&&"#"!==m){const e=r.querySelector('[data-id="'+m+'"]');e&&t.triggerEvent(e,"click")}}})).on("tf_isotop_append",((o,i,a)=>{const r=o.new.length,l=e.Isotope?.data(i);let n=0;for(let e=0;e<r;++e)o.new[e].style.display="none",t.imagesLoad(o.new[e]).then((s=>{if(f){const t=s.querySelector("img[srcset]");null!==t&&(t.outerHTML=t.outerHTML)}if(++n,l?.appended(s),o.new[e].classList.remove("tf_opacity"),n===r){(l||i.classList.contains("auto_tiles"))&&(i.classList.contains("auto_tiles")&&t.autoTiles(i),o.remove&&l?.remove(o.remove));for(let e=0;e<r;++e)t.lazyScroll(t.convert(t.selectWithParent("[data-lazy]",o.new[e])).reverse(),!0);t.fonts(),a()}}))}))})(Themify,window,document,setTimeout,void 0);