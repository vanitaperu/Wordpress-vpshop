((t,e,i,r)=>{"use strict";let $;const l=()=>{t.fetch({action:"tb_load_editor"},"text").then((r=>{const l=i.createElement("div"),o={},a={},n=i.createDocumentFragment(),_=i.body,s=function(){o[this.src]=!0,this.tfOff("load error",s,{once:!0,passive:!0});for(let t in a)if(!0!==o[t])return!1;const r=i.createDocumentFragment();for(let t=0,e=c.length;t<e;++t)r.appendChild(c[t]);_.appendChild(r),(()=>{if(e.tinymce&&e.tinyMCE){const t=tinyMCEPreInit.mceInit.tb_lb_hidden_editor;t.schema="html5",t.element_format="html",t.wp_autoresize_on=t.ie7_compat=!1,t.plugins="charmap,colorpicker,hr,lists,media,paste,tabfocus,textcolor,fullscreen,wordpress,wpautoresize,wpeditimage,wpemoji,wpgallery,wpdialogs,wptextpattern,wpview,wplink",t.indent="simple",t.root_name="div",t.relative_urls=!0,tinyMCE.execCommand("mceRemoveEditor",!0,"tb_lb_hidden_editor");const e=i.querySelectorAll("#wp-tb_lb_hidden_editor-editor-container,#wp-tb_lb_hidden_editor-editor-tools");for(let t=e.length-1;t>-1;--t)e[t].remove();wp.editor.getDefaultSettings||(wp.editor.getDefaultSettings=()=>({tinymce:tinyMCEPreInit.mceInit.tb_lb_hidden_editor,quicktags:{buttons:"strong,em,link,ul,ol,li,code"}}))}})(),!0!==t.editorLoaded&&$.ui&&$.fn.mouse&&$.fn.sortable&&(t.editorLoaded=!0,t.trigger("tb_load_iframe"))};l.innerHTML=r;const d=l.querySelector("#tb_tinymce_wrap").children,c=[];for(let t=0,e=d.length;t<e;++t)if("SCRIPT"!==d[0].tagName||d[0].type&&"text/javascript"!==d[0].type)n.appendChild(d[0]);else{let t=i.createElement("script");for(let e=d[0].attributes,i=e.length-1;i>-1;--i){let r=e[i];"defer"!==r.name&&"async"!==r&&t.setAttribute(r.name,r.value)}let e=d[0].src;if(e)void 0!==a[e]||e.includes("themify/js/main")||null!==i.querySelector('script[src="'+e+'"]')||(t.async=!1,a[e]=!0,t.tfOn("load error",s,{once:!0,passive:!0}),n.appendChild(t));else{let e=d[0].id;if(!e?.includes("themify-main-script")){let e=d[0].innerHTML;t.innerHTML=e,e.includes("tinyMCEPreInit.")||e.includes(".addI18n")||e.includes(".i18n")||e.includes("wp.editor")?c.push(t):n.appendChild(t)}}d[0].remove()}try{_.appendChild(n)}catch(t){}}))},o=()=>{let o,a=e.location.href.includes("?")?"&":"?";if($=jQuery,a=e.location.href.replace(e.location.hash,"").replace("#","")+a+"tb-preview=1&ver="+t.v,!e.wp||!wp.customize){let t=i.tfClass("themify_builder_content"),e=i.tfClass("toggle_tb_builder")[0],r=!1;o=e?.tfClass("tb_front_icon")[0].dataset.id||null;for(let e=t.length-1;e>-1;--e){let l=t[e].dataset.postid,a=i.createElement("a"),n=i.createElement("span"),_=i.createElement("span"),s=t[e].dataset.label||t[e].parentNode.dataset.label;if("disabled"!==s){a.href="javascript:;",a.className="tb_turn_on js-turn-on-builder",n.className="dashicons dashicons-edit",n.dataset.id=l,_.innerHTML=s||tbLoaderVars.turnOnBuilder,a.append(n,_);let d=i.tfClass("tf_edit_post_"+l)[0],c=d?.nextElementSibling;d&&!c?.classList.contains("tb_turn_on")?d.before(a):t[e].insertAdjacentElement(s?"beforeBegin":"afterEnd",a),l===o&&(r=!0)}}!1===r&&(o=null),e&&(e.tfClass("tbp_admin_bar_templates")[0]&&(r=!0),e.classList.toggle("tb_disabled_turn_on",!r))}if(i.body.dataset.tbAttached)return;const n=_=>{const s=_.target,d=!s||"#"!==s.getAttribute("href")&&s.href?null:s.closest(".js-turn-on-builder,.toggle_tb_builder");if(d&&!d.closest(".tb_disabled_turn_on")&&(s.closest(".js-turn-on-builder")||!d.classList.contains("toggle_tb_builder")||!s.href||s.parentNode.classList.contains("toggle_tb_builder"))){if(_.preventDefault(),_.stopPropagation(),!0===e.ThemifyStyles?.isWorking)return;const s=d.classList.contains("js-turn-on-builder")?d.childNodes[0].dataset.id:o;if(!s)return;i.body.tfOff(_.type,n),t.lazyDisable=t.lazyScrolling=!0,t.observer?.disconnect(),t.events.clear(),t.cssLazy.clear();let c,f={},b=[],m=e.scrollY,u=t.convert(i.tfTag("link")).concat(t.convert(i.tfTag("style"))),p=t.body.children(),h=i.createElement("div"),y=i.createElement("div"),v=i.createElement("div"),w=i.createElement("div"),g=i.createElement("div"),k=i.createElement("div"),x=i.createElement("iframe"),S=i.body,j=new Date,M=tbLoaderVars;if(null!==M.styles)for(let e in M.styles)if(""!==M.styles[e]){let r=e.includes("base.min.css")?"tf_base-css":e.includes("lightbox.css")?"themify-builder-lightbox-css":null,l=t.loadCss(e,r,M.styles[e]),o=i.querySelector("link#"+r);r&&(c=l),o?f[o.href]=1:f[e+"?ver="+M.styles[e]]=1,b.push(l)}l(),v.className="tb_workspace_container tf_abs_t tf_w tf_h tf_hidden tf_opacity",w.className="tb_vertical_bars tf_rel tf_h tf_w",g.id="tb_left_bar",k.id="tb_right_bar",g.className=k.className="tb_middle_bar tf_h tf_rel tf_hide",x.className="tb_iframe tf_w tf_h",x.id=x.name="tb_iframe",x.scrolling="yes",x.src=a+"&tb-id="+s,t.off("builder_load_module_partial tf_music_ajax_ready"),$(i).off("ajaxComplete"),h.className="tb_loader tf_loader tf_abs_c tf_box",y.id="tb_fixed_bottom_scroll",y.className="tb_fixed_scroll",S.prepend(y),w.append(g,x,k),v.appendChild(w),x.tfOn("load",(function(){let l,o=this.contentWindow;t.on("themify_builder_ready",(()=>{if(e.google){for(let t=i.querySelectorAll('script[src*="maps.googleapis.com"]'),e=t.length-1;e>-1;--e)t[e].remove();e.google=null}Promise.all(b).then((()=>{h.classList.remove("tf_hide"),h.tfOn("transitionend",(function(){this.classList.remove("tf_opacity"),this.classList.add("tf_hide")}),{passive:!0,once:!0}).classList.add("tf_opacity");const a=S.classList;let n="themify_builder_active builder-breakpoint-desktop";a.contains("archive")&&(n+=" archive"),"1"===M.isGlobalStylePost&&(n+=" gs_post"),a.contains("tb_preview_only")&&(n+=" tb_preview_only"),a.contains("tb_panel_docked")&&(n+=" tb_panel_docked",n+=a.contains("tb_panel_left_dock")?" tb_panel_left_dock":" tb_panel_right_dock"),a.contains("rtl")&&(n+=" rtl"),S.className=n,S.removeAttribute("style"),v.classList.remove("tf_hidden","tf_opacity");const _=o.tb_app.Builder.get().el.offsetTop;_>m&&(m=_),o.scrollTo(0,m),t.is_builder_active=!0,r((()=>{p.hide();for(let t=u.length-1;t>-1;--t){let e=u[t];if(e?.parentNode){let{href:t,id:i}=e;t?f[t]||t.includes("themify-builder-loader")||t.includes("wp-includes")||t.includes("admin-bar")||t.includes("themify-builder/css/editor/modules")||e.remove():"tf_fonts_style"!==i&&"tf_lazy_common"!==i&&e.remove()}}u=f=b=tbLoaderVars=M=null,$(".themify_builder_content,#wpadminbar,header").remove(),p.filter("ul,a,video,audio").filter(":not(:has(link))").remove();const a=["scroll","tfsmartresize","debouncedresize","throttledresize","resize","mouseenter","keydown","keyup","mousedown","mouseup","mouseleave","mousemove","assignVideo"],n=$(e),_=$(i),s=$(S);for(let t=a.length-1;t>-1;--t)n.off(a[t]),_.off(a[t]),s.off(a[t]);i.documentElement.removeAttribute("style"),i.documentElement.removeAttribute("class");let d=o.document;r((()=>{r((()=>{const i=["ThemifyBuilderModuleJs","c","_wpemojiSettings","twemoji","themifyScript","tbLocalScript","tbScrollHighlight","ThemifyGallery","Animation","$f","Froogaloop","SliderProSlide","SliderProUtils","ThemifySlider","FixedHeader","LayoutAndFilter","WOW","Waypoint","$slidernav","Microsoft","Rellax","module$contents$MapsEvent_MapsEvent","module$contents$mapsapi$overlay$OverlayView_OverlayView","wc_add_to_cart_params","woocommerce_params","wc_cart_fragments_params","wc_single_product_params","tf_mobile_menu_trigger_point","themifyMobileMenuTrigger"];for(let t=28;t>-1;--t)e[i[t]]&&(e[i[t]]=null);e.wp.emoji=null,e.ajaxurl=themify_vars.ajax_url;for(let t=d.querySelectorAll("[data-lazy]"),e=t.length-1;e>-1;--e)t[e].removeAttribute("data-lazy");o=l=d=t.editorLoaded=null}),5e3)}),1e3)}),800)}))}),!0).on("tb_load_iframe",(()=>{const t=()=>{o.themifyBuilder.post_ID=s;const t=d.parentNode.tfClass("themify_builder_content-"+s)[0];if(t){const e=i.tfClass("themify_builder_content-"+s);if(e.length>1)for(let i=e.length-1;i>-1;--i)if(e[i]===t){o.themifyBuilder.builderIndex=i;break}}l=o.Themify,l.trigger("builderiframeloaded",this)};if(o.__rocketLoaderLoadProgressSimulator){const e=setInterval((()=>{"complete"===o.__rocketLoaderLoadProgressSimulator.simulatedReadyState&&(clearInterval(e),t())}),10)}else t()}),!0,t.editorLoaded)}),{once:!0,passive:!0}),S.appendChild(h),c.then((()=>{j.setTime(j.getTime()+3e3),i.cookie="tb_active="+s+";expires="+j.toUTCString()+";SameSite=Strict;path="+a,S.appendChild(v),r((()=>{i.cookie="tb_active=;SameSite=Strict;path="+a+";Expires=Thu, 01 Jan 1970 00:00:01 GMT;"}),600)}))}};if(i.body.tfOn(t.click,n).dataset.tbAttached=1,!i.body.classList.contains("tb_restriction")&&!e.location.href.includes("tb-id")&&"#builder_active"===e.location.hash){const r=i.querySelector(".toggle_tb_builder > a");r&&t.triggerEvent(r,t.click),e.location.hash=""}};t.on("tf_init",o,!0,e.loaded).on("tf_music_ajax_ready",o)})(Themify,window,document,setTimeout);