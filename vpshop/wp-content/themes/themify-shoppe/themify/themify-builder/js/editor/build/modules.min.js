((e,t,i,l,o,s,a,_,n,r,d,c,p,h,m,u,b,g,f)=>{"use strict";const y=e.click,w=tb_createDocumentFragment,v=tb_createElement,x=tb_createElementNS;(o=>{const s={i:"tb_clipboard",async l(e,t){const i=c.stringify({[e]:t});try{await navigator.clipboard.writeText(i)}catch(e){}h.setItem(this.i,i)},async o(e){let t;try{t=await navigator.clipboard.readText()}catch(e){t=h.getItem(this.i)}return t&&(t=c.parse(t)),t?.[e]||!1}};o.Base=class{constructor(e){this.fields={...this.defaults(),...e}}initialize(){const e=this;e.fields.element_id??=o.Helper.generateUniqueID(),e.id=e.fields.element_id,e.el=v(),"module"!==e.type&&e.el.appendChild(i.tfId("tmpl-builder_"+e.type+"_item").content.cloneNode(!0)),e.setHtmlAttributes(),o.Registry.add(e)}static getOptions(e){return[{id:"custom_css_"+e,type:"custom_css"},{type:"clickable"}]}async setData(e,t){o.Helper.clearElementId([e],!0);const i="module"===this.type?o.Module.initModule(e):new(o.Module.getModuleClassName(this.get("mod_name")))(e,this.isSubCol);if(t.replaceWith(i.el),o.isVisual)return i.reCreate();o.Utils.runJs(i.el)}get(e){const t=this,{type:i,fields:l}=t,o="module"===i?"mod_settings":"styling";return"element_id"===e?t.id:"mod_name"===e?"module"===i?l[e]:i:"sizes"===e||"cols"===e||"modules"===e||"mod_settings"===e||"styling"===e?"sizes"===e||"cols"===e||"modules"===e?l[e]:l[o]:t.defaults()[e]!==f?l[e]:"row"!==i&&"subrow"!==i&&("column"!==i||"grid_class"!==e&&"grid_width"!==e)||"grid_class"!==e&&"grid_width"!==e&&"gutter"!==e&&"column_alignment"!==e&&"column_h"!==e&&"desktop_dir"!==e&&"tablet_landscape_dir"!==e&&"tablet_dir"!==e&&"mobile_dir"!==e&&"col_tablet_landscape"!==e&&"col_tablet"!==e&&"col_mobile"!==e?l[o][e]:l[e]}set(e,t){const i=this,l="module"===i.type?"mod_settings":"styling",o=i.fields;return"cols"===e||"modules"===e||"sizes"===e||"mod_settings"===e||"styling"===e||"element_id"===e?("sizes"!==e&&"cols"!==e&&"modules"!==e&&("element_id"===e?i.id=t:e=l),o[e]=t):i.defaults()[e]!==f?o[e]=t:o[l][e]=t,i}unset(e){return"mod_settings"!==e&&"styling"!==e||(e="module"===this.type?"mod_settings":"styling"),delete this.fields[e],this}destroy(){o.Registry.remove(this.id)}setHtmlAttributes(){const e=this.attributes();e["data-cid"]=this.id,e.draggable=!0;for(let t in e)this.el.setAttribute(t,e[t])}getData(){let e={},t=this.type;if("column"===t||"module"===t){const i=this.el.closest(".active_subrow,.module_row");e:for(let l=o.Utils.getRowSettings(i,i.classList.contains("active_subrow")?"subrow":"row").cols,s=l.length-1;s>-1;--s){let i=l[s];if("module"===t){if(i.modules)for(let t=i.modules.length-1;t>-1;--t)if(i.modules[t].element_id===this.id){e=i.modules[t];break e}}else if(i.element_id===this.id){e=i;break}}}else e=o.Utils.getRowSettings(this.el,t);return e}fixSafariSrcSet(){if(!0===o.isSafari&&o.isVisual){const e=this.el.querySelectorAll("img[srcset]");for(let t=e.length-1;t>-1;--t)e[t].outerHTML=e[t].outerHTML}}visibilityLabel(){if("column"!==this.type){const e=this,t=e.id===o.activeModel?.id&&"visibility"===ThemifyConstructor.clicked?o.Forms.serialize("tb_options_visibility"):e.get("mod_settings");if(t){const i=("subrow"===e.type?e.el.tfClass("module_subrow")[0]:e.el).querySelector(":scope>.tb_visibility_hint"),l={visibility_desktop:g.de,visibility_mobile:g.mo,visibility_tablet:g.ta,visibility_tablet_landscape:g.table_landscape,sticky_visibility:g.s_v};if(null!==i){let e="";if("hide_all"===t.visibility_all)e=g.h_a;else{let i;for(let o in l)i=""===e?"":", ",e+="hide"===t[o]?i+l[o]:""}if(""!==e){i.tfTag("svg")[0]===f&&i.appendChild(o.Helper.getIcon("ti-eye"));let t=i.tfTag("span")[0];t===f?i.appendChild(v("span","",e)):t.textContent=e,i.classList.add("tb_has_visiblity")}else i.classList.remove("tb_has_visiblity")}}}}setBreadCrumbs(e){!0!==o.isGSPage&&(e=e.tfClass("tb_action_breadcrumb")[0])!==f&&(e.replaceChildren(),this.el.isConnected&&"row"!==this.type&&(o.LightBox.el.contains(e)&&e.tfOn(y,(e=>{const t=e.target.dataset.id;t&&(e.preventDefault(),e.stopPropagation(),o.Registry.get(t)?.edit())})),e.appendChild(this.getBreadCrumbs())))}getBreadCrumbs(){const e=[this.id],t=o.Builder.get().el,i=w();if(!0!==o.isGSPage){let l=this.el;while(1){if(l=l.parentNode.closest("[data-cid]"),!l||!t.contains(l))break;e.push(l.dataset.cid)}for(let t=e.length-1;t>-1;--t){let l=o.Registry.get(e[t]),s=l.get("mod_name"),a=v("span","tb_bread tb_bread_"+s+" tf_inline_b tf_box tf_rel",!0===l.isSubCol?"Sub-Column":s);this.id===e[t]&&(a.className+=" tb_active_bc"),a.dataset.id=e[t],i.appendChild(a)}}return i}async duplicate(e){o.activeModel&&this.el.contains(o.activeModel.el)&&await o.LightBox.save(),!0!==e&&o.undoManager.start("duplicate",this.id);const t=this.getData(),i=v();this.el.after(i),await this.setData(t,i),o.ModulePageBreak.countModules(),!0!==e&&o.undoManager.end("duplicate")}async delete(e){const t=o.activeModel,i=t===this;if(!i&&t&&this.el.contains(t.el)&&await o.LightBox.save(),!0===e||t?.is_new||o.undoManager.start("delete",this.id),"column"===this.type)await o.Drop.column(this.el);else if("subrow"===this.type){const e=this.el.parentNode,t=e.classList;if(1===e.childElementCount&&(t.contains("tab-content")||t.contains("accordion-content")||t.contains("tb_toggle_1")||t.contains("tb_toggle_2"))){const t=v();e.prepend(t),o.Drop.row(t,"grid",1,!1)}}this.destroy(),o.ModulePageBreak.countModules(),!0===e||t?.is_new||o.undoManager.end("delete"),i&&o.LightBox.close()}async copy(){o.activeModel&&this.el.contains(o.activeModel.el)&&await o.LightBox.save();const e=this.getData();if(l.keys(o.GS.styles).length){const t=o.GS.findUsedItems(e);t?.length&&(e.attached_gs=t)}o.Helper.clearElementId([e]),s.l(this.type,e),o.ActionBar.clear()}paste(e,t){return new n((async(i,l)=>{await o.LightBox.save();let a=this.get("mod_name"),_=await s.o(this.type);if(!1===_||e&&"module"===this.type&&a!==_.mod_name)return TF_Notification.showHide("error",g.text_alert_wrong_paste),void l();if(!0===e){const e=ThemifyStyles.getStyleOptions(a),t="module"===this.type?"mod_settings":"styling",i=this.getData(),l=t=>{let i=t.includes("_color")?"color":!!t.includes("_style")&&"style",l=e[i]?.type;if("radio"===l||t.includes("breakpoint_")||t.includes("_apply_all"))return!0;if(!1!==i){if(i=t.replace("_"+i,"_width"),"border"===l)return!0}else if(t.includes("_unit")){if(i=t.replace(/_unit$/gi,"",""),e[i]!==f)return!0}else if(t.includes("_w")&&(i=t.replace(/_w$/gi,"",""),"font_select"===l))return!0;return!1};i[t]??={};for(let o in _[t])e[o]!==f||l(o)?(i[t][o]=_[t][o],e[o]!==f&&(!0===e[o].isFontColor&&_[t][e[o].g+"-gradient"]!==f?i[t][e[o].g+"-gradient"]=_[t][e[o].g+"-gradient"]:(e[o].posId!==f&&_[t][e[o].posId]!==f&&(i[t][e[o].posId]=_[t][e[o].posId]),e[o].repeatId!==f&&_[t][e[o].repeatId]!==f&&(i[t][e[o].repeatId]=_[t][e[o].repeatId])))):delete _[t][o];_.used_gs!==f&&(i.used_gs=_.used_gs),_=i,delete _.element_id}!0!==t&&o.undoManager.start("paste",this.id),this.setData(_,this.el),o.ModulePageBreak.countModules(),i(),!0!==t&&o.undoManager.end("paste")}))}async save(t){await o.LightBox.save(),t??=this.el.querySelector(".tb_"+this.type+"_action").getBoundingClientRect(),o.LightBox.el.classList.add("tb_save_module_lightbox");const i={contructor:!0,loadMethod:"html",save:{done:"save"},data:{["s"+this.type]:{options:[{id:"item_title_field",type:"text",label:"title"},{id:"item_layout_save",type:"checkbox",label:"",options:[{name:"layout_part",value:"slayout_part"}],after:"",help:'Any changes made to a Layout Part are saved and reflected everywhere else they are being used (<a href="https://themify.me/docs/builder#layout-parts" target="_blank">learn more</a>)'}]}}},l=await o.LightBox.setStandAlone(t.left,t.top).open(i),s=async t=>{if(t.stopPropagation(),"keydown"!==t.type)t.preventDefault();else if("Enter"!==t.code)return;o.Spinner.showLoader("show");let i,s=this.type;if("row"===s)i=o.Utils.getRowSettings(this.el,this.type,!0),o.Helper.clearElementId([i],!0);else if("module"===s){const e=o.Helper.cloneObject(this.get("mod_settings"));this.constructor.builderSave(e),i={mod_name:this.get("mod_name"),element_id:o.Helper.generateUniqueID(),mod_settings:e}}const a=o.Forms.serialize(l),_=o.GS.findUsedItems(i),n=a.item_layout_save,r={action:"tb_save_custom_item",item_title_field:a.item_title_field,item:c.stringify(i),type:s};n&&(r.item_layout_save=1),!1!==_&&(r.usedGS=_);try{const t=await o.LocalFetch(r);if("success"===t.status){if(n&&await o.Utils.saveCss([i],"",t.id),delete t.status,o.MainPanel.el.tfClass("panel_search")[0].value="",n){const e={mod_name:"layout-part",mod_settings:{selected_layout_part:t.post_name}};let i,l;if(ThemifyConstructor.layoutPart.data.length>0&&ThemifyConstructor.layoutPart.data.push(t),"row"===s){l=new o.Row({cols:[{grid_class:"col-full",element_id:o.Helper.generateUniqueID(),modules:[e]}]}).el,i=o.Registry.get(l.tfClass("active_module")[0].dataset.cid)}else i=o.Module.initModule(e),l=i.el;this.el.replaceWith(l),o.isVisual&&i.previewReload(i.get("mod_settings"))}if(o.Library){let i=[o.MainPanel.el,o.SmallPanel.el],l=o.Library.create([t]);for(let t=i.length-1;t>-1;--t){let o=i[t].tfClass("library_container")[0];if(o){let t=o.closest(".panel_tab").querySelector(".library_tab .current");o.appendChild(l.cloneNode(!0)),t&&e.triggerEvent(t,y)}}}o.Spinner.showLoader("done"),o.LightBox.close()}else o.LiteLightBox.alert(t.msg)}catch(t){o.Spinner.showLoader("error")}},a=l.tfClass("builder_save_button")[0],_=l.tfTag("input")[0];a.tfOn(y,s),_.tfOn("keydown",s,{passive:!0}),e.on("themify_builder_lightbox_close",(()=>{l.classList.remove("tb_save_module_lightbox"),a.tfOff(y,s),_.tfOff("keydown",s,{passive:!0})}),!0)}import(){return new n((async(t,i)=>{await o.LightBox.save();const l=this.el.querySelector(".tb_"+this.type+"_action").getBoundingClientRect(),s=!0===this.isSubCol?"SubColumn":this.get("mod_name"),a=s.charAt(0).toUpperCase()+s.slice(1),_="subrow"===this.type?"Sub-Row":!0===this.isSubCol?"Sub-Column":a,n={contructor:!0,loadMethod:"html",data:{component_form:{name:g.import_tab.replace("%s",a),options:[{id:"tb_data_field",type:"textarea",label:g.import_label.replace("%s",_),help:g.import_data.replace("%s",a),class:"fullwidth",rows:13}]}}};o.LightBox.el.classList.add("tb_import_export_lightbox");const r=await o.LightBox.setStandAlone(l.left,l.top).open(n),d=async e=>{e.preventDefault(),e.stopPropagation();const l=r.querySelector("#tb_data_field").value;if(""===l)return t(),void o.LightBox.close();let s=c.parse(l);if(s.component_name!==this.type)return TF_Notification.showHide("error",g.text_alert_wrong_paste),void i();o.undoManager.start("import",this.id),s.used_gs!==f&&(s=await o.GS.setImport(s.used_gs,s)),delete s.component_name,await this.setData(o.Base.builderSave(s,"empty"),this.el),o.ModulePageBreak.countModules(),o.LightBox.close(),o.undoManager.end("import")},p=r.tfClass("builder_save_button")[0];p.tfOn(y,d),e.on("themify_builder_lightbox_close",(e=>{e.classList.remove("tb_import_export_lightbox"),p.tfOff(y,d),t()}),!0)}))}async export(){await o.LightBox.save();const t=this.el.querySelector(".tb_"+this.type+"_action").getBoundingClientRect(),i=!0===this.isSubCol?"SubColumn":this.get("mod_name"),s=i.charAt(0).toUpperCase()+i.slice(1),a="subrow"===this.type?"Sub-Row":!0===this.isSubCol?"Sub-Column":s,_={contructor:!0,loadMethod:"html",save:!1,data:{component_form:{name:g.export_tab.replace("%s",s),options:[{id:"tb_data_field",type:"textarea",label:g.import_label.replace("%s",a),help:g.export_data.replace("%s",s),class:"fullwidth",rows:13,readonly:!0}]}}};o.LightBox.el.classList.add("tb_import_export_lightbox");const n=await o.LightBox.setStandAlone(t.left,t.top).open(_),r=this.getData(),d=o.GS.findUsedItems(r),p=n.querySelector("#tb_data_field"),h=function(e){e.stopImmediatePropagation(),this.select()};if(r.component_name=this.type,!1!==d){const e={};for(let t=d.length-1;t>-1;--t){let i=o.GS.styles[d[t]],s=o.Helper.cloneObject(i.data[0]);"row"===i.type||"subrow"===i.type?s=s.styling:s.cols!==f?(s=s.cols[0],s&&(s="column"===i.type?s.styling:s.modules?.[0].mod_settings||f)):s=f,s!==f&&l.keys(s).length>0&&(e[d[t]]={title:i.title,type:i.type,data:o.Base.builderSave(s,"empty")})}l.keys(e).length&&(r.used_gs=e)}p.tfOn(y,h,{passive:!0}).value=c.stringify(r),e.on("themify_builder_lightbox_close",(e=>{e.classList.remove("tb_import_export_lightbox"),p.tfOff(y,h,{passive:!0})}),!0)}async edit(t){if(o.isPreview||!0===this.isEmpty)throw"";const i=this,l=i.get("mod_name"),s="editBuilder"===t&&o.isVisual,_=o.LightBox,n=_.el;if("edit"!==t&&"swap"!==t||(t=""),i.tab=t||"setting",null!==o.activeModel){if(!1===s&&o.activeModel.id===i.id){const t=n.querySelector('a[data-id="tb_options_'+i.tab+'"]');return t&&e.triggerEvent(t,y),delete i.tab,n}await _.save(),o.ActionBar.clearClicked()}if(!0===s)i.editLayoutPart();else{i.setBreadCrumbs(n);const t=i.el,s={setting:{options:i.constructor.getOptions(l),name:i.constructor.getSettingsName(l)},styling:{options:o.styleData[l]},visibility:i.constructor.getVisibility?.()??!0,animation:i.constructor.getAnimation?.()??!0};!1!==this.constructor.enableTooltip?.()&&s.setting.options.push({type:"tooltip"}),e.trigger("tb_edit_component",{data:s,slug:l}),await _.open(s,i),t.classList.add("tb_current_module"),a((()=>{t&&(t.classList.add("tb_outline_anim"),a((()=>{t?.classList.remove("tb_current_module","tb_outline_anim")}),310))}),2700)}return delete i.tab,n}async restore(){const e=this,{el:t,type:i}=e,l=t.attributes;while(l.length>0)t.removeAttribute(l[0].name);if(e.setHtmlAttributes(),o.isVisual){const l=o.undoManager.getState("saveLightbox");if(l){const s=o.undoManager.getDiff("saveLightbox",l,o.undoManager.getCurrentState("saveLightbox"));o.undoManager.clear("saveLightbox"),o.ActionBar.clear(),s.styles&&o.undoManager.styleChanges(s.styles,"old",!s.html),"module"===i?await e.visualPreview(o.restoreVals):(await o.bootstrap([e.id],f,!1),o.isVisual&&o.Utils.runJs(t,i))}}else"module"===i&&e.backendLivePreview(o.restoreVals)}options(e,t){let i,l,s;const a="INPUT"===e.tagName&&"hide_anchor"!==t?"keyup":"change",_=(e,t,i)=>{const l=e.closest(".tb_lb_option").id;if(o.activeModel?.id===this.id){if(!o.LightBox.el.contains(e)){const e=o.LightBox.el.querySelector("#"+l);if(e){const i=e.closest("[data-type]").dataset.type;if("layout"===i){for(let i=e.children,l=i.length-1;l>-1;--l)i[l].classList.toggle("selected",i[l].id===t);t||e.children[0].classList.add("selected")}else"checkbox"===i?e.tfClass("tb_checkbox")[0].checked=!!t:e.value=t}}}else"row"===this.type&&"change"===i&&!e.parentNode.tfClass("tb_field_error_msg")[0]&&o.undoManager.has("rowOptions")&&(this.set(l,t),o.undoManager.end("rowOptions"))};if("custom_css_id"===t)i=e=>{const t=e.currentTarget,i=t.id,l=o.activeModel?.id===this.id?o.LightBox.el.querySelector("#"+i):null,s=l?.parentNode.tfClass("tb_field_error_msg")[0],a=t.parentNode.tfClass("tb_field_error_msg")[0],_=this.el.tfClass("tb_row_id")[0],n=o.Forms.getValidator("custom_css_id")(t,this.el),r=t.value;if(l&&(l.value=r),!0===n)return a?.remove(),s?.remove(),l?.classList.remove("tb_field_error"),"row"!==this.type||o.activeModel?.id===this.id||o.undoManager.has("rowOptions")||o.undoManager.start("rowOptions",this),this.el.id=r,_.textContent=r,r;this.el.removeAttribute("id"),_.textContent=this.get(i);const d=!1===n?g.errorId:n;if(a)a.textContent=d,s&&(s.textContent=d);else{const e=v("span","tb_field_error_msg",d);t.after(e),!l||s||o.LightBox.el.contains(t)||(l.classList.add("tb_field_error"),l.after(e.cloneNode(!0)))}return!1};else if("custom_css"===t){let t=e.value;i=e=>{o.Forms.getValidator("custom_css")(e.currentTarget);const i=e.currentTarget.value.trim();if("row"!==this.type||o.activeModel?.id===this.id||o.undoManager.has("rowOptions")||o.undoManager.start("rowOptions",this),i&&o.isVisual){const e=("module"===this.type?this.el.tfClass("module")[0]:"subrow"===this.type?this.el.tfClass("module_subrow")[0]:this.el).classList,l=i.split(" ");if(t){const i=t.split(" ");for(let t=i.length-1;t>-1;--t)i[t]=i[t].trim(),i[t]&&e.remove(i[t])}for(let t=0;t<l.length;++t)l[t]=l[t].trim(),l[t]&&e.add(l[t]);t=i}return i}}else"layout"===t?i=e=>{"row"===this.type&&o.activeModel?.id!==this.id&&o.undoManager.start("rowOptions",this);const t=e.currentTarget.closest(".tb_lb_option"),i=t.tfClass("selected")[0].id,l=t.id;if(o.isVisual)o.liveStylingInstance.bindRowWidthHeight(l,i,this.el);else{const e=this.el.classList;"row_height"===l?e.toggle("fullheight","fullheight"===i):(e.remove("fullwidth","fullwidth_row_container"),"fullwidth"===i?e.add("fullwidth_row_container"):"fullwidth-content"===i&&e.add("fullwidth"))}return i}:"row_anchor"===t?i=e=>{"row"!==this.type||o.activeModel?.id===this.id||o.undoManager.has("rowOptions")||o.undoManager.start("rowOptions",this),o.Forms.getValidator("row_anchor")(e.currentTarget);const t=e.currentTarget.value,i=this.el;if(o.isVisual){const e=i.classList,l=i.dataset.anchor;l&&e.remove("tb_section-"+l,"tb_has_section"),""!==t?(e.add("tb_section-"+t,"tb_has_section"),i.dataset.anchor=t):i.removeAttribute("data-anchor")}return i.tfClass("tb_row_anchor")[0].textContent=t,t}:"hide_anchor"===t&&(i=e=>{"row"===this.type&&o.activeModel?.id!==this.id&&o.undoManager.start("rowOptions",this);const t=e.currentTarget,i=t.checked?t.value:null;return o.isVisual&&this.el.toggleAttribute("data-hide-anchor","1"===i),i});e.tfOn(a,(e=>{const t=i(e);if(!1!==t){let i=e.currentTarget;_(i,t,e.type),"keyup"===e.type&&(s||(s=()=>{i&&(i.tfOff("focusout",s,{passive:!0,once:!0}),clearInterval(l),_(i,i.value,"change"),o.undoManager.clear("rowOptions"),l=i=s=null)},i.tfOn("focusout",s,{passive:!0,once:!0})),l=setInterval((()=>{i&&!i.isConnected&&(clearInterval(l),l=null,s?.())}),1e3))}}),{passive:!0}),o.isVisual||"keyup"!==a||e.tfOn("keydown focusin focusout copy paste",(e=>{e.stopPropagation()}),{passive:!0})}static getStylingValue(e,t,i){let l;if("desktop"===t)i[e]!==f&&""!==i[e]&&(l=i[e]);else if(i["breakpoint_"+t]?.[e]!==f&&""!==i["breakpoint_"+t][e])l=i["breakpoint_"+t][e];else{const s=o.breakpointsReverse;for(let o=s.indexOf(t)+1;o<s.length;++o)if("desktop"!==s[o]){if(i["breakpoint_"+s[o]]?.[e]!==f&&""!==i["breakpoint_"+s[o]][e]){l=i["breakpoint_"+s[o]][e];break}}else if(i[e]!==f&&""!==i[e]){l=i[e];break}}return l}static clearDuplicatStyles(e){const t=o.breakpointsReverse,i=["font_size","line_height","letter_spacing","f_s_h","font_size_module_title","line_height_module_title","f_s_m_t_h","font_size_title","line_height_title","letter_spacing_title","f_s_t_h"];for(let o=0,s=t.length;o<s-1;++o){let a=e["breakpoint_"+t[o]];if(a){let _=[];for(let i=o+1;i<s;++i){let l="desktop"===t[i]?e:e["breakpoint_"+t[i]];l&&_.push(l)}if(_.length>0)for(let e in a){let t=a[e];if(""===t||"false"===t||t===f||null===t)delete a[e];else{let i="string"==typeof t?!isNaN(t):"number"==typeof t,l=!1;if(i){let l=d(t);null!==l&&!isNaN(l)&&isFinite(l)?a[e]=t=l:i=!1}for(let o=0;o<_.length;++o)if(_[o][e]!==f){(_[o][e]===t||i&&t===d(_[o][e]))&&delete a[e],l=!0;break}!1===l&&1===_.length&&(!1===t||180===t&&e.includes("-gradient-angle")||"linear"===t&&e.includes("-gradient-type"))&&delete a[e]}}this.clearUnits(i,t[o],e),0===l.keys(a).length&&delete e["breakpoint_"+t[o]]}}}static clearUnits(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f)for(let s=e.length-1;s>-1;--s){let a=e[s]+"_unit";o(e[s],t,i)===f?(delete l[e[s]],delete l[a]):"desktop"===t&&"px"===o(a,t,i)&&delete l[a]}}static clearFontWeights(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f)for(let s=e.length-1;s>-1;--s)o(e[s],t,i)===f&&(delete l[e[s]],delete l[e[s]+"_w"])}static clearImageGradient(e,t,i,l,o,s){const a="desktop"===o?s:s["breakpoint_"+o],_=this.getStylingValue;if(a!==f){const n=e+"-gradient";"image"===(_(e+"-type",o,s)||"image")?(delete a[n],this.clearGradient(e,o,s),_(e,o,s)===f&&(delete a[i],delete a[l])):(delete a[e],delete a[t],delete a[i],delete a[l]),_(e,o,s)===f&&_(n,o,s)===f&&delete a[e+"-type"]}}static clearFontColor(e,t,i,l,o){const s="desktop"===l?o:o["breakpoint_"+l],a=this.getStylingValue;if(s!==f){const _=i+"-gradient";(a(e,l,o)||t+"_solid")===t+"_solid"?(delete s[_],this.clearGradient(i,l,o)):delete s[t],a(t,l,o)===f&&a(_,l,o)===f&&delete s[e]}}static clearShadow(e,t,i,l){const o="desktop"===i?l:l["breakpoint_"+i],s=this.getStylingValue;if(o!==f){let a=t?["hOffset","vOffset","blur","spread"]:["hShadow","vShadow","blur"],_=!0;for(let t=a.length-1;t>-1;--t){let n=e+"_"+a[t];s(n,i,l)===f?delete o[n+"_unit"]:(_=!1,"desktop"===i&&"px"===s(n+"_unit",i,l)&&delete o[n+"_unit"])}!0===_&&(delete o[e+"_color"],t&&delete o[e+"_inset"])}}static clearMarginOpposity(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t];l!==f&&delete l[e+"_opp_top"]}static clearWidth(e,t,i,l,o,s){const a="desktop"===t?i:i["breakpoint_"+t],_=this.getStylingValue;if(a!==f){const n=e+"_auto_"+(l?"height":"width"),r=_(n,t,i);r&&"|"!==r&&"false"!==r?delete a[e]:"desktop"===t&&delete a[n],o||(o=l?"mi_h":"min_"+e),s||(s=l?"mx_h":"max_"+e),_(e,t,i)&&"px"!==_(e+"_unit",t,i)||delete a[e+"_unit"],_(o,t,i)&&"px"!==_(o+"_unit",t,i)||delete a[o+"_unit"],_(s,t,i)&&"px"!==_(s+"_unit",t,i)||delete a[s+"_unit"]}}static clearFilter(e,t,i,l){const o="desktop"===i?l:l["breakpoint_"+i],s=this.getStylingValue;if(o!==f&&s(e,i,l)){let a=!0;for(let e=["hue","saturation","brightness","contrast","invert","sepia","opacity","blur"],o=e.length-1;o>-1;--o)if(s(t+"_"+e[o],i,l)!==f){a=!1;break}!0===a&&delete o[e]}}static clearTransform(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f){let s=!0;for(let a=["skew","rotate","translate","scale"],_=a.length-1;_>-1;--_){let n=e+"_"+a[_]+"_",r=o(n+"opp_bottom",t,i),d=o(n+"top",t,i);d!==f&&"px"!==o(n+"top_unit",t,i)||delete l[n+"top_unit"],o(n+"bottom",t,i)!==f&&"px"!==o(n+"bottom_unit",t,i)||delete l[n+"bottom_unit"],r&&"false"!==r&&"|"!==r&&d!==f?delete l[n+"bottom"]:delete l[n+"opp_bottom"],d===f&&o(n+"bottom",t,i)===f||(s=!1)}!0===s&&delete l[e+"position"]}}static clearGradient(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f){let s=o(e+"-gradient-type",t,i)||"linear";o(e+"-gradient",t,i)?"desktop"===t&&"linear"===s&&delete l[e+"-gradient-type"]:(delete l[e+"-gradient-type"],s=null),("linear"!==s||"desktop"===t&&"180"===i[e+"-gradient-angle"]?.toString())&&delete l[e+"-gradient-angle"],"radial"===s&&("desktop"!==t||i[e+"-circle-radial"]&&"|"!==i[e+"-circle-radial"]&&"false"!==i[e+"-circle-radial"])||delete l[e+"-circle-radial"]}}static clearPosition(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t];if(l!==f){const o=this.getStylingValue(e,t,i),s=this.getStylingValue;for(let a=["top","left","right","bottom"],_=a.length-1;_>-1;--_){let n=e+"_"+a[_];o&&"static"!==o&&!s(n+"_auto",t,i)||(delete l[n],o&&"static"!==o||delete l[n+"_auto"]),s(n,t,i)!==f&&"px"!==s(n+"_unit",t,i)||delete l[n+"_unit"]}}}static clearBorder(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f){let s="all"===o(e+"-type",t,i),a=0;for(let _=["top","left","right","bottom"],n=_.length-1;n>-1;--n){let r=e+"_"+_[n]+"_",d="none"===o(r+"style",t,i);(s&&"top"!==_[n]||d||o(r+"width",t,i)===f||o(r+"color",t,i)===f)&&(delete l[r+"width"],delete l[r+"color"],(!d||s&&"top"!==_[n])&&(delete l[r+"style"],++a))}s&&4!==a||delete l[e+"-type"]}}static clearPadding(e,t,i){const l="desktop"===t?i:i["breakpoint_"+t],o=this.getStylingValue;if(l!==f){const s=o("checkbox_"+e+"_apply_all",t,i);"false"===s||"|"===s||null===s?l["checkbox_"+e+"_apply_all"]!==f&&(l["checkbox_"+e+"_apply_all"]=!1):s&&(delete l[e+"_bottom"],delete l[e+"_left"],delete l[e+"_right"],delete l[e+"_opp_top"],delete l[e+"_opp_bottom"]);for(let s=["top","left","right","bottom"],a=s.length-1;a>-1;--a){let _=e+"_"+s[a];o(_,t,i)===f?(delete l[_+"_unit"],"top"===s[a]&&delete l["checkbox_"+e+"_apply_all"]):"desktop"===t&&"px"===o(_+"_unit",t,i)&&delete l[_+"_unit"]}const a=o(e+"_opp_left",t,i),_=o(e+"_opp_bottom",t,i),n=o(e+"_opp_top",t,i);a&&"false"!==a&&"|"!==a&&o(e+"_left",t,i)!==f||delete l[e+"_opp_left"],_&&"false"!==_&&"|"!==_&&o(e+"_top",t,i)!==f||delete l[e+"_opp_bottom"],n&&"false"!==n&&"|"!==n&&o(e+"_top",t,i)!==f||delete l[e+"_opp_top"]}}static builderSave(e,i){e._||(delete e.p,delete e.u,delete e.v),e.v&&"px"!==e.S||delete e.S,delete e.cid,delete e.custom_parallax_scroll_reverse_reverse,"string"==typeof e.builder_content&&(e.builder_content=c.parse(e.builder_content));const s=e=>"object"==typeof e?_(e,Array.isArray(e)):""===e||e===f||"false"===e||"undefined"===e||null===e,a=t.tbpDynamic?.field_name||null,_=(e,t)=>{if(!0===t)for(let t=e.length-1;t>-1;--t)s(e[t])&&e.splice(t,1);else for(let t in e)if("null"===t||null===t||""===t||!1===t||!e.hasOwnProperty(t)||s(e[t]))delete e[t];else if(t===a)if("{}"===e[t])delete e[t];else{let i=e[t];if("string"==typeof i&&(i=c.parse(i)),l.keys(i).length>0){for(let e in i)i[e].repeatable===f&&i[e].item===f&&delete i[e];e[t]=i}else delete e[t]}};if(_(e),"empty"===i)return e;if("column"!==i){e.visibility_all&&(delete e.visibility_desktop,delete e.visibility_tablet_landscape,delete e.visibility_tablet,delete e.visibility_mobile),e.animation_effect||(delete e.animation_effect_delay,delete e.animation_effect_repeat),!1!==e.custom_parallax_scroll_reverse&&"|"!==e.custom_parallax_scroll_reverse&&"false"!==e.custom_parallax_scroll_reverse||delete e.custom_parallax_scroll_reverse,!1!==e.custom_parallax_scroll_fade&&"|"!==e.custom_parallax_scroll_fade&&"false"!==e.custom_parallax_scroll_fade||delete e.custom_parallax_scroll_fade,"s_e_s"!==e.animation_effect_tab&&delete e.animation_effect_tab;let t=!0;for(let i=o.breakpointsReverse,l=i.length-1;l>-1;--l){let o="desktop"===i[l]?"":"tablet_landscape"===i[l]?"_tl":"_"+i[l][0],s=e["stick_at_check"+o];s!==f&&""!==s&&"0"!==s&&0!==s?("top"===e["stick_at_position"+o]&&delete e["stick_at_position"+o],t=!1):(delete e["stick_at_position"+o],delete e["stick_at_pos_val"+o],delete e["unstick_when_check"+o]),e["stick_at_pos_val"+o]!==f&&""!==e["stick_at_pos_val"+o]&&"px"!==e["stick_at_pos_val"+o+"_unit"]||delete e["stick_at_pos_val"+o+"_unit"],e["unstick_when_check"+o]&&"builder_end"!==e["unstick_when_element"+o]||delete e["unstick_when_element"+o],"row"!==e["unstick_when_element"+o]&&delete e["unstick_when_el_row_id"+o],"module"!==e["unstick_when_element"+o]&&delete e["unstick_when_el_mod_id"+o],e["unstick_when_el_row_id"+o]||e["unstick_when_el_mod_id"+o]?"hits"===e["unstick_when_condition"+o]&&delete e["unstick_when_condition"+o]:(delete e["unstick_when_condition"+o],delete e["unstick_when_pos"+o]),"top"!==e["unstick_when_pos"+o]&&"bottom"!==e["unstick_when_pos"+o]&&("this"===e["unstick_when_pos"+o]&&delete e["unstick_when_pos"+o],delete e["unstick_when_pos_val"+o]),e["unstick_when_pos_val"+o]!==f&&""!==e["unstick_when_pos_val"+o]&&"px"!==e["unstick_when_pos_val"+o+"_unit"]||delete e["unstick_when_pos_val"+o+"_unit"]}if(!1===t)delete e.motion_effects;else if(e.motion_effects){const t=e.motion_effects;for(let e in t){let i=t[e]?.val;i?.[e+"_dir"]?("0,100"===i[e+"_vp"]&&delete i[e+"_vp"],i[e+"_speed"]!==f&&("v"===e&&1==~~i.v_speed||"h"===e&&9==~~i.h_speed)?delete i[e+"_speed"]:"b"===e&&5==~~i.b_level?delete i.b_level:"s"===e&&3==~~i.s_ratio?delete i.s_ratio:"r"===e&&1==~~i.r_num&&delete i.r_num):delete t[e]}}}for(let t in e){let i=e[t];if("|single"===i||"|multiple"===i||"show"===i&&0===t.indexOf("visibility_")||t===o.GS.key&&""===i.trim())delete e[t];else if("custom_parallax_scroll_speed"!==t||i)if("custom_parallax_scroll_reverse"!==t&&"custom_parallax_scroll_fade"!==t&&"visibility_all"!==t&&"sticky_visibility"!==t||i){if("breakpoint_mobile"===t||"breakpoint_tablet"===t||"breakpoint_tablet_landscape"===t)for(let e in i){let t=i[e];if(t===f||""===t||null===t)delete i[e];else if(e.includes("_unit",2)){let t=e.replace("_unit","");i[t]!==f&&""!==i[t]&&null!==i[t]||(delete i[e],""===i[t]&&delete i[t])}}"object"==typeof i&&i&&0===l.keys(i).length&&delete e[t]}else delete e[t];else delete e.custom_parallax_scroll_reverse,delete e.custom_parallax_scroll_fade,delete e[t]}this.clearDuplicatStyles(e);for(let t in e){let i=e[t];if(t.includes("gradient",3))(""+i=="180"||"linear"===i||i===jQuery.ThemifyGradient.default||!1===i&&t.includes("-circle-radial",3))&&delete e[t];else if("px"!==i&&"%"!==i||"w_map_unit"===t||!t.includes("_unit",2)){if("solid"===i||"none"===i&&t.includes("frame_layout"))delete e[t];else if(!1===i&&("background_image-type_image"===t||"resp_no_bg"===t||"background_image-css"===t||"background_gradient-css"===t||"cover_gradient-css"===t||"cover_gradient_hover-css"===t||"background_zoom"===t||"b_sh_inset"===t||"background_image-circle-radial"===t||"margin-top_opp_top"===t||"m_t_h_opp_top"===t||t.includes("padding_opp_")||t.includes("margin_opp_")||t.includes("_user_role",3)))delete e[t];else if(0===t.indexOf("checkbox_")&&t.includes("_apply_all",6)){i||delete e[t];let l=t.replace("_apply_all","").replace("checkbox_",""),o=["top","left","right","bottom"];for(let t=3;t>-1;--t){let i=l+"_"+o[t],s=i+"_unit";""!==e[i]&&null!==e[i]||delete e[i],"px"!==e[s]&&e[i]!==f||delete e[s]}}}else{let l=t.includes("frame_");(!l&&"px"===i||l&&"%"===i)&&delete e[t]}}if("column"===i){"row"===e.gdr&&delete e.gdr,"0"===e.g?.toString()&&delete e.g,e.g&&"px"!==e.g_unit||delete e.g_unit,"auto"===e.js&&delete e.js,"auto"===e.as&&delete e.as;for(let t=["jc","ji","ai","ac"],i=t.length-1;i>-1;--i)"inherit"===e[t[i]]&&delete e[t[i]]}return e}}})(tb_app),(t=>{t.Builder=class{static items=[];static index=-1;#e;emptyModules=new m;constructor(e,l,o){const s=e.classList,a=this;s.remove("not_editable_builder"),s.add("tb_active_builder","tf_rel"),a.id=e.dataset.postid,e.id="themify_builder_content-"+a.id,a.el=e,a.isSaved=!1,a.customCss=o||"",++t.Builder.index,t.Builder.items.push(a);const _=w();for(let e=0;e<l.length;++e){let i=new t.Row(l[e]);_.appendChild(i.el)}if(t.isVisual){let e="tb_custom_css_"+a.id,t=i.tfId(e);null===t&&(t=v("style",{id:e}),i.head.appendChild(t)),t.innerHTML=a.customCss}a.el.appendChild(_),t.Registry.on(a,"tb_init",a.init)}init(){t.isVisual&&a((()=>{t.Utils._onResize(!0)}),3e3),this.T(),a((()=>{t.Utils.setColumnsCount(this.el.tfClass("module_column")),t.isVisual||t.GS.init(),this.newRowAvailable(),this.insertLayoutButton(),t.ModulePageBreak.countModules(),this.emptyModules.size>0&&TF_Notification.showHide("warning",g.empty_modules.replace("%s",Array.from(this.emptyModules).join(", ")),1e4),this.emptyModules.clear()}),1e3)}static get(e){return e??=this.index,this.items[e]}destroy(){const e=this,l=e.el,o=l.classList,s=l.querySelectorAll("[data-cid]"),a=t.Builder.items,_=i.tfId("tb_custom_css_"+e.id);t.Registry.off(e),e.emptyModules.clear();for(let e=s.length-1;e>-1;--e)t.Registry.get(s[e].dataset.cid)?.destroy(!0);for(let i=a.length-1;i>-1;--i)if(a[i]===e){a[i]=null,a.splice(i,1),--t.Builder.index;break}l.replaceChildren(),l.removeAttribute("id"),o.remove("tb_active_builder","tf_rel"),o.add("not_editable_builder"),_?.remove()}toJSON(e){const i=[],o=this.el.children,s=e=>{for(let t=e.length-1;t>-1;--t)if(e[t].modules?.length>0||e[t].styling&&l.keys(e[t].styling).length>0)return!0;return!1};for(let a=0;a<o.length;++a)if(o[a].classList.contains("module_row")){let _=t.Utils.getRowSettings(o[a],"row",e);(!e||_.styling&&l.keys(_.styling).length>0||_.cols&&s(_.cols))&&i.push(_)}return i}removeLayoutButton(){for(let e=this.el.tfClass("tb_import_layout_button"),t=e.length-1;t>-1;--t)e[t].remove()}insertLayoutButton(){if(!0!==t.isGSPage){this.removeLayoutButton();const i=this.el.tfClass("module_row");if(i.length<2&&!i[0]?.tfClass("active_module")[0]){const i=v("a","tb_import_layout_button",g.text_import_layout_button);i.tfOn(y,(i=>{i.stopPropagation(),e.triggerEvent(t.ToolBar.el.tfClass("load_layout")[0],i.type)}),{passive:!0}).href="javascript:;",this.#e.getRootNode().host.before(i)}}}newRowAvailable(e){if(!0!==t.isGSPage){const i=this.el.children,l=!0===e?0:i.length;let o;if(0!==l)for(let e=l-1;e>-1;--e)if(i[e].tfClass("active_module")[0]===f&&i[e].classList.contains("module_row")){o=t.Registry.get(i[e].dataset.cid);break}return o||(o=new t.Row(t.Utils.grid(1)[0]),t.Utils.setColumnsCount(o.el.tfClass("module_column")),this.#e.getRootNode().host.before(o.el)),o}}T(){if(!(!0===t.isGSPage||this.#e&&this.el.contains(this.#e.getRootNode().host))){const l=v("",{class:"tb_disable_sorting tf_w tf_hidden",id:"tb_last_row_add_btn"}),o=i.tfId("tmpl-last_row_add_btn");l.attachShadow({mode:"open"}).appendChild(o.content.cloneNode(!0)),this.el.appendChild(l),this.#e=l.shadowRoot.tfId("container"),e.on("tb_toolbar_loaded",(()=>{a((()=>{const e=w();e.append(t.ToolBar.getBaseCss(),t.MainPanel.el.getRootNode().querySelector("#module_drag_grids_style").cloneNode(!0)),l.shadowRoot.prepend(e),l.classList.remove("tf_hidden"),a((()=>{this.#e.appendChild(i.tfId("tmpl-last_row_expand").content.cloneNode(!0))}),700),this.#e.tfOn(y,(function(e){e.stopPropagation();const i=e.target,l=i.closest(".tb_grid"),o=this.classList;if(null!==l)o.add("hide"),t.MainPanel.newGrid(l.dataset.slug,!1);else if(i.closest(".block")){const e=this.getRootNode().host;e.classList.remove("clicked"),o.add("hide"),t.SmallPanel.show(e)}else i.classList.contains("add_btn")&&o.remove("hide")}),{passive:!0})}),500)}),!0,!0===t.ToolBar?.isLoaded)}}async reLoad(e,l,o=!0){!0===l?await t.LightBox.save():t.LightBox.close();const s=this.el;let a=e.builder_data||e,_=e.custom_css||"",n=!t.isVisual||null===s.parentNode.closest(".themify_builder");if(a=t.Helper.correctBuilderData(a),!0===l?(a=this.toJSON().concat(a),_=this.customCss+_):!0===n&&!0===o&&t.GS.reset(),e.used_gs!==f){for(let i in e.used_gs){let l=e.used_gs[i];if(l.data?.[0]){let e=l.type,i=t.Helper.cloneObject(l.data),o=t.Helper.generateUniqueID();l.data=[{element_id:"row"+o}],"row"!==e&&"subrow"!==e?(l.data[0].cols=[{element_id:"col"+o}],"column"===e?l.data[0].cols[0].styling=i:l.data[0].cols[0].modules=[{mod_name:e,mod_settings:i}]):l.data[0].styling=i}else delete e.used_gs[i]}t.GS.styles={...t.GS.styles,...e.used_gs}}this.destroy();const r=new t.Builder(s,a,_);let d;if(!0===o&&t.undoManager.reset(),!0===n&&t.isVisual){t.liveStylingInstance.reset(),i.body.classList.add("sidebar-none","full_width");for(let e=i.querySelectorAll("#sidebar,.page-title"),t=e.length-1;t>-1;--t)e[t].remove()}else if(!1===n){d=[];const e=r.el.querySelectorAll("[data-cid]");for(let t=e.length-1;t>-1;--t)d.push(e[t].dataset.cid)}t.isVisual&&(await t.bootstrap(d,e.used_gs,!1),await t.setCss(r.toJSON()),await t.correctColumnPaddings()),t.Registry.trigger(r,"tb_init"),t.Utils.runJs(r.el,null,!0),t.Spinner.showLoader("done")}async save(){const i=t.ToolBar.el.tfClass("save_wrap")[0].classList;try{if(i.contains("disabled"))throw"isWorking";i.add("disabled"),await t.LightBox.save(),t.Spinner.showLoader();const l=t.Utils.getAllImages();try{await t.Utils.importThemifyImages(l.get("themify"))}catch(e){}const o=this.id,s=this.toJSON(!0),a=this.customCss||"";let _,r=l.get("local");r=r.size>0?c.stringify(Array.from(r)):"",await t.GS.setImport(t.GS.styles,null,!0);let d=c.stringify(s),p={sourceEditor:t.isVisual?"frontend":"backend",action:"tb_save_data",mode:"gzip",custom_css:a};try{const e=[t.Helper.gzip(d)];r&&e.push(t.Helper.gzip(r));const i=await n.all(e);if(p.data=i[0],i[1]&&(p.images=i[1]),_=await t.LocalFetch(p),!_.success)throw""}catch(e){try{if(delete p.mode,p.data=d,r&&(p.images=r),d=null,_=await t.LocalFetch(p),!_.success)throw _}catch(e){try{if(p.data=new Blob([p.data],{type:"application/json"}),_=await t.LocalFetch(p),!_.success)throw _}catch(e){throw await n.all([t.Spinner.showLoader("error"),TF_Notification.showHide("error",g.errorSaveBuilder,5e3)]),e}}}_=_.data;const h=await t.Utils.saveCss(s,a,o);return _.css_file=h.css_file,t.Spinner.showLoader("done"),e.trigger("themify_builder_save_data",_),this.isSaved=!0,_}catch(e){throw e}finally{i.remove("disabled")}}}})(tb_app),(_=>{_.Row=class extends _.Base{constructor(e){super(e),e.sizes?.length!==f&&(e.sizes={}),this.convertToGrid(e),this instanceof _.Subrow||(this.type="row",this.initialize(),this.render())}static getSettingsName(e){return g.ropt}static getOptions(){return[{id:"row_width",label:"rw",type:"layout",mode:"sprite",options:[{img:"row_default",label:"def"},{img:"row_fullwidth",value:"fullwidth",label:"box"},{img:"row_fullwidth_content",value:"fullwidth-content",label:"fw"}]},{id:"row_height",label:"rh",type:"layout",mode:"sprite",options:[{img:"row_default",label:"def"},{img:"row_fullheight",value:"fullheight",label:"fh"}]},{type:"grid"},{id:"custom_css_row",type:"custom_css"},{id:"row_anchor",type:"row_anchor",label:"ranc",class:"large",help:"ranch"},{id:"hide_anchor",type:"checkbox",label:"",options:[{name:"1",value:"hranc"}]},{type:"custom_css_id"},{type:"clickable"}]}initialize(){super.initialize()}defaults(){return{cols:[],styling:{}}}attributes(){const e=this.get("styling"),t={class:"module_row tb_active_row tb_"+this.id};return null!==e&&(e.custom_css_row!==f&&""!==e.custom_css_row&&(t.class+=" "+e.custom_css_row),"fullwidth-content"===e.row_width&&(t.class+=" fullwidth"),e.custom_css_id!==f&&""!==e.custom_css_id&&(t.id=e.custom_css_id)),t}render(){let e=!1,t=this.get("cols");Array.isArray(t)||(t=l.values(t));const i="subrow"===this.type,o=i?this.el.tfClass("module_subrow")[0]:this.el.tfClass(this.type+"_inner")[0],s=w(),a=t.length,n=[];if(a>0){a>1&&"rtl"===this.get("desktop_dir")&&(t=t.reverse());for(let l=0;l<a;++l)if(t[l]!==f&&null!==t[l]){let o=new _.Column(t[l],i);if(s.appendChild(o.el),!1===e){let t=o.get("modules");e=t?.length>0}a>1&&(0===l||l===a-1)&&o.el.classList.add(0===l?"first":"last")}if(n.push("tb_col_count_"+a),a>1){const e=this.get("sizes");if(!_.isFrontend){const t=_.breakpointsReverse,i=this.get("styling"),o={grid:l.assign({count:a,model:this},e)};o.grid.desktop_size??=a;for(let e=t.length-1;e>-1;--e){let l=ThemifyStyles.fields.grid.call(ThemifyStyles,"grid",this.type,{},o,this.id,i,t[e],!0);this.setGridCss(l,t[e])}}let t=e.desktop_align;t===f&&(t=!0===_.isFullSection?"center":"start"),t="start"===t?"top":"center"===t?"middle":"bottom",n.push("col_align_"+t),"rtl"===e.desktop_dir&&n.push("direction_rtl"),"narrow"!==e.desktop_gutter&&"none"!==e.desktop_gutter||n.push("gutter-"+e.desktop_gutter),1===e.desktop_auto_h&&n.push("col_auto_height")}}else{let e=new _.Column({},i);s.appendChild(e.el)}if(i)n.push("tb_"+this.id),o.prepend(s);else{const e=this.get("row_anchor"),t=this.get("custom_css_id");e!==f&&""!==e&&(this.el.tfClass("tb_row_anchor")[0].textContent=e||""),t!==f&&""!==t&&(this.el.tfClass("tb_row_id")[0].textContent=t),o.appendChild(s)}return o.className+=" "+n.join(" "),this.visibilityLabel(),this}convertToGrid(e){const t=_.breakpointsReverse,i=t.length,l=e.cols,o=l?.length||0;let s=e.sizes;if(s===f){s={};let a=e.column_alignment,_=e.column_h;if(o>1){const a=e.gutter;a&&"gutter"!==a&&"gutter-default"!==a&&(s.desktop_gutter=a.replace("gutter-",""));const _=s.desktop_gutter||"def",n=[],r=[];let c=!1;for(let e=0;e<o;++e){let t=l[e].grid_width;t&&(c=!0,r.push(t),delete l[e].grid_width),l[e].grid_class&&(n.push(l[e].grid_class),t||r.push(l[e].grid_class))}let p,h=c;if(!1===h&&"def"!==_&&n.length>0&&(p=ThemifyStyles.gridBackwardCompatibility(n),h=p.includes("_")),!0===h){const e=ThemifyStyles.getOldColsSizes(_);for(let t=r.length-1;t>-1;--t)if("string"==typeof r[t]&&r[t].includes("col")){let i=r[t].split(" ")[0].replace(/tb_3col|tablet_landscape|tablet|mobile|column|first|last/gi,"").trim();e[i]!==f?r[t]=e[i]:r.splice(t,1)}const t=b.min.apply(null,r);for(let e=r.length-1;e>-1;--e)r[e]=t===r[e]?"1fr":d((r[e]/t).toFixed(5))+"fr";p=r.join(" ")}else!p&&n.length>0&&(p=ThemifyStyles.gridBackwardCompatibility(n));p&&(p=ThemifyStyles.getColSize(p,!1),"1"!==p&&"2"!==p&&"3"!==p&&"4"!==p&&"5"!==p&&"6"!==p&&("rtl"!==e.desktop_dir||!0!==h&&!(""+p).includes("_")||(p=p.split(!0===h?" ":"_"),p=p.reverse(),p=p.join(!0===h?" ":"_")),s.desktop_size=p));for(let l=i-1;l>-1;--l){let a=t[l],_=e[a+"_dir"]||"ltr",n=e["col_"+a];if(s[a+"_dir"]="1"===_||1===_?"rtl":_,"desktop"!==a){let e=n&&"auto"!==n&&"-auto"!==n?ThemifyStyles.gridBackwardCompatibility(n):"auto";if("auto"===e)if(!0===c)e=p;else{let _,n=a[0];if(a.includes("_")&&(n+=a.split("_")[1][0]),_=ThemifyStyles.getAreaValue("--area"+n+o+"_"+e)||ThemifyStyles.getAreaValue("--area"+o+"_"+e),!_){for(let e=l+1;e<i;++e)if(_=s[t[e]+"_size"],_&&"auto"!==_){_=_.includes("fr")?_:ThemifyStyles.gridBackwardCompatibility(_);break}e=_||""+o}}else if(!(""+e).includes("_")&&e>0&&e<6&&o<e){e="";for(let o=l+1;o<i;++o)if(s[t[o]+"_size"]!==f){e=s[t[o]+"_size"];break}}s[a+"_size"]=""===e?"":ThemifyStyles.getColSize(e,!1)}delete e[a+"_dir"],delete e["col_"+a]}}a&&(a="col_align_top"===a?"":"col_align_middle"===a?"center":"end",""!==a&&(s.desktop_align=a)),s.desktop_auto_h=_?1:-1,delete e.column_alignment,delete e.gutter,delete e.column_h}else if(o>1)for(let e=0;e<i-1;++e)if(s[t[e]+"_size"]===f)for(let l=e+1;l<i-1;++l)if(s[t[l]+"_size"]!==f){s[t[e]+"_size"]=s[t[l]+"_size"];break}this.fields.sizes=s}isLightboxOpen(){return _.activeModel?.id===this.id&&null!==_.LightBox.el.querySelector("#tb_grid_lb_root")}syncLightbox(t,i){let l,o=_.LightBox.el.querySelector("#tb_grid_lb_root")?.shadowRoot.querySelector("#grid");if(o){if("size"===t)i.includes(" ")&&(i="user"),l=o.querySelector('[data-col="grid"] [data-grid="'+i+'"]');else{if("gutterVal"===t){l=o.querySelector("#range");const t=d(i);return l.value=t,o.querySelector("#range_unit").value=(""+i).replace(""+t,"")||"%",void e.triggerEvent(l,"change")}l=o.querySelector('[data-col="'+t+'"] [data-value="'+i+'"]')}return l&&!l.classList.contains("selected")&&e.triggerEvent(l,y),!0}}saveLightbox(e){delete e[ThemifyConstructor.grid.id];const t=ThemifyConstructor.grid.get();t&&this.set("sizes",{...t})}getSizes(e,t){t??=_.activeBreakPoint;let i,l,o,s,a,n=this.isLightboxOpen()?ThemifyConstructor.grid.get():this.get("sizes");if(n!==f)for(let e=_.breakpointsReverse,r=e.indexOf(t);r<e.length;++r){let t=e[r];if(i??=n[t+"_gutter"],l??=n[t+"_align"],a??=n[t+"_size"],o??=n[t+"_auto_h"],s??=n[t+"_area"],i&&l&&a&&o&&s)break}if(a&&(a=ThemifyStyles.getColSize(a,!1)),s){s=ThemifyStyles.getArea(s,!1,t,_.Utils.getColumns(this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0]).length)}l??=!0===_.isFullSection?"center":"start";let r={gutter:i,align:l,size:a,auto_h:o,area:s};return e&&(r=r[e]),r}setSizes(e,t){t??=_.activeBreakPoint;const i=this.isLightboxOpen(),l=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0],o=_.Utils.getColumns(l).length,s=i?ThemifyConstructor.grid.get():this.get("sizes");for(let i in e)""===e[i]?delete s[t+"_"+i]:e[i]!==f&&null!==e[i]&&("gutter"===i?e[i]=ThemifyStyles.getGutter(e[i]):"size"===i&&e[i].includes(" ")&&(e[i]=ThemifyStyles.getColSize(e[i],!1)),s[t+"_"+i]=(""+e[i]).replace(/  +/g," ").trim());if(1===o)for(let e in s)e===t+"_size"&&(s[e]="1");!0===i?ThemifyConstructor.grid.set(s):this.set("sizes",s)}getGridCss(e,t){const i={grid:{}};for(let l in e)"size"===l?e[l]?.includes(" ")&&(e[l]=ThemifyStyles.getColSize(e[l],!1)):"gutter"===l&&(e[l]=ThemifyStyles.getGutter(e[l])),t!==l.split("_")[0]?i.grid[t+"_"+l]=e[l]:i.grid[l]=e[l];return ThemifyStyles.fields.grid.call(ThemifyStyles,"grid",this.type,{},i,this.id,null,t,!0)}setCols(e,t,i){t??=_.activeBreakPoint,e.gutter!==f&&(e.gutter=ThemifyStyles.getGutter(e.gutter));const l=this.getGridCss(e,t);if("desktop"===t&&"1"===e.size?.toString()?l["--area"]=l["--colg"]=l["--col"]=l["--align_items"]=l["--align_content"]="":(l["--align_items"]===f&&"-1"===e.auto_h&&(l["--align_items"]=""),l["--colg"]===f&&"gutter"===e.gutter&&(l["--colg"]="")),"desktop"===t){const i=this.getSizes("gutter",t),l=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0].classList;"none"!==e.gutter&&"narrow"!==e.gutter||l.add("gutter-"+e.gutter),i&&l.remove("gutter-"+i)}if(this.setGridCss(l,t),!1!==i){const i=["align","area","size","gutter","auto_h"],l={};for(let t=i.length-1;t>-1;--t)e[i[t]]!==f&&(l[i[t]]=e[i[t]]);"desktop"===t&&(l.area=""),this.setSizes(l,t)}}optionsTab(e){let t=null,i=null,l=_.activeModel||null,o=ThemifyConstructor,s=o.component,a=this.constructor.getOptions().slice(0,7);a.splice(2,1),null!==l&&(i=l.type,t=_.Helper.cloneObject(l.get("styling"))),o.values=l?.id===this.id&&"setting"===o.clicked?_.Forms.serialize("tb_options_setting",!0):_.Helper.cloneObject(this.get("styling"))||{},o.type=o.component=this.type,_.activeModel=this,a[5].accordion=!1,e.replaceChildren(o.create(a)),o.values=t,o.component=s,o.type=i,_.activeModel=l}grid(t){let i=t.dataset.grid||"",l=i?i.includes("_")?i.split("_").length:r(i):"",o=_.activeBreakPoint,s=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0],a=s.classList,n=_.Utils.getColumns(s),c=n.length,h=t.closest("#grid"),m=h.querySelector("#range"),u=h.querySelector("#slider"),b=h.classList,g="desktop"===o?"grid":"style",y="desktop"===o?_.breakpointsReverse:[o],v=this.isLightboxOpen(),x=!v||_.LightBox.el.contains(h.getRootNode().host);if("user"!==i){if(v?x||(x=!this.syncLightbox("size",i)):_.undoManager.start(g,this),"desktop"===o&&(b.remove("tb_col_count_"+c),b.add("tb_col_count_"+l),x)){a.remove("tb_col_count_"+c),a.add("tb_col_count_"+l);const e=w();if(l<c){for(let t=c-1;t>=l;--t){let i=n[t].tfClass("tb_holder")[0].children;for(let t=0;t<i.length;++t)e.appendChild(i[t]);n[t].remove(),n.splice(t,1)}n[n.length-1].tfClass("tb_holder")[0].appendChild(e)}else{for(let t=0;t<l;++t)if(!n[t]){let i=new _.Column(n[t],"subrow"===this.type);e.appendChild(i.el)}n[n.length-1].after(e)}n=_.Utils.getColumns(s);const t=_.getColClass(),o=_.getColClassValues(),r=n.length,d=t[i]||t[r],p=o.length-1;for(let e=r-1;e>-1;--e){let t=n[e].classList;for(let e=p;e>-1;--e)t.remove(o[e]);d!==f&&r<7&&t.add(d[e]),t.remove("first","last")}r>1&&(n[0].classList.add("first"),n[r-1].classList.add("last"))}if(x&&this.setCols({size:i,area:""}),"desktop"===o){if(x)for(let e=y.length-2;e>-1;--e){let t=y[e],i=this.getGridCss({size:"auto"},t);i["--area"]&&!i["--area"].includes(" ")?this.setCols({size:"auto"},t):(this.setGridCss({"--area":"","--col":""},t),this.setSizes({size:"auto"},t)),this.setMaxGutter("",t)}}else{const e=p(s).getPropertyValue("--area").split('" "')[0].split(" ").length;b.toggle("tb_1col_grid",1===e)}m.max=u.max=this.getMaxGutter(),m.value=u.value=d(this.setMaxGutter("",o)),x&&(_.Utils.setColumnsCount(n),e.trigger("tb_grid_changed",[this.el.closest(".module_row"),s]),_.Utils._onResize(!0),v||_.undoManager.end(g))}}gutter(e){const t=e.dataset.value,i=ThemifyStyles.getGutterValue(t),l=e.closest("#grid"),o=l.querySelector("#range"),s=l.querySelector("#slider"),a=""+d(""+d(i).toFixed(2)),n=i.replace(a,"")||"%",r=this.isLightboxOpen();if(o.max=s.max=this.getMaxGutter(n),o.value=s.value=a,l.querySelector("#range_unit").value=n,r){if(!_.LightBox.el.contains(l.getRootNode().host))return void this.syncLightbox(e.closest("[data-col]").dataset.col,t)}else _.undoManager.start("style",this);this.setCols({gutter:t}),_.Utils._onResize(!0),r||_.undoManager.end("style")}autoHeight(e){const t=e.dataset.value,i=this.isLightboxOpen();if(i){if(!_.LightBox.el.contains(e.getRootNode().host))return void this.syncLightbox(e.closest("[data-col]").dataset.col,t)}else _.undoManager.start("style",this);if("desktop"===_.activeBreakPoint){this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0].classList.toggle("col_auto_height","1"===t)}this.setCols({auto_h:t}),i||_.undoManager.end("style")}alignment(e){const t=e.dataset.value,i=this.isLightboxOpen();if(i){if(!_.LightBox.el.contains(e.getRootNode().host))return void this.syncLightbox(e.closest("[data-col]").dataset.col,t)}else _.undoManager.start("style",this);if("desktop"===_.activeBreakPoint){let e=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0].classList,i=this.get("sizes").desktop_align,l=t;i&&(i=i.replace("col_align_",""),i="start"===i?"top":"center"===i?"middle":"bottom",e.remove("col_align_"+i)),l="start"===l?"top":"center"===l?"middle":"bottom",e.add("col_align_"+l)}this.setCols({align:t}),i||_.undoManager.end("style")}direction(){const e="desktop"===_.activeBreakPoint?"direction":"style",t=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0],i=this.isLightboxOpen();if(i||_.undoManager.start(e,this),"desktop"===_.activeBreakPoint){if(!t.hasAttribute("data-transition")){t.dataset.transition=1;let l=_.Utils.getColumns(t),o=this,s=l.length,n=this.getSizes("size"),r={};for(let e=s-1;e>-1;--e)r[l[e].dataset.cid]=e+1;l[s-1].tfOn("transitionend",(function(){const d=w();for(let e=s-1;e>-1;--e)d.appendChild(l[e]);t.prepend(d),this.tfOn("transitionend",(()=>{for(let e=s-1;e>-1;--e)l[e].style.setProperty("transition",""),l[e].style.setProperty("transition-delay",""),l[e].style.setProperty("transform","");t.classList.remove("direction_rtl"),t.removeAttribute("data-transition");const a={};for(let e=s-1;e>-1;--e)a[l[e].dataset.cid]=e+1;for(let e=_.breakpointsReverse,t=e.length-2;t>-1;--t){let i=o.getSizes("area",e[t]);if(i){i.includes('"')||(i=computed.getPropertyValue("--area"+i).replace(/\s\s+/g," ").trim());for(let e in a)r[e]!==a[e]&&(i=i.replaceAll(r[e]+" ","#"+a[e]+"# ").replaceAll(r[e]+'"',"#"+a[e]+'#"'));o.setCols({area:i.replaceAll("#","")},e[t])}}i||_.undoManager.end(e),o=s=n=l=null}),{once:!0,passive:!0}),n&&o.setCols({size:n.split(" ").reverse().join(" ")}),a((()=>{for(let e=s-1;e>-1;--e)l[e].style.setProperty("transition-delay",(s-e)/10+"s"),l[e].style.setProperty("transform","scale(1)")}),60)}),{once:!0,passive:!0});for(let e=s-1;e>-1;--e)l[e].style.setProperty("transition","transform .3s "+(e+1)/10+"s"),l[e].style.setProperty("transform","scale(0)")}}else{let l=p(t).getPropertyValue("--area").replace(/  +/g," ").trim(),o=[],s=l.split('" "')[0].split(" ").length;l=l.replaceAll('"',"").trim().split(" ").reverse();const a=l.length;for(let e=a-1;e>-1;--e)"."===l[e]&&l.push(l.splice(e,1)[0]);for(let e=0,t=a/s;e<t;++e)o.push('"'+l.slice(e*s,(e+1)*s).join(" ")+'"');this.setCols({area:o.join(" ")}),i||_.undoManager.end(e)}}breakpoint(e){_.ToolBar.breakpointSwitcher(e.dataset.id).then((()=>{_.isFrontend&&(_.ActionBar.clear(),a((()=>{const e=this.el.getBoundingClientRect().top+t.scrollY-100;t.top.scroll(0,e),t.scroll(0,e),_.ActionBar.hover({target:this.el.tfClass("tb_"+this.type+"_action")[0]})}),50))})).catch((()=>{}))}gridMenu(t){const l=i.tfId("tmpl-builder_grid_list").content.cloneNode(!0),n=_.activeBreakPoint,c=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0],h=c.classList,m=t.classList,u=_.Utils.getColumns(c).length,b="tb_col_count_"+u,g="desktop"!==n?p(c).getPropertyValue("--area").split('" "')[0].split(" ").length:null,f=l.querySelector("#range"),w=l.querySelector("#range_unit"),v=l.querySelector("#slider"),x=this.id;this.setMaxGutter("",n);let k=l.querySelector(".grid_list").children,{gutter:z,align:S,size:T,auto_h:O}=this.getSizes("",n);T&&1!==u?"string"==typeof T&&T.includes(" ")&&(T="user"):T=u>6?"user":u;for(let e=h.length-1;e>-1;--e)if(0===h[e].indexOf("tb_col_count_")){b!==h[e]&&h.remove(h[e]);break}h.add(b),m.add(b,_.activeBreakPoint),m.toggle("tb_1col_grid",1===g),"desktop"!==_.activeBreakPoint&&m.add("tb_responsive_mode"),this.el.classList.contains("fullheight")&&m.add("fullheight");for(let e=k.length-1;e>-1;--e)k[e].classList.toggle("selected",k[e].dataset.grid===""+T);if(S){k=l.querySelector(".alignment").children;for(let e=k.length-1;e>-1;--e)k[e].classList.toggle("selected",k[e].dataset.value===S)}if(O){O=""+O,k=l.querySelector(".auto_height").children;for(let e=k.length-1;e>-1;--e)k[e].classList.toggle("selected",k[e].dataset.value===O)}if(z){z=ThemifyStyles.getGutter(z),k=l.querySelector(".gutter").children;for(let e=k.length-1;e>-1;--e)k[e].classList.toggle("selected",k[e].dataset.value===z)}else z="gutter";z=ThemifyStyles.getGutterValue(z);const C=d(z),I=(""+z).replace(""+C,"")||"%";f.max=v.max=this.getMaxGutter(I,n),f.value=v.value=""+d(C.toFixed(4)),w.value=I,parent=t.parentNode||t,parent.tfOn(y,(e=>{const t=e.target,i=t.closest("li"),l=_.Registry.get(x);if(i){const t=i.closest("[data-col]");if(t){e.stopPropagation();const o=t.children,s=t.dataset.col;if(o.length>1)for(let e=o.length-1;e>-1;--e)o[e].classList.toggle("selected",i===o[e]);l[s](i)}}else t.closest(".expand")&&(e.stopPropagation(),l.edit())}),{passive:!0}),t.appendChild(l),a((()=>{if(t){const i=t.querySelector("#range_holder"),l=ThemifyConstructor.range.render({id:"range",control:!1,event:"input",value:f.value,unit:w.value,units:{"%":{min:0,increment:.1,max:this.getMaxGutter("%")},em:{min:0,max:this.getMaxGutter("em")},px:{min:0,max:this.getMaxGutter("px")}}},ThemifyConstructor);i.replaceChildren(l);let n,c,p,h=!1,m=i.parentNode.querySelector("#slider"),u=i.querySelector("#range"),b=i.querySelector("#"+u.id+"_unit"),g=this.isLightboxOpen(),y="subrow"===this.type?"module_subrow":this.type+"_inner",v=t=>{t.stopImmediatePropagation();const i="change"===t.type,l=t.currentTarget,f=_.Registry.get(x);!1===i&&l===b||(c?.isConnected||(c=f.el.tfClass(y)[0]),!1===h&&(h=!0,g||_.undoManager.start("style",f),p=setInterval((()=>{u.isConnected||(clearInterval(p),p=null,e.triggerEvent(u,"change"),a((()=>{u=v=null}),100))}),1e3)),i&&p&&(clearInterval(p),p=null),n=o((()=>{const e=b.value;if(l===m)u.value=m.value;else if(l===b){let t=f.getMaxGutter(e);u.max=m.max=t,"px"===e?(m.step=1,u.value=m.value=r(m.value)):m.step=.1,d(u.value)>t&&(u.value=m.value=t)}else m.value=u.value;let t=u.value;if(t>0&&(t+=e),!0===i){s(n),t=f.setMaxGutter(t);const e=u.closest("#grid").tfClass("gutter")[0].children;for(let i=ThemifyStyles.getGutter(t),l=e.length-1;l>-1;--l)e[l].classList.toggle("selected",i===e[l].dataset.value);f.setCols({gutter:t}),c.style.setProperty("--colg",""),_.LightBox.el.contains(u.getRootNode().host)||f.syncLightbox("gutterVal",t),!0===h&&(c=null,_.Utils._onResize(!0),_.undoManager.has("style")&&_.undoManager.end("style"),h=!1),n=null}else c.style.setProperty("--colg",t)})))};m.tfOn("input change",v,{passive:!0}),u.tfOn("input change",v,{passive:!0}),b.tfOn("change",v,{passive:!0})}}),150)}setMaxGutter(e,t){t??=_.activeBreakPoint,e||(e=this.getSizes("gutter",t)||"gutter"),e=ThemifyStyles.getGutterValue(e);let i=d(e),l=(""+e).replace(""+i,"")||"%",o=this.getMaxGutter(l,t);return o<i&&(this.setCols({gutter:o+l},t),i=o),i+l}getMaxGutter(e,t){t??=_.activeBreakPoint;const i=this.el.tfClass("subrow"===this.type?"module_subrow":this.type+"_inner")[0],l=_.Utils.getColumns(i).length;if(l<=1)return 100;const o=this.getSizes("",t),s=i.offsetWidth,a=p(i),n=d(a.getPropertyValue("font-size")),r=a.getPropertyValue("--col"),c=r&&"none"!==r&&!r.includes("repeat")?r.replace(/\s\s+/g," ").trim().split(" "):null;if(!e){let t=o.gutter||"gutter";t=ThemifyStyles.getGutterValue(t);let i=d(t);e=(""+t).replace(""+i,"")||"%"}let h,m=o.area;if(!m){let e=o.size;e&&(e=""+e,e.includes(" ")?h=e.replace(/\s\s+/g," ").split(" ").length:m=this.getGridCss({size:"auto"},t)["--area"])}h||(m?.includes("var")&&(m=a.getPropertyValue(m.replace("var(","").replace(")",""))),h=m?m.replace(/  +/g," ").trim().split('" "')[0].split(" ").length:l);let u=s,b=0,g=0,f=0;if(null!==c){for(let e=c.length-1;e>-1;--e){let t=d(c[e]);c[e].includes("fr")||(c[e].includes("%")?g+=t:c[e].includes("em")?f+=t:b+=t)}u-=b-d(g*s/100)-f*n}return u=d(100*u/s)-5*h,h>1&&(u=d(u/(h-1))),n>0&&("px"===e||"em"===e)&&(u=s*u/100,u="em"===e?d(u/n):~~u),d(""+d(u.toFixed(2)))}setGridCss(e,t){t??=_.activeBreakPoint;const i=ThemifyStyles.getStyleOptions(this.type).grid.selector;if(_.isFrontend){const o=_.createStyleInstance();if(o.init(!0,!1,this),o.setMode(t),l.keys(e).length>0)for(let t in e)o.setLiveStyle(t,e[t],i)}else{let o;const s=ThemifyStyles.getSheet(t),a=s.cssRules,n=this.id,r=_.breakpointsReverse,d=r.indexOf(t),c=[],p=(e,t)=>{const i=_.Utils.findCssRule(a,o);!1!==i&&a[i]?a[i].style.setProperty(e,t):""!==t&&t!==f&&s.insertRule(o+"{"+e+":"+t+";}",a.length)},h=_.Builder.get().id;for(let e=d;e>-1;--e)if(c.push(ThemifyStyles.getBaseSelector(this.type,n,h,r[e])+" "+i),"desktop"===t)break;if(o=c.join(","),l.keys(e).length>0)for(let t in e)p(t,e[t])}}static builderSave(e,t="row"){const i=_.breakpointsReverse,l=["l_h_h","l_s_h","ht","mi_h","mx_h","margin-top","margin-bottom","m_t_h","m_b_h"],o=["top","left","right","bottom"],s=this.getStylingValue;if("row"===t){for(let e=6;e>0;--e)l.push("font_size_h"+e,"f_s_h"+e+"_h","line_height_h"+e,"l_h_h"+e+"_h","letter_spacing_h"+e,"l_s_h"+e+"_h","h"+e+"_margin_top","h"+e+"_margin_bottom","h"+e+"_margin_top_h","h"+e+"_margin_bottom_h");e.row_anchor&&e.hide_anchor&&"|"!==e.hide_anchor&&"false"!==e.hide_anchor||delete e.hide_anchor,!1!==e.row_user_role&&"|"!==e.row_user_role&&"false"!==e.row_user_role||delete e.row_user_role}e.O&&"no"!==e.C||delete e.C,e.O&&"no"!==e.I||delete e.I,delete e.tb_grid_lb_root,0===e.background_slider_videos?.length&&delete e.background_slider_videos,e.background_slider_videos||(delete e.background_slider_videos_autoplay,delete e.background_slider_videos_controls,delete e.background_slider_videos_mute,delete e.background_slider_videos_progressbar);for(let a=i.length-1;a>-1;--a){let _=i[a],n="desktop"===_,r=n?e:e["breakpoint_"+_];if(r){let i=s("background_type",_,e)||"image";n&&delete r.resp_no_bg,n&&"slider"===i||delete r.background_slider,n&&"video"===i||delete r.background_video,r.background_video&&r.background_video_options&&"|"!==r.background_video_options&&"false"!==r.background_video_options||(delete r.background_video_options,"video"===i&&delete r.background_type),r.background_slider||(delete r.background_slider_size,delete r.background_slider_mode,delete r.background_slider_speed,"slider"===i&&delete r.background_type),("image"!==i&&"video"!==i||"none"===s("resp_no_bg",_,e))&&delete r.background_image;let a=s("background_image",_,e);a||(delete r.background_repeat,delete r.background_position),"slider"!==i&&"video"!==i||delete r.b_t_h;let d=s("background_repeat",_,e),c="image"===i||"gradient"===i?s("b_t_h",_,e):null;if("repeat-none"!==d?(delete r.background_zoom,"repeat"!==d&&"repeat-x"!==d&&"repeat-y"!==d&&"fullcover"!==d&&"best-fit-image"!==d&&delete r.background_attachment):"false"!==r.background_zoom&&"|"!==r.background_zoom||(r.background_zoom=!1),n&&!1===r.background_zoom&&delete r.background_zoom,"gradient"!==i?delete r["background_gradient-gradient"]:delete r.background_color,"image"!==i||a||s("background_color",_,e)!==f||delete r.background_type,this.clearGradient("background_gradient",_,e),"image"!==c&&(delete r.bg_i_h,delete r.b_c_h),"gradient"!==c&&delete r["b_g_h-gradient"],a=s("bg_i_h",_,e),a||(delete r.b_r_h,delete r.b_a_h,delete r.b_p_h),this.clearGradient("b_g_h",_,e),a||s("b_g_h-gradient",_,e)||s("b_c_h",_,e)!==f||delete r.b_t_h,"color"!==s("cover_color-type",_,e)?delete r.cover_color:delete r["cover_gradient-gradient"],this.clearGradient("cover_gradient",_,e),s("cover_color",_,e)!==f||s("cover_gradient-gradient",_,e)||delete r["cover_color-type"],"hover_color"!==s("cover_color_hover-type",_,e)?delete r.cover_color_hover:delete r["cover_gradient_hover-gradient"],this.clearGradient("cover_gradient_hover",_,e),s("cover_color_hover",_,e)!==f||s("cover_gradient_hover-gradient",_,e)||delete r["cover_color_hover-type"],"row"!==t){delete r.background_image_inner,delete r.background_color_inner,delete r.b_i_i_h,delete r.b_c_i_h;for(let e=o.length-1;e>-1;--e){let t=o[e];delete r["padding_inner_"+t],delete r["p_i_h_"+t],delete r["border_inner_"+t+"_width"],delete r["b_i_h_"+t+"_width"],delete r["border_inner_"+t+"_style"],delete r["b_i_h_"+t+"_style"]}}s("background_image_inner",_,e)||(delete r.background_repeat_inner,delete r.background_attachment_inner,delete r.background_position_inner),s("b_i_i_h",_,e)||(delete r.b_r_i_h,delete r.b_a_i_h,delete r.b_p_i_h),this.clearPadding("padding_inner",_,e),this.clearPadding("p_i_h",_,e),this.clearBorder("border_inner",_,e),this.clearBorder("b_i_h",_,e);for(let t=o.length-1;t>-1;--t){let i=o[t]+"-frame_";s(i+"type",_,e)===o[t]+"-custom"?(delete r[i+"layout"],delete r[i+"color"]):(delete r[i+"type"],delete r[i+"custom"]);let l=s(i+"layout",_,e);l&&"none"!==l||s(i+"custom",_,e)?n||delete r[i+"location"]:(delete r[i+"color"],delete r[i+"width"],delete r[i+"height"],delete r[i+"repeat"],delete r[i+"sh_b"],delete r[i+"ani_dur"],delete r[i+"location"],n&&"none"===l&&(delete r[i+"layout"],l=null),l||delete r[i+"type"]),(!s(i+"width",_,e)||n&&"%"===s(i+"width_unit",_,e))&&delete r[i+"width_unit"],(!s(i+"height",_,e)||n&&"%"===s(i+"height_unit",_,e))&&delete r[i+"height_unit"],s(i+"sh_b",_,e)!==f&&s(i+"sh_c",_,e)!==f||(delete r[i+"sh_b"],delete r[i+"sh_c"],delete r[i+"sh_x"],delete r[i+"sh_y"]);let a=s(i+"ani_dur",_,e),d=s(i+"ani_rev",_,e);a&&"0"!==a?"0"!==d&&0!==d||delete r[i+"ani_rev"]:(delete r[i+"ani_dur"],delete r[i+"ani_rev"])}if(s("font_family",_,e)||delete r.font_family_w,s("f_f_h",_,e)||delete r.f_f_h_w,this.clearShadow("text-shadow",0,_,e),this.clearShadow("t_sh_h",0,_,e),this.clearPadding("padding",_,e),this.clearPadding("p_h",_,e),this.clearMarginOpposity("margin-top",_,e),this.clearMarginOpposity("m_t_h",_,e),this.clearBorder("border",_,e),this.clearBorder("b_h",_,e),this.clearFilter("bl_m","css_f",_,e),this.clearFilter("_h","css_f_h",_,e),this.clearWidth("ht",_,e,1),this.clearPadding("b_ra",_,e),this.clearPadding("r_c",_,e),this.clearShadow("b_sh",1,_,e),this.clearShadow("sh_h",1,_,e),"column"!==t&&this.clearPosition("po",_,e),this.clearTransform("tr",_,e),this.clearTransform("tr-h",_,e),this.clearUnits(l,_,e),"row"===t)for(let t=6;t>0;--t)this.clearFontColor("font_color_type_h"+t,"font_color_h"+t,"font_gradient_color_h"+t,_,e),this.clearFontColor("f_c_t_h"+t+"_h","f_c_h"+t+"_h","f_g_c_h"+t+"_h",_,e),this.clearFontWeights(["font_family_h"+t,"f_f_h"+t+"_h"],_,e),this.clearShadow("t_shh"+t,0,_,e),this.clearShadow("t_shh"+t+"_h",0,_,e),this.clearMarginOpposity("h"+t+"_margin_top",_,e),this.clearMarginOpposity("h"+t+"_margin_top_h",_,e)}}super.builderSave(e,t)}}})(tb_app),(e=>{e.Column=class extends e.Base{constructor(e,t){super(e),this.type="column",!0===t&&(this.isSubCol=!0),this.initialize(),this.render()}static getSettingsName(){return g.colopt}static getAnimation(){return!1}static getVisibility(){return!1}defaults(){return{modules:[],styling:{}}}attributes(){const e=this.get("grid_class"),t={class:"module_column tb_"+this.id};return t.class+=!0===this.isSubCol?" sub_column":" tb-column",e&&(t.class+=" "+e),!0===this.oldPadding&&(t.class+=" tb_old_padding"),t}render(){let t=this.get("modules");if(t){Array.isArray(t)||(t=l.values(t));const i=this.el.tfClass("tb_holder")[0],o=w();for(let i=0;i<t.length;++i)if(t[i]!==f&&null!==t[i]){let l=t[i].mod_name!==f?e.Module.initModule(t[i]):new e.Subrow(t[i]);o.appendChild(l.el)}else t.splice(i,1);i.appendChild(o)}return this}static builderSave(t){e.Row.builderSave(t,"column")}}})(tb_app),(e=>{e.Subrow=class extends e.Row{constructor(e){super(e),this.type="subrow",super.initialize(),super.render()}static getOptions(){const t=e.Base.getOptions("subrow");return t.unshift({type:"grid"}),t}static getSettingsName(e){return g.subropt}attributes(){return{class:"active_module active_subrow tf_w"}}static builderSave(e){!1!==e.subrow_user_role&&"|"!==e.subrow_user_role&&"false"!==e.subrow_user_role||delete e.subrow_user_role,super.builderSave(e,"subrow")}}})(tb_app),(t=>{t.Module=class extends t.Base{constructor(e){e.mod_settings!==f&&(e.mod_settings=ThemifyStyles.convertPreset(e.mod_name,e.mod_settings)),super(e),this.type="module",this.initialize(),this.render()}defaults(){return{mod_name:"",mod_settings:{}}}static default(){return{}}initialize(){super.initialize()}static getSettingsName(e){return this.getModuleName(e)}static getOptions(){return[]}static getGroup(){return["general"]}static getModuleName(e){return themifyBuilder.modules[e]?.name||e}static getModuleClassName(e){let i=e.split("-");for(let e=0;e<i.length;++e)i[e]=i[e].charAt(0).toUpperCase()+i[e].slice(1);return i=i.join(""),"row"!==e&&"column"!==e&&"subrow"!==e&&(i="Module"+i),t[i]}static initModule(e){const i=this.getModuleClassName(e.mod_name);return i?new i(e):new t.Module(e)}static getDefault(e){return this.getModuleClassName(e)?.default()||{}}static getHolder(){return v("","tb_holder tf_box tf_rel tf_w")}static getModuleTitle(e,t){return this.A(v("h3","module-title"),t,e)}static setEditableContent(e,t,i,l,o,s){const a=e.dataset;return e.contentEditable=!1,a.name=t,l!==f&&""!==l?(a.hasEditor=1,i!==f&&""!==i&&(e.innerHTML=i)):i!==f&&""!==i&&(e.textContent=i),o!==f&&(a.repeat=o,s!==f&&(a.index=s)),e}static A(e,t,i,l,o,s){return this.setEditableContent(e,t,i,l,o,s)}static setEditableImage(e,t,i,l,o,s,a){const _=e.dataset;return o??={},""!==i&&i!==f&&(_.w=i,o[i]&&(e.width=o[i])),""!==l&&l!==f&&(_.h=l,o[l]&&(e.height=o[l])),""!==t&&t!==f&&(_.name=t,o[t]&&(e.src=o[t])),s!==f&&(_.repeat=s,a!==f&&(_.index=a)),e}editLayoutPart(){t.ActionBar.disable=!0,t.Spinner.showLoader(),n.all([e.loadCss(e.builder_url+"css/editor/components/layout-part","tb_layout_part_ui",null,i.tfId("themify-builder-admin-ui-css").nextElementSibling),e.loadJs(t.componentsURL+"layout-part")]).then((()=>{e.trigger("tb_layout_edit");let i=this.get("mod_name").split("-");for(let e=0;e<i.length;++e)i[e]=i[e].charAt(0).toUpperCase()+i[e].slice(1);i=i.join("");const l=new t[i](this.id);l.edit().finally((()=>{t.ActionBar.disable=null})),t.LayoutPart.item=l})).catch((()=>{t.Spinner.showLoader("error"),t.ActionBar.disable=null}))}getExcerpt(e){return""}getImage(){return t.Helper.getIcon("ti-"+this.getIcon())}backendLivePreview(e){const i=this.getImage(e),l=this.el.tfClass("tb_img_wrap")[0].firstElementChild,o=this.getExcerpt(e),s=this.el.tfClass("module_excerpt")[0];"string"==typeof o?s.innerHTML=o:s.replaceChildren(o),"IMG"===i.tagName?i.decode().then((()=>{l.replaceWith(i)})).catch((()=>{l.replaceWith(t.Helper.getIcon("ti-"+this.getIcon()))})):l.replaceWith(i)}getIcon(){const e=this.get("mod_name");return themifyBuilder.modules[e]?.icon||""}getName(){return t.Module.getModuleName(this.get("mod_name"))}getPreviewType(){return this.preview?"live":"ajax"}getPreviewSettings(){return t.Module.getDefault(this.get("mod_name"))}attributes(){const e={class:"active_module"},i=this.get("mod_settings");return t.isVisual&&("hide_all"!==i.visibility_all&&"hide"!==i.visibility_desktop&&"hide"!==i.visibility_tablet&&"hide"!==i.visibility_tablet_landscape&&"hide"!==i.visibility_mobile||(e.class+=" tb_visibility_hidden"),e.class+=" tb_module_front"),i.custom_css_id!==f&&""!==i.custom_css_id&&(e.id=i.custom_css_id),e}getDisabledTpl(){this.isEmpty=!0;const e=this.get("mod_name"),i=w(),l=v("","tb_disabled_module module module-"+e+" tb_"+this.id),o=v("span",t.isVisual?"tb_data_mod_name tf_overflow tf_textc tf_abs_t tf_hide":"module_name",e),s=v("span","tb_empty_msg tf_textc",g.emptym);if(t.isVisual)l.append(o,s);else{const e=v("","module_label tf_overflow tf_h"),i=v("","tb_img_wrap");i.appendChild(t.Helper.getIcon("ti-na")),e.append(i,o,v("em","module_excerpt",this.getExcerpt()),s),l.appendChild(e)}i.append(v("","tb_action_wrap tb_module_action tf_abs_t tf_box tf_hide"),l),this.el.appendChild(i),t.Builder.get().emptyModules.add(e)}backendRender(){const e=w(),t=v("","module"),i=v("","module_label tf_overflow tf_h"),l=v("","tb_img_wrap"),o=v("em","module_excerpt"),s=this.getExcerpt();l.appendChild(this.getImage()),"string"==typeof s?o.innerHTML=s:o.replaceChildren(s),i.append(l,v("","module_name",this.getName()),o),t.append(i,v("","tf_plus_icon tb_column_btn_plus tb_disable_sorting")),e.append(v("","tb_action_wrap tb_module_action tf_abs_t tf_box tf_hide"),t,v("","tb_visibility_hint tf_overflow tf_abs_t tf_hide")),this.el.appendChild(e),this.visibilityLabel()}render(){return t.isVisual||(themifyBuilder.modules[this.get("mod_name")]!==f?this.backendRender():this.getDisabledTpl()),this}parseHtml(){}static builderSave(e){super.builderSave(e)}static cleanBuilderType(e,i="subrow"){const o=this.getModuleClassName,s=(e,i)=>{for(let a=e.length-1;a>-1;--a){let _=e[a],n=_.styling||_.mod_settings;if(n){_.element_id??=t.Helper.generateUniqueID();let e=_.mod_name||(_.cols?i:"column");o(e)?.builderSave(n),0===l.keys(n).length&&(_.styling?delete _.styling:delete _.mod_settings)}(_.cols||_.modules||_.mod_name)&&(_.element_id??=t.Helper.generateUniqueID(),_.cols?.length>0&&(1!==_.cols.length||_.cols[0].modules?.length||_.cols[0].styling&&0!==l.keys(_.cols[0].styling).length)?s(_.cols,"subrow"):delete _.cols,_.modules?.length>0?s(_.modules,"subrow"):delete _.modules),_.styling||_.cols||_.modules||_.mod_name||e.splice(a,1)}};e&&s(e,i)}static clearSliderOptions(e,t){let i;if(t)for(let t=["slider_thumbs","effect_slider","speed_opt_slider","wrap_slider","show_nav_slider","show_arrow_slider","show_arrow_buttons_vertical","touch_swipe","left_margin_slider","right_margin_slider","height_slider","auto_scroll_opt_slider"],i=t.length-1;i>-1;--i)delete e[t[i]];else i=e.effect_slider||"scroll","scroll"===e.effect_slider&&delete e.effect_slider,"yes"===e.wrap_slider&&delete e.wrap_slider,"yes"===e.show_nav_slider&&delete e.show_nav_slider,"variable"===e.height_slider&&delete e.height_slider,"normal"!==e.speed_opt_slider&&"1"!==e.speed_opt_slider?.toString()||delete e.speed_opt_slider,"1"===e.scroll_opt_slider?.toString()&&delete e.scroll_opt_slider,"no"===e.show_arrow_slider?delete e.show_arrow_buttons_vertical:delete e.show_arrow_slider;"scroll"!==i&&"coverflow"!==i&&"continuously"!==i?(delete e.visible_opt_slider,delete e.tab_visible_opt_slider,delete e.mob_visible_opt_slider,delete e.scroll_opt_slider):("continuously"===i&&delete e.auto_scroll_opt_slider,e.mob_visible_opt_slider&&e.tab_visible_opt_slider&&~~e.mob_visible_opt_slider==~~e.tab_visible_opt_slider&&delete e.mob_visible_opt_slider,e.visible_opt_slider&&e.tab_visible_opt_slider&&~~e.visible_opt_slider==~~e.tab_visible_opt_slider&&delete e.tab_visible_opt_slider),e.auto_scroll_opt_slider&&"off"!==e.auto_scroll_opt_slider?("resume"===e.pause_on_hover_slider&&delete e.pause_on_hover_slider,"no"===e.play_pause_control&&delete e.play_pause_control):(delete e.pause_on_hover_slider,delete e.play_pause_control,delete e.auto_scroll_opt_slider)}}})(tb_app),(t=>{let i,l;t.ModuleAccordion=class extends t.Module{constructor(e){const t=e.mod_settings?.content_accordion;if(t)for(let e=t.length-1;e>-1;--e)t[e].builder_content||(t[e].builder_content=[{cols:[{modules:[{mod_name:"text",mod_settings:{content_text:t[e].text_accordion||g.acccont}}]}]}],delete t[e].text_accordion);super(e)}static getOptions(){const e=[{id:"mod_title_accordion",type:"title"},{id:"content_accordion",type:"builder",options:[{id:"title_accordion",type:"text",label:"acct",class:"large",control:{selector:":scope>.module>ul>li>.accordion-title span"}},{id:"default_accordion",type:"radio",label:"def",options:[{value:"closed",name:"closed"},{value:"open",name:"open"}]}]},{id:"schema",type:"toggle_switch",label:"faqs",options:{on:{name:"yes"}},help:"faqsh"},{id:"title_tag",type:"select",label:"acctt",options:{"":"divt",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6"}},{type:"group",label:"acclay",display:"accordion",options:[{id:"layout_accordion",type:"layout",mode:"sprite",label:"lay",default:"default",options:[{img:"accordion_default",value:"default",label:"contouspnls"},{img:"accordion_separate",value:"separate",label:"seperpnls"}],control:{classSelector:".ui"}},{id:"expand_collapse_accordion",type:"radio",label:"tglmode",options:[{value:"toggle",name:"tgl"},{value:"accordion",name:"acc"}],new_line:!0,help:"acctglh"},{id:"color_accordion",type:"layout",mode:"sprite",class:"tb_colors",label:"c",color:!0,transparent:!0,control:{classSelector:".ui"}},{id:"accordion_appearance_accordion",type:"checkbox",label:"app",appearance:!0},{type:"multi",label:"icon",options:[{id:"icon_accordion",type:"icon",label:"iclosed"},{id:"icon_active_accordion",type:"icon",label:"iopened"}]},{id:"hashtag",type:"toggle_switch",label:"uhtag",options:"simple",default:"off",control:!1}]},{type:"custom_css_id",custom_css:"css_accordion"}];return t.isVisual||e[1].options.splice(1,0,{label:"",class:"tb_info_msg",type:"message",comment:t.Helper.getIcon("ti-info-alt").outerHTML+g.acc_info}),e}static default(){return{content_accordion:[{title_accordion:g.acct}]}}static builderSave(e){const t={layout_accordion:"default",expand_collapse_accordion:"toggle",color_accordion:"default",accordion_appearance_accordion:!1,hashtag:"no"},i=e.content_accordion;for(let i in t)e[i]===t[i]&&delete e[i];if("|"===e.accordion_appearance_accordion&&delete e.accordion_appearance_accordion,i)for(let e=i.length-1;e>-1;--e){let t=i[e],l=t.builder_content;"closed"===t.default_accordion&&delete t.default_accordion,t.title_accordion||delete t.title_accordion,l&&this.cleanBuilderType(l)}super.builderSave(e)}saveLightbox(e){if(!t.isVisual){const t=e.content_accordion;for(let e=0;e<l.length;++e)t[e]!==f&&l[e].builder_content&&(t[e].builder_content=l[e].builder_content);l=null}}close(){l=null}async edit(e){const i=t.activeModel?.id===this.id;if(await super.edit(e),!1===i){const e=this.get("mod_settings");this.parseHtml(e),t.isVisual||l||(l=t.Helper.cloneObject(e.content_accordion))}}addRow(){t.isVisual||l.push({})}deleteRow(i,o){const s=e.convert(o.children).indexOf(i);t.isVisual?this.el.querySelector("ul.ui").children[s]?.remove():l.splice(s,1)}sortRow(e,i,o){if(t.isVisual){const e=this.el.querySelector("ul.ui").children,t=e[i];o>=1?(o-1!==i&&i>o&&--o,e[o].after(t)):e[o].before(t)}else l.splice(o,0,l.splice(i,1)[0])}duplicateRow(i,o,s){const a=e.convert(s.parentNode.children).indexOf(s);if(t.isVisual){const e=this.el.querySelector("ul.ui").children[a],i=this.j(e);t.Helper.clearElementId(i,!0),e.after(this.q({builder_content:i},{},1,!0))}else{const e=t.Helper.cloneObject(l[a]);e.builder_content&&t.Helper.clearElementId(e.builder_content,!0),l.splice(a+1,0,e)}}async restore(){i=!0,await super.restore(),i=null}j(e,i){const l=e.querySelector(":scope>.accordion-content").children,o=[];for(let e=0;e<l.length;++e)o.push(t.Utils.getRowSettings(l[e],"subrow",i));return o}parseHtml(e,i){if(t.isVisual){const t=e.content_accordion;if(t){const e=this.el.querySelector("ul.ui")?.children;if(e)for(let l=0;l<e.length;++l)t[l]!==f&&(t[l].builder_content=this.j(e[l],i))}}}q(e,i,l,o){const s="open"===e.default_accordion,a="acc-"+this.id+"-"+l,_=v("li","tb_is_repeat"+(s?" builder-accordion-active":"")),n=v("a",{class:"tb_title_accordion",href:"#"+a,"aria-controls":a+"-content","aria-expanded":s}),r=v(i.title_tag||"div","accordion-title tf_rel"),d=v("",{id:a+"-content",class:"accordion-content tf_clearfix"+(s?"":" tf_hide"),"data-id":a,"aria-hidden":s}),c=e.builder_content||[{cols:[{modules:[{mod_name:"text",mod_settings:{content_text:e?.text_accordion||g.acccont}}]}]}],p=w(),h=[],m=[];for(let e=0;e<c.length;++e){let i=new t.Subrow(c[e]);p.appendChild(i.el),m.push(i.id)}if(!0===t.is_builder_ready){for(let e=0,t=p.querySelectorAll("[data-cid]");e<t.length;++e)h.push(t[e].dataset.cid);d.appendChild(p),o??=t.bootstrap_working,t.bootstrap(h,f,!!o).then((()=>{for(let e=m.length-1;e>-1;--e)t.Utils.runJs(t.Registry.get(m[e]).el,"subrow")}))}else d.appendChild(p);if(this.constructor.A(n,"title_accordion",e.title_accordion,"","content_accordion"),i.icon_active_accordion){let e=v("i","accordion-active-icon"+(s?"":" tf_hide"));e.appendChild(t.Helper.getIcon(i.icon_active_accordion)),n.prepend(e)}if(i.icon_accordion){let e=v("i","accordion-icon"+(s?" tf_hide":""));e.appendChild(t.Helper.getIcon(i.icon_accordion)),n.prepend(e)}return r.append(n,v("",{role:"button",class:"tb_del_btn tb_del_acc tf_close tb_disable_sorting",title:"Delete Accordion"})),_.append(r,d),_}preview(l){const o=l.color_accordion&&"default"!==l.color_accordion?l.color_accordion:"tb_default_color",s=l.content_accordion||[],a=v("","module module-accordion"+(l.css_accordion?" "+l.css_accordion:"")),_=v("ul"),n=["module-accordion","ui",o];l.expand_collapse_accordion&&(a.dataset.behavior=l.expand_collapse_accordion),l.layout_accordion&&n.push(l.layout_accordion),l.accordion_appearance_accordion&&n.push(l.accordion_appearance_accordion.split("|").join(" ")),t.activeModel?.id!==this.id||i||this.parseHtml(l),_.className=n.join(" ");for(let e=0;e<s.length;++e)_.appendChild(this.q(s[e],l,e));return a.tfOn(y,(i=>{const l=i.target,o=l?.classList;if(o.contains("tb_add_acc")||o.contains("tb_del_acc"))if(i.stopPropagation(),o.contains("tb_add_acc"))if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("add_new")[0],i.type);else{t.undoManager.start("inlineAdd");const e=this.get("mod_settings"),i=this.constructor.default().content_accordion?.[0]||{};e.content_accordion??=[];const l=e.content_accordion.push(i);this.el.tfTag("ul")[0].appendChild(this.q(i,e,l)),this.set("mod_settings",e),t.undoManager.end("inlineAdd")}else{const o=l.closest("li"),s=e.convert(o.parentNode.children).indexOf(o);if(-1!==s)if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("tb_delete_row")[s],i.type);else{t.undoManager.start("inlineDelete");const e=this.get("mod_settings");e.content_accordion.splice(s,1),this.set("mod_settings",e),o.remove(),t.undoManager.end("inlineDelete")}}}),{passive:!0}),l.mod_title_accordion&&a.appendChild(this.constructor.getModuleTitle(l.mod_title_accordion,"mod_title_accordion")),a.append(_,v("",{class:"tb_add_btn tb_add_acc tf_plus_icon tb_disable_sorting",role:"button",title:"Add Accordion"})),a}}})(tb_app),(e=>{e.ModuleAlert=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_alert",type:"title"},{id:"layout_alert",type:"layout",mode:"sprite",label:"astyle",options:[{img:"callout_button_right",value:"button-right",label:"bright"},{img:"callout_button_left",value:"button-left",label:"bleft"},{img:"callout_button_bottom",value:"button-bottom",label:"bbottom"},{img:"callout_button_bottom_center",value:"button-bottom-center",label:"bbottomc"}],control:{classSelector:""}},{id:"heading_alert",type:"text",label:"ahead",control:{selector:".alert-heading"}},{id:"title_tag",type:"select",label:"atitlet",h_tags:!0,default:"h3"},{id:"text_alert",type:"textarea",label:"atext",control:{selector:".alert-content .tb_text_wrap"}},{id:"color_alert",type:"layout",mode:"sprite",class:"tb_colors",label:"acolor",color:!0,transparent:!0,control:{classSelector:""}},{id:"appearance_alert",type:"checkbox",label:"app",appearance:!0},{type:"group",display:"accordion",label:"actbtn",options:[{id:"action_btn_text_alert",type:"text",label:"actbtn",class:"medium",control:{selector:".tb_alert_text"}},{id:"alert_button_action",type:"select",label:"clickact",options:{close:"closeatbox",message:"dismsg",url:"goturl"},binding:{close:{hide:["alert_message_text","action_btn_link_alert","open_link_new_tab_alert","lb_size_alert"]},message:{show:"alert_message_text",hide:["action_btn_link_alert","open_link_new_tab_alert","lb_size_alert"]},url:{show:["action_btn_link_alert","open_link_new_tab_alert","lb_size_alert"],hide:"alert_message_text"}}},{id:"alert_message_text",type:"textarea",label:"msgt"},{id:"action_btn_link_alert",type:"url",label:"actlink"},{id:"open_link_new_tab_alert",type:"radio",label:"o_l",options:[{value:"no",name:"swin"},{value:"yes",name:"nwin"},{value:"lightbox",name:"lg"}],option_js:!0},{type:"multi",id:"lb_size_alert",label:"lbdim",options:[{id:"lightbox_width",label:"w",type:"range",control:!1,units:{px:{max:3500},em:{min:-50,max:50},"%":""}},{id:"lightbox_height",label:"ht",type:"range",control:!1,units:{px:{max:3500},em:{min:-50,max:50},"%":""}}],wrap_class:"tb_group_element_lightbox lightbox_size"},{id:"action_btn_color_alert",type:"layout",class:"tb_colors",mode:"sprite",label:"btncolor",color:!0,transparent:!0,control:{classSelector:".ui.builder_button"}},{id:"action_btn_appearance_alert",type:"checkbox",label:"app",appearance:!0}]},{type:"group",label:"aopt",display:"accordion",options:[{id:"alert_no_date_limit",type:"toggle_switch",label:"aschl",options:{on:{name:"alert_schedule",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:["alert_start_at","alert_end_at"]},not_checked:{hide:["alert_start_at","alert_end_at"]}}},{id:"alert_start_at",type:"date",label:"startat"},{id:"alert_end_at",type:"date",label:"endat"},{id:"alert_show_to",type:"select",label:"guest",options:{"":"toall",guest:"showgst",user:"showlged"}},{id:"alert_limit_count",type:"number",label:"limitdis",help:"alimdish"},{id:"alert_auto_close",label:"autoclose",type:"toggle_switch",options:{on:{name:"alert_close_auto",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:"alert_auto_close_delay"},not_checked:{hide:"alert_auto_close_delay"}}},{id:"alert_auto_close_delay",type:"number",label:"acloseaft",after:"sec"}]},{type:"custom_css_id",custom_css:"css_alert"}]}static default(){return{heading_alert:g.ahead,text_alert:g.atext,action_btn_text_alert:g.actbtn,action_btn_link_alert:"https://themify.me/",alert_auto_close_delay:5,action_btn_color_alert:"blue"}}static builderSave(e){const t={layout_alert:"button-right",color_alert:"default",action_btn_color_alert:"default",title_tag:"h3",alert_button_action:"close",lightbox_width_unit:"px",lightbox_height_unit:"px",action_btn_link_alert:"#",open_link_new_tab_alert:"no",appearance_alert:!1,action_btn_appearance_alert:!1},i=e.alert_button_action;for(let i in t)e[i]===t[i]&&delete e[i];"|"!==e.appearance_alert&&"false"!==e.appearance_alert||delete e.appearance_alert,"|"!==e.action_btn_appearance_alert&&"false"!==e.action_btn_appearance_alert||delete e.action_btn_appearance_alert,"message"!==i&&delete e.alert_message_text,"url"!==i&&delete e.action_btn_link_alert,e.action_btn_link_alert||delete e.open_link_new_tab_alert,"lightbox"!==e.open_link_new_tab_alert&&(delete e.lightbox_width,delete e.lightbox_height),e.lightbox_width||delete e.lightbox_width_unit,e.lightbox_height||delete e.lightbox_height_unit,e.alert_no_date_limit||(delete e.alert_start_at,delete e.alert_end_at),e.alert_auto_close||delete e.alert_auto_close_delay,super.builderSave(e)}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.text_alert)}preview(e){const t=v(),i=v("","alert-inner"),l=v("","alert-content"),o=["module","module-alert","ui",e.color_alert&&"default"!==e.color_alert?e.color_alert:"tb_default_color",e.layout_alert||"button-right"],s=this.constructor;if(e.css_alert&&o.push(e.css_alert),e.appearance_alert&&o.push(e.appearance_alert.split("|").join(" ")),t.className=o.join(" "),l.append(s.A(v(e.title_tag||"h3","alert-heading"),"heading_alert",e.heading_alert),s.A(v("","tb_text_wrap"),"text_alert",e.text_alert)),i.appendChild(l),e.action_btn_text_alert){const t=e.action_btn_color_alert&&"default"!==e.action_btn_color_alert?e.action_btn_color_alert:"tb_default_color",l=v("","alert-button"),o=v("a",{class:"ui builder_button "+t,href:e.action_btn_link_alert||"#"}),a=s.A(v("span","tb_alert_text"),"action_btn_text_alert");e.action_btn_appearance_alert&&(o.className+=" "+e.action_btn_appearance_alert.split("|").join(" ")),a.innerHTML=e.action_btn_text_alert,o.appendChild(a),l.appendChild(o),i.appendChild(l)}return e.mod_title_alert&&t.appendChild(s.getModuleTitle(e.mod_title_alert,"mod_title_alert")),t.appendChild(i),t}}})(tb_app),(e=>{e.ModuleBox=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_box",type:"title"},{id:"content_box",type:"wp_editor",control:{selector:".tb_text_wrap"}},{id:"color_box",type:"layout",mode:"sprite",class:"tb_colors",label:"c",color:!0,control:{classSelector:".ui"}},{id:"appearance_box",type:"checkbox",label:"app",appearance:!0},{type:"custom_css_id",custom_css:"add_css_box"}]}static default(){return{content_box:"<p>"+g.bcont+"</p>"}}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.content_box)}static builderSave(e){e.appearance_box&&"|"!==e.appearance_box&&"false"!==e.appearance_box||delete e.appearance_box}preview(e){const t=v("","module module-box"),i=v(),l=v("","tb_text_wrap"),o=["ui","module-box-content",e.color_box&&"default"!==e.color_box?e.color_box:"tb_default_color"],s=e.content_box,a=this.constructor;return e.add_css_box&&o.push(e.add_css_box),e.appearance_box&&o.push(e.appearance_box.split("|").join(" ")),i.className=o.join(" "),a.A(l,"content_box","",1),s&&(l.innerHTML=this.shortcodeToHTML(s).content),i.appendChild(l),e.mod_title_box&&t.appendChild(a.getModuleTitle(e.mod_title_box,"mod_title_box")),t.appendChild(i),t}}})(tb_app),(t=>{t.ModuleButtons=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"content_button",type:"builder",options:[{id:"label",type:"text",label:"text",control:{selector:'[data-name="label"]'}},{id:"link",type:"url",label:"l",binding:{empty:{hide:["link_options","button_color_bg","title"]},not_empty:{show:["link_options","button_color_bg","title"]}}},{id:"link_options",type:"radio",label:"o_l",link_type:!0,option_js:!0},{type:"multi",label:"lbdim",options:[{id:"lightbox_width",type:"range",label:"w",control:!1,units:{px:{max:3e3},"%":""}},{id:"lightbox_height",label:"ht",control:!1,type:"range",units:{px:{max:3e3},"%":""}}],wrap_class:"tb_group_element_lightbox lightbox_size"},{id:"button_color_bg",type:"layout",label:"c",class:"tb_colors",mode:"sprite",color:!0,transparent:!0},{type:"radio",id:"t",label:"icon",options:[{value:"i",name:"icon"},{value:"l",name:"lt"}],option_js:!0},{id:"icon",type:"icon",label:"icon",wrap_class:"tb_group_element_i",class:"fullwidth",binding:{empty:{hide:"icon_alignment"},not_empty:{show:"icon_alignment"}}},{type:"lottie",wrap_class:"tb_group_element_l",binding:{empty:{hide:"icon_alignment"},not_empty:{show:"icon_alignment"}}},{id:"icon_alignment",type:"select",label:"ialign",options:{left:"left",right:"right"}},{id:"title",type:"text",label:"tat"},{id:"id",type:"text",label:"idat"}]},{type:"group",label:"btnapp",display:"accordion",options:[{id:"buttons_size",label:"size",type:"layout",mode:"sprite",options:[{img:"normall_button",value:"normal",label:"def"},{img:"small_button",value:"small",label:"sml"},{img:"large_button",value:"large",label:"lrg"},{img:"xlarge_button",value:"xlarge",label:"xlrg"}],control:{classSelector:""}},{id:"buttons_shape",type:"layout",mode:"sprite",label:"shape",options:[{img:"normall_button",value:"normal",label:"def"},{img:"squared_button",value:"squared",label:"squared"},{img:"circle_button",value:"circle",label:"circle"},{img:"rounded_button",value:"rounded",label:"rounded"}],control:{classSelector:""}},{id:"buttons_style",type:"layout",mode:"sprite",label:"bg",options:[{img:"solid_button",value:"solid",label:"solid"},{img:"outline_button",value:"outline",label:"o"},{img:"transparent_button",value:"transparent",label:"transparent"}],control:{classSelector:""}},{id:"display",type:"layout",mode:"sprite",label:"disp",options:[{img:"horizontal_button",value:"buttons-horizontal",label:"hrztal"},{img:"vertical_button",value:"buttons-vertical",label:"vertical"}],control:{classSelector:""}},{id:"fullwidth_button",type:"toggle_switch",label:"fw",options:{on:{name:"buttons-fullwidth"}},binding:{checked:{hide:"display"},not_checked:{show:"display"}}},{id:"nofollow_link",type:"toggle_switch",label:"nfollow",options:{on:{name:"yes"}},help:"nfollowh",control:!1},{id:"download_link",type:"toggle_switch",label:"dwnable",options:{on:{name:"yes"}},help:"dwnablef",control:!1}]},{type:"custom_css_id",custom_css:"css_button"}]}static default(){return{content_button:[{label:g.btntext,link:"https://themify.me/"}]}}static builderSave(e){const i={buttons_size:"normal",buttons_shape:"normal",buttons_style:"solid",display:"buttons-horizontal"},l=e.content_button,o=["f_s_bic","f_s_h_bic"];for(let t in i)e[t]===i[t]&&delete e[t];if(e.fullwidth_button&&delete e.display,l){const e={icon_alignment:"left",lightbox_width_unit:"px",lightbox_height_unit:"px",button_color_bg:"default",link_options:"regular",t:"i"},t=["st","count","sp","dir","seg","fid","r","lp"];for(let i=l.length-1;i>-1;--i){let o=l[i];for(let t in e)o[t]===e[t]&&delete o[t];if(o.link||(delete o.link_options,delete o.button_color_bg),"lightbox"!==o.link_options&&(delete o.lightbox_width,delete o.lightbox_height),o.lightbox_width||delete o.lightbox_width_unit,o.lightbox_height||delete o.lightbox_height_unit,"l"===o.t?delete o.icon:delete o.path,!o.path)for(let e=t.length-1;e>-1;--e)o[t[e]]!==f&&delete o[t[e]]}}for(let i=t.breakpointsReverse,l=i.length-1;l>-1;--l){let t=i[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",t,e),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",t,e),this.clearImageGradient("b_i","button_background_color","b_r","b_p",t,e),this.clearImageGradient("bl_i","button_hover_background_color","bl_r","bl_p",t,e),this.clearImageGradient("bic_b_i","bic_b_c","bic_b_r","bic_b_p",t,e),this.clearImageGradient("bic_b_i_h","bic_h_b_c","bic_b_r_h","bic_b_p_h",t,e),this.clearFontColor("font_color_type","font_color","font_gradient_color",t,e),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",t,e),this.clearShadow("text-shadow",0,t,e),this.clearShadow("t_sh_h",0,t,e),this.clearPadding("padding",t,e),this.clearPadding("p_h",t,e),this.clearPadding("padding_link",t,e),this.clearPadding("p_l_h",t,e),this.clearPadding("p_i_bic",t,e),this.clearPadding("p_i_bic_h",t,e),this.clearPadding("margin",t,e),this.clearPadding("m_h",t,e),this.clearPadding("link_margin",t,e),this.clearPadding("l_m_h",t,e),this.clearPadding("m_i_bic",t,e),this.clearPadding("m_i_bic_h",t,e),this.clearPadding("b_ra",t,e),this.clearPadding("r_c_h",t,e),this.clearPadding("l_b_r_c",t,e),this.clearPadding("l_b_r_c_h",t,e),this.clearPadding("rc_i_bic",t,e),this.clearPadding("rc_i_bic_h",t,e),this.clearBorder("border",t,e),this.clearBorder("b_h",t,e),this.clearBorder("link_border",t,e),this.clearBorder("l_b_h",t,e),this.clearBorder("b_i_bic",t,e),this.clearBorder("b_i_bic_h",t,e),this.clearFilter("bl_m","css_f",t,e),this.clearFilter("_h","css_f_h",t,e),this.clearWidth("w",t,e),this.clearWidth("ht",t,e,1),this.clearShadow("b_sh",1,t,e),this.clearShadow("sh_h",1,t,e),this.clearShadow("l_b_sh",1,t,e),this.clearShadow("l_b_sh_h",1,t,e),this.clearShadow("sh_i_bic",1,t,e),this.clearShadow("sh_i_bic_h",1,t,e),this.clearPosition("po",t,e),this.clearTransform("tr",t,e),this.clearTransform("tr-h",t,e),this.clearUnits(o,t,e)}super.builderSave(e)}q(e,i){let l=v("","module-buttons-item tf_in_flx tf_rel tb_is_repeat"),o="l"!==e.t?e.icon?t.Helper.getIcon(e.icon):"":t.Helper.getLottie(e,"parent"),s=e.icon_alignment||"left",a=o?v("em"):f,_=this.constructor;if(a?.appendChild(o),e.link){let t=_.A(v("a",{href:e.link,class:"ui builder_button tf_in_flx "+(e.button_color_bg&&"default"!==e.button_color_bg?e.button_color_bg:"tb_default_color")}),"label",e.label,"","content_button");e.id&&(t.id=e.id),e.title&&(t.title=e.title),"yes"===i.download_link&&t.setAttribute("download",1),a&&("right"===s?t.appendChild(a):t.prepend(a)),l.appendChild(t)}else l.appendChild(_.A(v("span","tf_inline_b tf_vmiddle"),"label",e.label,"","content_button")),a&&("right"===s?l.appendChild(a):l.prepend(a));return l.appendChild(v("",{role:"button",title:"Delete Button",class:"tb_del_btn tb_del_mbtn tf_close tb_disable_sorting"})),l}preview(i){const{content_button:l=[],buttons_size:o,buttons_shape:s}=i,a=v(),_=["module","module-buttons"];i.css_button&&_.push(i.css_button),o&&"normal"!==o&&_.push(o),s&&"normal"!==s&&_.push(s),i.buttons_style&&_.push(i.buttons_style),i.fullwidth_button?_.push(i.fullwidth_button):i.display&&_.push(i.display),a.tfOn(y,(i=>{const l=i.target,o=l?.classList;if(o.contains("tb_add_mbtn")||o.contains("tb_del_mbtn"))if(i.stopPropagation(),o.contains("tb_add_mbtn"))if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("add_new")[0],i.type);else{t.undoManager.start("inlineAdd");const e=this.get("mod_settings"),i=this.constructor.default().content_button?.[0]||{},o=this.q(i,e);e.content_button??=[],e.content_button.push(i),l.parentNode.after(o),o.appendChild(l),this.set("mod_settings",e),t.undoManager.end("inlineAdd")}else{const o=l.closest(".module-buttons-item"),s=e.convert(o.parentNode.tfClass("module-buttons-item")).indexOf(o);if(-1!==s)if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("tb_delete_row")[s],i.type);else{t.undoManager.start("inlineDelete");const e=this.get("mod_settings"),i=o.tfClass("tb_add_mbtn")[0];e.content_button.splice(s,1),this.set("mod_settings",e),i&&o.previousElementSibling?.appendChild(i),o.remove(),t.undoManager.end("inlineDelete")}}}),{passive:!0}).className=_.join(" ");for(let e=0,t=l.length;e<t;++e){let o=this.q(l[e],i);t-1===e&&o.appendChild(v("span",{role:"button",title:"Add Button",class:"tb_add_btn tb_add_mbtn tf_plus_icon tb_disable_sorting"})),a.appendChild(o)}return a}}})(tb_app),(e=>{e.ModuleCallout=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_callout",type:"title"},{id:"layout_callout",type:"layout",mode:"sprite",label:"calstyle",options:[{img:"callout_button_right",value:"button-right",label:"bright"},{img:"callout_button_left",value:"button-left",label:"bleft"},{img:"callout_button_bottom",value:"button-bottom",label:"bbottom"},{img:"callout_button_bottom_center",value:"button-bottom-center",label:"bbottomc"}],control:{classSelector:""}},{id:"heading_callout",type:"text",label:"calhead",control:{selector:".callout-heading"}},{id:"title_tag",type:"select",label:"caltattag",h_tags:!0,default:"h3"},{id:"text_callout",type:"textarea",label:"caltext",control:{selector:".tb_text_wrap"}},{id:"color_callout",type:"layout",mode:"sprite",class:"tb_colors",label:"c",color:!0,transparent:!0,control:{classSelector:""}},{id:"appearance_callout",type:"checkbox",label:"app",appearance:!0},{type:"group",label:"actbtn",display:"accordion",options:[{id:"action_btn_text_callout",type:"text",label:"actbtn",class:"medium",control:{selector:".tb_callout_text"},binding:{empty:{hide:"callout_link_opt"},not_empty:{show:"callout_link_opt"}}},{type:"group",wrap_class:"callout_link_opt",options:[{id:"action_btn_link_callout",type:"url",label:"actlink"},{id:"open_link_new_tab_callout",type:"radio",label:"o_l",options:[{value:"no",name:"swin"},{value:"yes",name:"nwin"}]},{id:"action_btn_color_callout",type:"layout",class:"tb_colors",mode:"sprite",label:"btncolor",color:!0,transparent:!0,control:{classSelector:".ui.builder_button"}},{id:"action_btn_appearance_callout",type:"checkbox",label:"app",appearance:!0}]}]},{type:"custom_css_id",custom_css:"css_callout"}]}static default(){return{heading_callout:g.calhead,text_callout:g.caltext,action_btn_text_callout:g.actbtn,action_btn_link_callout:"https://themify.me/",action_btn_color_callout:"blue"}}static builderSave(e){const t={layout_callout:"button-right",title_tag:"h3",action_btn_color_callout:"default",color_callout:"default",action_btn_link_callout:"#",open_link_new_tab_callout:"no",appearance_callout:!1,action_btn_appearance_callout:!1};for(let i in t)e[i]===t[i]&&delete e[i];if("|"!==e.appearance_callout&&"false"!==e.appearance_callout||delete e.appearance_callout,"|"!==e.action_btn_appearance_callout&&"false"!==e.action_btn_appearance_callout||delete e.action_btn_appearance_callout,!e.action_btn_text_callout){const t=["action_btn_appearance_callout","action_btn_color_callout","action_btn_link_callout","open_link_new_tab_callout"];for(let i=t.length-1;i>-1;--i)e[t[i]]!==f&&delete e[t[i]]}super.builderSave(e)}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.text_callout)}preview(e){const t=v(),i=v("","callout-inner"),l=v("","callout-content tf_left"),o=["module","ui",e.color_callout&&"default"!==e.color_callout?e.color_callout:"tb_default_color"],s=this.constructor;if(e.layout_callout&&o.push(e.layout_callout),e.css_callout&&o.push(e.css_callout),e.appearance_callout&&o.push(e.appearance_callout.split("|").join(" ")),t.className=o.join(" "),l.append(s.A(v(e.title_tag||"h3","callout-heading"),"heading_callout",e.heading_callout),s.A(v("","tb_text_wrap"),"text_callout",e.text_callout)),i.appendChild(l),e.action_btn_text_callout){const t=e.action_btn_color_callout,l=t&&"default"!==t?t:"tb_default_color",o=v("","callout-button tf_right tf_textr"),a=v("a",{href:e.action_btn_link_callout||"#",class:"ui builder_button "+l}),_=s.A(v("span","tb_callout_text"),"action_btn_text_callout");e.action_btn_appearance_callout&&(a.className+=" "+e.action_btn_appearance_callout.split("|").join(" ")),_.innerHTML=e.action_btn_text_callout,a.appendChild(_),o.appendChild(a),i.appendChild(o)}return e.mod_title_callout&&t.appendChild(s.getModuleTitle(e.mod_title_callout,"mod_title_callout")),t.appendChild(i),t}}})(tb_app),(e=>{e.ModuleCode=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"m_t",type:"title"},{type:"code",options:{lng:"lng",theme:"colschm"},control:!1},{id:"numbers",default:"on",label:"linen",type:"toggle_switch",options:"simple"},{id:"copy",default:"on",label:"copybtn",type:"toggle_switch",options:"simple"},{id:"highlight",label:"highlgtlnes",type:"text",description:"highlgtlnesh",control:{event:"change"}},{type:"custom_css_id",custom_css:"css"}]}static default(){return{lng:"javascript",code:"function summ(a,b){\n                        return a+b;\n                }"}}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.code)}static builderSave(e){const t={numbers:"yes",copy:"yes"};for(let i in t)e[i]===t[i]&&delete e[i];super.builderSave(e)}preview(t){const i=v(),l=v("pre","tf_rel tf_scrollbar tf_textl"),o=v("code","language-"+t.lng),s=["module","module-code","tf_scrollbar"];if(t.css&&s.push(t.css),t.theme&&(s.push("tb_prism_"+t.theme),i.dataset.theme=t.theme),i.className=s.join(" "),t.highlight&&(l.dataset.line=t.highlight),"no"!==t.numbers&&(o.className+=" line-numbers"),o.appendChild(document.createTextNode(t.code||"")),l.appendChild(o),"no"!==t.copy){const t=v("em","tb_code_copy tf_opacity");t.appendChild(e.Helper.getIcon("ti-clipboard")),l.appendChild(t)}return t.m_t&&i.appendChild(this.constructor.getModuleTitle(t.m_t,"m_t")),i.appendChild(l),i}}})(tb_app),(e=>{e.ModuleCopyright=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"title",type:"title"},{id:"text",type:"textarea",label:"copytext"},{type:"template_fields",target:"text",fields:["%site_name%","%site_description%","%site_url%","%year%"],title:"avfields"},{type:"custom_css_id",custom_css:"add_css_text"}]}static default(){return{text:'© <a href="%site_url%">%site_name%</a> %year%'}}getExcerpt(e){const t=e||this.get("mod_settings");return v("","",t.text||"").innerHTML}preview(e){const t=v(""),i=v("","tb_copyright"),o=["module","module-copyright"],s=themifyBuilder.modules.copyright.site_data;let a=e.text||"";e.add_css_text&&o.push(e.add_css_text),t.className=o.join(" ");for(let[e,t]of l.entries(s))a=a.replaceAll("%"+e+"%",t);return i.innerHTML=a,e.title&&t.appendChild(this.constructor.getModuleTitle(e.title,"title")),t.appendChild(i),t}}})(tb_app),(e=>{e.ModuleDivider=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_divider",type:"title"},{id:"style_divider",type:"layout",mode:"sprite",label:"divstyle",options:[{img:"solid",value:"solid",label:"solid"},{img:"dotted",value:"dotted",label:"dotted"},{img:"dashed",value:"dashed",label:"dashed"},{img:"double",value:"double",label:"double"}],control:{classSelector:""}},{id:"stroke_w_divider",type:"range",label:"thickness",class:"xsmall",default:1,units:{px:{max:5e3}}},{id:"color_divider",type:"color",label:"c"},{id:"top_margin_divider",type:"range",label:"topmargin",class:"xsmall",units:{px:{min:-2500,max:3500}}},{id:"bottom_margin_divider",type:"range",label:"btmmargin",class:"xsmall",units:{px:{min:-2500,max:3500}}},{id:"divider_type",type:"radio",label:"divw",options:[{value:"fullwidth",name:"fw"},{value:"custom",name:"cus"}],option_js:!0},{id:"divider_width",type:"range",label:"w",class:"xsmall",wrap_class:"tb_group_element_custom",default:200,units:{px:{max:5e3}}},{id:"divider_align",type:"icon_radio",label:"align",aligment2:!0,wrap_class:"tb_group_element_custom"},{type:"custom_css_id",custom_css:"css_divider"}]}static default(){return{color_divider:"000",divider_width:150}}static builderSave(e){const t={style_divider:"solid",divider_type:"fullwidth",divider_align:"left",stroke_w_divider:1,divider_width:200};for(let i in t)e[i]===t[i]&&delete e[i];"custom"!==e.divider_type?(delete e.divider_width,delete e.divider_align):"undefined"===e.divider_align&&delete e.divider_align,e.stroke_w_divider&&1==~~e.stroke_w_divider&&delete e.stroke_w_divider,e.divider_width&&200==~~e.divider_width&&delete e.divider_width,super.builderSave(e)}preview(t){const i=v(),l=["module","module-divider","divider-"+(t.divider_type||"fullwidth"),t.style_divider||"solid","tf_mw"],o=t.divider_width??200,s=["border-width:"+(t.stroke_w_divider??1)+"px"];return"custom"===t.divider_type&&(l.push("divider-"+(t.divider_align||"left")),s.push("width:"+o+"px")),t.color_divider&&s.push("border-color:"+e.Helper.toRGBA(t.color_divider)),t.top_margin_divider&&s.push("margin-top:"+t.top_margin_divider+"px"),t.bottom_margin_divider&&s.push("margin-bottom:"+t.bottom_margin_divider+"px"),t.css_divider&&l.push(t.css_divider),i.className=l.join(" "),s.length>0&&(i.style=s.join(";")),t.mod_title_divider&&i.appendChild(this.constructor.getModuleTitle(t.mod_title_divider,"mod_title_divider")),i}}})(tb_app),(e=>{e.ModuleFancyHeading=class extends e.Module{constructor(t){const i=t.mod_settings;for(let t=["top","left","right","bottom"],l=t.length-1;l>-1;--l){let o=t[l];for(let t=e.breakpointsReverse,l=t.length-1;l>-1;--l){let e="desktop"===t[l]?i:i["breakpoint_"+t[l]];e?.["_margin_"+o+"_divider"]!==f&&(e["md_"+o]=e["_margin_"+o+"_divider"],delete e["_margin_"+o+"_divider"],e["_margin_"+o+"_divider_unit"]&&(e["md_"+o+"_unit"]=e["_margin_"+o+"_divider_unit"],delete e["_margin_"+o+"_divider_unit"]))}}super(t)}static getOptions(){return[{id:"heading",type:"text",label:"head",control:{selector:".main-head"}},{id:"heading_link",type:"url",label:"hlink"},{id:"sub_heading",type:"text",label:"shead",control:{selector:".sub-head"}},{id:"sub_heading_link",type:"url",label:"sheadl"},{id:"icon_type",type:"radio",label:"divicon",options:[{value:"icon",name:"icon"},{value:"image_icon",name:"image"},{value:"l",name:"lt"}],option_js:!0},{id:"image",type:"image",label:"imgurl",wrap_class:"tb_group_element_image_icon"},{type:"multi",label:"",wrap_class:"tb_group_element_icon",options:[{id:"icon",type:"icon",label:"icon"},{id:"icon_c",type:"color",label:"c",class:"medium"}]},{wrap_class:"tb_group_element_l",type:"lottie"},{id:"heading_tag",label:"htt",type:"select",options:{h1:"h1",h2:"h2",h3:"h3"}},{id:"text_alignment",label:"talign",type:"icon_radio",options:[{value:"themify-text-left",name:"left",icon:e.Helper.getIcon("ti-align-left").outerHTML},{value:"themify-text-center",name:"center",icon:e.Helper.getIcon("ti-align-center").outerHTML},{value:"themify-text-right",name:"right",icon:e.Helper.getIcon("ti-align-right").outerHTML}]},{id:"inline_text",type:"checkbox",label:"inltxt",options:[{name:"1",value:"dismsh1ln"}]},{id:"divider",label:"div",type:"toggle_switch",default:"on",options:{on:{name:"yes"},off:{name:"no"}}},{type:"custom_css_id",custom_css:"css_class"}]}static default(){return{heading:g.head,sub_heading:g.shead}}static builderSave(t){const i={heading_tag:"h1",divider:"yes",inline_text:!1,icon_type:"icon",text_alignment:"left"},l=t.icon_type,o=["main_margin_top","main_margin_bottom","m_h_margin_top","m_h_margin_bottom","font_size_subheading","line_height_subheading","letter_spacing_subheading","sub_margin_top","sub_margin_bottom","f_s_s_h","s_h_margin_top","s_h_margin_bottom","fh_d_s","fh_d_s_h"];for(let e in i)t[e]===i[e]&&delete t[e];if("undefined"===t.text_alignment&&delete t.text_alignment,"|"!==t.inline_text&&"false"!==t.inline_text||delete t.inline_text,"image_icon"!==l&&"l"!==l||delete t.icon,"image_icon"!==l&&delete t.image,"l"!==l&&delete t.path,t.icon||delete t.icon_c,!t.path){const e=["st","count","sp","dir","seg","fid","r","lp"];for(let i=e.length-1;i>-1;--i)t[e[i]]!==f&&delete t[e[i]]}for(let i=e.breakpointsReverse,l=i.length-1;l>-1;--l){let e=i[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",e,t),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",e,t),this.clearFontColor("font_color_type","font_color","font_gradient_color",e,t),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",e,t),this.clearFontColor("font_color_type_subheading","font_color_subheading","font_gradient_color_subheading",e,t),this.clearFontColor("f_c_t_s_h","f_c_s_h","f_g_c_s_h",e,t),this.clearShadow("t_sh_h",0,e,t),this.clearShadow("t_sh_h_h",0,e,t),this.clearShadow("t_sh_s_h",0,e,t),this.clearShadow("t_sh_s_h_h",0,e,t),this.clearPadding("padding",e,t),this.clearPadding("p_h",e,t),this.clearPadding("fh_d_i_p",e,t),this.clearPadding("fh_d_i_p_h",e,t),this.clearPadding("margin",e,t),this.clearPadding("m_h",e,t),this.clearPadding("md",e,t),this.clearPadding("fh_d_i_m",e,t),this.clearPadding("fh_d_i_m_h",e,t),this.clearPadding("fh_d_b_m",e,t),this.clearPadding("fh_d_b_m_h",e,t),this.clearPadding("b_ra",e,t),this.clearPadding("r_c_h",e,t),this.clearPadding("fh_d_i_rc",e,t),this.clearPadding("fh_d_i_rc_h",e,t),this.clearBorder("border",e,t),this.clearBorder("b_h",e,t),this.clearBorder("d_border",e,t),this.clearBorder("fh_d_i_b",e,t),this.clearBorder("fh_d_i_b_h",e,t),this.clearBorder("fh_d_b_b",e,t),this.clearBorder("fh_d_b_b_h",e,t),this.clearFilter("bl_m","css_f",e,t),this.clearFilter("_h","css_f_h",e,t),this.clearWidth("w",e,t),this.clearWidth("d_width",e,t),this.clearWidth("fh_d_b_w",e,t),this.clearWidth("ht",e,t,1),this.clearShadow("b_sh",1,e,t),this.clearShadow("sh_h",1,e,t),this.clearPosition("po",e,t),this.clearTransform("tr",e,t),this.clearTransform("tr-h",e,t),this.clearMarginOpposity("main_margin_top",e,t),this.clearMarginOpposity("m_h_margin_top",e,t),this.clearMarginOpposity("sub_margin_top",e,t),this.clearMarginOpposity("s_h_margin_top",e,t),this.clearUnits(o,e,t)}super.builderSave(t)}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.heading)}preview(t){const i="1"===t.inline_text?.toString(),l=i?"tf_inline_b":"tf_block",o=v(),s=v(t.heading_tag||"h1","fancy-heading"),a=v("span","main-head "+l),_=v("span","sub-head tf_rel "+l),n=["module","module-fancy-heading"],r="no"===t.divider,d=t.icon_type||"icon",c="image_icon"!==d?"l"!==d?t.icon?e.Helper.getIcon(t.icon):"":e.Helper.getLottie(t,"parent"):t.image,p=this.constructor;if(i&&n.push("inline-fancy-heading"),r&&n.push("tb_hide_divider"),t.css_class&&n.push(t.css_class),o.className=n.join(" "),t.text_alignment&&(s.className+=" tf_text"+t.text_alignment.replace("themify-text-","")[0]),t.heading_link?a.appendChild(p.A(v("a"),{class:"heading",href:t.heading_link},t.heading)):p.A(a,"heading",t.heading),s.appendChild(a),c){let i,o=v("span","tb_fancy_heading_icon_wrap "+l),a=v("span","tb_fancy_heading_icon");if("image_icon"!==d?(i=v("em"),"icon"===d&&t.icon_c&&(i.style.color=e.Helper.toRGBA(t.icon_c)),i.appendChild(c)):(i=p.setEditableImage(v("img"),"image"),i.src=c),a.appendChild(i),o.appendChild(a),!r){let e=v("span","tb_fancy_heading_border tf_rel");o.appendChild(e.cloneNode()),o.prepend(e)}s.appendChild(o)}return t.sub_heading_link?_.appendChild(p.A(v("a"),{class:"sub_heading",href:t.sub_heading_link},t.sub_heading)):p.A(_,"sub_heading",t.sub_heading),s.appendChild(_),o.appendChild(s),o}}})(tb_app),(e=>{e.ModuleFeature=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_feature",type:"title"},{id:"title_feature",type:"text",label:"ftitle",class:"large",control:{selector:".module-feature-title a"}},{id:"title_tag",type:"select",label:"tht",h_tags:!0,default:"h3"},{id:"content_feature",type:"wp_editor",control:{selector:".tb_text_wrap"}},{id:"link_feature",type:"url",label:"l",binding:{empty:{hide:["link_options","lightbox_size","feature_download_link"]},not_empty:{show:["link_options","lightbox_size","feature_download_link"]}}},{id:"feature_download_link",type:"checkbox",label:"dwnablink",options:[{name:"yes",value:"dwnablef"}]},{id:"link_options",type:"radio",label:"o_l",link_type:!0,wrap_class:"tb_compact_radios",option_js:!0},{type:"multi",label:"lbdim",options:[{id:"lightbox_width",label:"w",type:"range",control:!1,units:{px:{max:3500},em:{min:-50,max:50},"%":""}},{id:"lightbox_height",label:"ht",type:"range",control:!1,units:{px:{max:3500},em:{min:-50,max:50},"%":""}}],wrap_class:"tb_group_element_lightbox lightbox_size"},{id:"overlap_image_feature",type:"image",label:"ovimg",binding:{empty:{hide:["overlap_image_width","overlap_image_height"]},not_empty:{show:["overlap_image_width","overlap_image_height"]}}},{type:"multi",label:"",options:[{id:"overlap_image_width",type:"number",label:"w"},{id:"overlap_image_height",type:"number",label:"ht"}]},{type:"group",label:"flayout",display:"accordion",options:[{id:"layout_feature",type:"layout",label:"lay",mode:"sprite",options:[{img:"icon_top",value:"icon-top",label:"itop"},{img:"icon_left",value:"icon-left",label:"ileft"},{img:"icon_right",value:"icon-right",label:"iright"}],control:{prefix:"layout-",classSelector:""}},{id:"layout_mobile",type:"layout",label:"mlay",mode:"sprite",options:[{img:"icon_top",value:"icon-top",label:"itop"},{img:"icon_left",value:"icon-left",label:"ileft"},{img:"icon_right",value:"icon-right",label:"iright"}]},{type:"multi",label:"circle",wrap_class:"multi_circle_feature",options:[{id:"circle_percentage_feature",type:"range",label:"percent",class:"xsmall",units:{"%":""}},{id:"circle_stroke_feature",type:"range",label:"stroke",class:"xsmall",default:0,units:{px:""}},{id:"circle_color_feature",type:"color",label:"c"},{id:"circle_size_feature",type:"select",label:"size",default:"medium",options:{small:"sml",medium:"mdm",large:"lrg",custom:"cus"},binding:{small:{hide:"custom_circle_size_feature"},medium:{hide:"custom_circle_size_feature"},large:{hide:"custom_circle_size_feature"},custom:{show:"custom_circle_size_feature"}}},{id:"custom_circle_size_feature",default:120,type:"number",after:"csizepx"}]},{id:"icon_type_feature",type:"radio",label:"icont",options:[{value:"icon",name:"icon"},{value:"image_icon",name:"image"},{value:"both",name:"both"}],option_js:!0},{id:"image_feature",type:"image",label:"imgurl",wrap_class:"tb_group_element_image_icon tb_group_element_both"},{type:"group",wrap_class:"tb_group_element_icon tb_group_element_both",options:[{id:"stype",label:"",type:"radio",options:[{value:"i",name:"icon"},{value:"l",name:"lt"}],option_js:!0},{type:"multi",label:"",options:[{id:"icon_feature",wrap_class:"tb_group_element_i",type:"icon",label:"icon"},{id:"icon_color_feature",wrap_class:"tb_group_element_i",type:"color",label:"c",class:"medium"}]},{id:"icon_bg_feature",type:"color",label:"bg",class:"medium"},{wrap_class:"tb_group_element_l",type:"lottie"}]},{id:"icon_position",type:"angle",deg:!0,label:"iconp",wrap_class:"tb_group_element_both"}]},{type:"custom_css_id",custom_css:"css_feature"}]}static default(){return{title_feature:g.ftitle,content_feature:g.fcont,circle_percentage_feature:100,circle_stroke_feature:3,icon_feature:"fa-home",layout_feature:"icon-top",circle_size_feature:"small",circle_color_feature:"#de5d5d"}}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.content_feature||i.title_feature)}getImage(t){const i=t||this.get("mod_settings"),l=i.overlap_image_feature||("image_icon"===i.icon_type_feature&&i.image_feature?i.image_feature:null),o=new Image(32,32);return l?(o.src=l,e.activeModel||(o.loading="lazy"),o.alt=this.getName(),o):super.getImage(t)}static builderSave(t){const i={layout_feature:"icon-top",title_tag:"h3",lightbox_width_unit:"px",lightbox_height_unit:"px",stype:"i",layout_mobile:"icon-top",circle_size_feature:"medium",link_options:"regular",icon_type_feature:"icon",custom_circle_size_feature:120,feature_download_link:!1,circle_stroke_feature:0},l="custom"===t.circle_size_feature?t.custom_circle_size_feature:120,o=t.circle_stroke_feature,s=t.icon_type_feature,a=["l_s_t","f_s_i","f_s_i_h","f_s_c","l_h_c","l_s_c","f_s_c_h"];for(let e in i)t[e]===i[e]&&delete t[e];if(l&&120==~~l&&delete t.custom_circle_size_feature,o!==f&&0==~~o&&delete t.circle_stroke_feature,t.link_feature?"|"!==t.feature_download_link&&"false"!==t.feature_download_link||delete t.feature_download_link:(delete t.feature_download_link,delete t.link_options),"lightbox"!==t.link_options&&(delete t.lightbox_width,delete t.lightbox_height),t.lightbox_width||delete t.lightbox_width_unit,t.lightbox_height||delete t.lightbox_height_unit,"image_icon"===s?(delete t.stype,delete t.icon_bg_feature,delete t.icon_feature):"both"!==s&&delete t.image_feature,"l"!==t.stype?delete t.path:delete t.icon_feature,t.icon_feature||delete t.icon_color_feature,!t.path){const e=["st","count","sp","dir","seg","fid","r","lp"];for(let i=e.length-1;i>-1;--i)t[e[i]]!==f&&delete t[e[i]]}"both"!==s&&delete t.icon_position,t.overlap_image_feature||(delete t.overlap_image_width,delete t.overlap_image_height);for(let i=e.breakpointsReverse,l=i.length-1;l>-1;--l){let e=i[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",e,t),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",e,t),this.clearFontColor("font_color_type","font_color","font_gradient_color",e,t),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",e,t),this.clearShadow("text-shadow",0,e,t),this.clearShadow("t_sh_h",0,e,t),this.clearShadow("t_sh_m_t",0,e,t),this.clearShadow("t_sh_m_t_h",0,e,t),this.clearShadow("t_sh_t",0,e,t),this.clearShadow("t_sh_t_h",0,e,t),this.clearShadow("t_sh_c",0,e,t),this.clearShadow("t_sh_c_h",0,e,t),this.clearPadding("padding",e,t),this.clearPadding("p_h",e,t),this.clearPadding("c_p",e,t),this.clearPadding("c_p_h",e,t),this.clearPadding("margin",e,t),this.clearPadding("m_h",e,t),this.clearPadding("c_m",e,t),this.clearPadding("c_m_h",e,t),this.clearPadding("b_ra",e,t),this.clearPadding("r_c_h",e,t),this.clearBorder("border",e,t),this.clearBorder("b_h",e,t),this.clearBorder("c_b",e,t),this.clearBorder("c_b_h",e,t),this.clearFilter("bl_m","css_f",e,t),this.clearFilter("_h","css_f_h",e,t),this.clearWidth("w",e,t),this.clearWidth("ht",e,t,1),this.clearShadow("b_sh",1,e,t),this.clearShadow("sh_h",1,e,t),this.clearTransform("tr",e,t),this.clearTransform("tr-h",e,t),this.clearUnits(a,e,t)}super.builderSave(t)}preview(t){const i={layout_feature:"icon-top",layout_mobile:"icon-top",title_tag:"h3",stype:"i",circle_size_feature:"medium",link_options:"regular",icon_type_feature:"icon",custom_circle_size_feature:120,circle_stroke_feature:0,...t};let l=v(),o=v("","module-feature-image tf_textc tf_rel"),s=v("","module-feature-content tf_textc"),a=v("span","module-feature-chart-html5 tf_box tf_rel tf_inline_b"),_=v("span","chart-html5-circle tf_w tf_h"),n=v("","tb_text_wrap"),{layout_feature:r,circle_stroke_feature:d,icon_type_feature:c,stype:p,custom_circle_size_feature:h,content_feature:m}=i,u=i.circle_percentage_feature||"",b=u<=0||d<=0,g="image_icon"!==c?"l"!==p?i.icon_feature?e.Helper.getIcon(i.icon_feature):"":e.Helper.getLottie(i,"parent"):"",f=""!==i.icon_color_feature&&"image"!==c&&"i"===p?e.Helper.toRGBA(i.icon_color_feature):"",y=""!==i.icon_bg_feature&&"image_icon"!==c?e.Helper.toRGBA(i.icon_bg_feature):"",w=["module","module-feature","layout-"+r],k=this.constructor;if(b?(w.push("no-chart"),""!==y&&(a.style.backgroundColor=y)):(u>100&&(u=100),w.push("with-chart")),1==d&&(d=2),i.overlap_image_feature){const e=k.setEditableImage(v("img"),"overlap_image_feature","overlap_image_width","overlap_image_height",i);b||w.push("with-overlay-image"),o.appendChild(e)}if("custom"===i.circle_size_feature&&h&&(a.style.width=a.style.height=h+"px"),!b){const t="calc(50% - "+d/2+"px)",l=x("","tf_abs tf_w tf_h");if(l.append(x("circle",{class:"tb_feature_fill",r:t,cx:"50%",cy:"50%","stroke-width":d}),x("circle",{class:"tb_feature_stroke",r:t,cx:"50%",cy:"50%","stroke-width":d,"stroke-dasharray":"0,10000",stroke:e.Helper.toRGBA(i.circle_color_feature),"data-progress":u})),""!==y&&"image_icon"!==c){l.appendChild(x("circle",{class:"tb_feature_bg","stroke-width":d,cx:"50%",cy:"50%",fill:y,r:"calc(50% - "+(d>1?d-1:0)+"px)"}))}a.appendChild(l)}if(g||i.image_feature){let e;"icon"===c&&g?(e=v("em","module-feature-icon tf_rel"),""!==f&&(e.style.color=f),e.appendChild(g)):"icon"!==c&&i.image_feature&&(e=new Image,e.src=i.image_feature,e.style.width=e.style.height="calc(100% - "+2*d+"px)"),e&&_.appendChild(e)}if(a.appendChild(_),"both"===c&&g){const e=v("span","module-feature-icon-wrap tf_abs"),t=v("span","module-feature-icon tf_inline_b"),l=i.icon_position??"";""!==l&&(e.style.transform="rotate("+l+"deg)",t.style.transform="translateY(-50%) rotate(-"+l+"deg)"),""!==f&&(t.style.color=f),""!==y&&(t.style.backgroundColor=y),t.appendChild(g),e.appendChild(t),a.appendChild(e)}if(i.link_feature){const e=v("a");e.href=i.link_feature,e.appendChild(a),o.appendChild(e)}else o.appendChild(a);if(i.title_feature){const e=v(i.title_tag,"module-feature-title");i.link_feature?e.appendChild(k.A(v("a"),{class:"title_feature",href:i.link_feature},i.title_feature)):k.A(e,"title_feature",i.title_feature),s.appendChild(e)}return k.A(n,"content_feature","",1),m&&(n.innerHTML=this.shortcodeToHTML(m).content),s.appendChild(n),i.circle_size_feature&&w.push("size-"+i.circle_size_feature),i.css_feature&&w.push(i.css_feature),l.className=w.join(" "),l.dataset.layoutMobile=i.layout_mobile,l.dataset.layoutDesktop=r,i.mod_title_feature&&l.appendChild(k.getModuleTitle(i.mod_title_feature,"mod_title_feature")),l.append(o,s),l}}})(tb_app),(i=>{i.ModuleGallery=class extends i.Module{static cache=new u;constructor(e){super(e)}static getOptions(){const e={"":"",1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9},t={...e};delete t[""];const i=!!themifyBuilder.imgphp,l=[{id:"mod_title_gallery",type:"title"},{id:"layout_gallery",type:"radio",label:"glayout",options:[{value:"grid",name:"grid"},{value:"showcase",name:"shcase"},{value:"lightboxed",name:"lbxed"},{value:"slider",name:"slider"}],wrap_class:"tb_compact_radios",option_js:!0,binding:{slider:{hide:"items_per_slide"}}},{id:"layout_masonry",type:"toggle_switch",label:"masnry",options:{on:{name:"masonry",value:"en"},off:{name:"",value:"dis"}},wrap_class:"tb_group_element_grid"},{id:"thumbnail_gallery",type:"image",label:"thmb",class:"large",wrap_class:"tb_group_element_lightboxed"},{id:"shortcode_gallery",type:"gallery",label:"galsh",required:{message:"galerr"}},{id:"gallery_pagination",label:"pagin",type:"toggle_switch",options:{on:{name:"pagination",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:"gallery_per_page"},not_checked:{hide:"gallery_per_page"}},wrap_class:"tb_group_element_grid"},{id:"gallery_per_page",type:"number",label:"imgprpg",wrap_class:"tb_group_element_grid tb_checkbox_element_pagination"},{id:"slider_thumbs",type:"toggle_switch",label:"slthmb",default:"on",options:{on:{name:"",value:"s"},off:{name:"yes",value:"hi"}},wrap_class:"tb_group_element_slider"},{id:"gallery_image_title",label:"imgt",type:"toggle_switch",options:{on:{name:"yes",value:"s"},off:{name:"",value:"hi"}}},{id:"gallery_exclude_caption",label:"imgc",type:"toggle_switch",default:"on",options:{on:{name:"",value:"s"},off:{name:"yes",value:"hi"}}},{id:"s_image_w_gallery",type:"number",label:"imgw",min:1,hide:i,after:"px",wrap_class:"tb_group_element_showcase tb_group_element_slider"},{id:"s_image_h_gallery",type:"number",label:"imgh",hide:i,after:"px",wrap_class:"tb_group_element_showcase tb_group_element_slider"},{id:"s_image_size_gallery",label:"mimgs",type:"image_size"},{id:"thumb_w_gallery",type:"number",label:"thmbw",min:1,hide:i,after:"px"},{id:"thumb_h_gallery",type:"number",label:"thmbh",hide:i,after:"px"},{id:"image_size_gallery",type:"image_size"},{id:"gallery_columns",type:"select",label:"clmns",options:t,default:"3",wrap_class:"tb_group_element_grid"},{id:"t_columns",type:"select",label:"",after:"tclmns",options:e,wrap_class:"tb_group_element_grid",default:""},{id:"m_columns",type:"select",label:"",after:"mclmns",options:e,wrap_class:"tb_group_element_grid",default:""},{type:"group",wrap_class:"tb_group_element_grid tb_group_element_slider",options:[{id:"link_opt",type:"select",label:"lto",default:"file",options:{post:"attpage",file:"medf",none:"none"},binding:{file:{show:["lightbox","link_image_size","lightbox_title"]},post:{hide:["lightbox","link_image_size","lightbox_title"]},none:{hide:["lightbox","link_image_size","lightbox_title"]}}},{id:"lightbox",type:"select",label:"enlihbx",options:{"":"def",y:"y",n:"no"}},{id:"link_image_size",type:"select",label:"limgs",default:"full",image_size:!0},{id:"lightbox_title",label:"lbimgt",type:"toggle_switch",default:"on",options:{on:{name:"",value:"s"},off:{name:"no",value:"hi"}}}]},{id:"appearance_gallery",type:"checkbox",label:"imgapp",img_appearance:!0},{type:"slider",wrap_class:"tb_group_element_slider"},{type:"custom_css_id",custom_css:"css_gallery"}];for(let e=l.length-1;e>-1;--e)!0===l[e].hide&&l.splice(e,1);return l}static default(){return{auto_scroll_opt_slider:"4",gallery_columns:"4",visible_opt_slider:"4",link_image_size:"full",link_opt:"file",thumb_w_gallery:300,thumb_h_gallery:200}}async edit(t){await super.edit(t),t&&"setting"!==t||this.get("mod_settings").shortcode_gallery||ThemifyConstructor.afterRun.push((()=>{e.triggerEvent(ThemifyConstructor.getEl("shortcode_gallery").parentNode.tfClass("builder_button")[0],y)}))}static builderSave(e){const t={layout_gallery:"grid",image_size_gallery:"thumbnail",s_image_size_gallery:"full",gallery_columns:"3",link_image_size:"full",appearance_gallery:!1},l=e.layout_gallery||"grid";delete e.items_per_slide;for(let i in t)e[i]===t[i]&&delete e[i];"grid"!==l?(delete e.gallery_pagination,delete e.layout_masonry,delete e.gallery_columns,delete e.t_columns,delete e.m_columns,"slider"!==l&&delete e.link_opt):(e.m_columns&&e.t_columns&&~~e.m_columns==~~e.t_columns&&delete e.m_columns,e.gallery_columns&&e.t_columns&&~~e.gallery_columns==~~e.t_columns&&delete e.t_columns),"slider"!==l&&"showcase"!==l&&(delete e.s_image_w_gallery,delete e.s_image_h_gallery,delete e.s_image_size_gallery),"lightboxed"!==l&&delete e.thumbnail_gallery,e.gallery_pagination?e.gallery_per_page||delete e.gallery_pagination:delete e.gallery_per_page,"file"!==e.link_opt&&(delete e.lightbox,delete e.link_image_size,delete e.lightbox_title),"|"!==e.appearance_gallery&&"false"!==e.appearance_gallery||delete e.appearance_gallery,this.clearSliderOptions(e,"slider"!==l);for(let t=i.breakpointsReverse,l=t.length-1;l>-1;--l){let i=t[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",i,e),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",i,e),this.clearFontColor("font_color_type","font_color","font_gradient_color",i,e),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",i,e),this.clearShadow("text-shadow",0,i,e),this.clearShadow("t_sh_h",0,i,e),this.clearShadow("t_sh_m_t",0,i,e),this.clearShadow("t_sh_m_t_h",0,i,e),this.clearPadding("padding",i,e),this.clearPadding("p_h",i,e),this.clearPadding("g_i_p",i,e),this.clearPadding("g_i_p_h",i,e),this.clearPadding("margin",i,e),this.clearPadding("m_h",i,e),this.clearPadding("g_i_m",i,e),this.clearPadding("g_i_m_h",i,e),this.clearPadding("b_ra",i,e),this.clearPadding("r_c_h",i,e),this.clearPadding("g_i_r_c",i,e),this.clearPadding("g_i_r_c_h",i,e),this.clearBorder("border",i,e),this.clearBorder("b_h",i,e),this.clearBorder("g_i_b",i,e),this.clearBorder("g_i_b_h",i,e),this.clearFilter("bl_m","css_f",i,e),this.clearFilter("_h","css_f_h",i,e),this.clearWidth("w",i,e),this.clearWidth("ht",i,e,1),this.clearWidth("w_ctrl",i,e),this.clearWidth("h_ctrl",i,e,1,"mi_h_ctrl","mx_h_ctrl"),this.clearShadow("b_sh",1,i,e),this.clearShadow("sh_h",1,i,e),this.clearShadow("g_i_b_sh",1,i,e),this.clearShadow("g_i_b_sh_h",1,i,e),this.clearTransform("tr",i,e),this.clearTransform("tr-h",i,e)}super.builderSave(e)}async imageEditEnd(e,t,l,o){if(this.el.tfClass("gallery-masonry")[0])return i.Utils.runJs(this.el,"module");if("s_image_w_gallery"===e.dataset.w){const e=this.el.querySelectorAll(".layout-showcase [data-image]"),t=[];for(let i=e.length-1;i>-1;--i){let s=ThemifyImageResize.toBlob(e[i],l,o);s.then((t=>{t&&(e[i].dataset.image=t)})).catch((()=>{})),t.push(s)}return n.all(t)}}inlineUpdateModule(){return!1}preview(e){const t=v(),l=e.layout_gallery||"grid",o=["module","gallery","module-gallery","layout-"+l],s=e.shortcode_gallery;return e.appearance_gallery&&o.push(e.appearance_gallery.split("|").join(" ")),e.css_gallery&&o.push(e.css_gallery),e.mod_title_gallery&&t.appendChild(this.constructor.getModuleTitle(e.mod_title_gallery,"mod_title_gallery")),t.className=o.join(" "),s&&ThemifyConstructor.gallery.getImages(s).then((async o=>{if(o?.length>0){const s=await this[l].call(this,o,e);t.appendChild(s),"lightboxed"!==l&&this.bindEvents(t,e),i.Utils.runJs(this.el,"module")}})),t}getShortcodeValue(){let e=this.get("mod_settings").shortcode_gallery;if(i.activeModel?.id===this.id){const t=ThemifyConstructor.getEl("shortcode_gallery");t&&(e=t.value)}return e}setShortcodeValue(t,l=!0){if(i.activeModel?.id===this.id){ThemifyConstructor.settings.shortcode_gallery=t;const i=ThemifyConstructor.getEl("shortcode_gallery");if(i&&(i.value=t,l))return e.triggerEvent(i,"change"),!0}else i.undoManager.start("inline"),this.get("mod_settings").shortcode_gallery=t,i.undoManager.end("inline")}bindEvents(e,t){e.tfOn(y,(async e=>{const l=e.target?.closest(".tb_add_gal_btn,.tb_del_gal");if(l)if(e.stopPropagation(),l.classList.contains("tb_del_gal")){e.preventDefault();const o=l.dataset.id,s=ThemifyConstructor.gallery,a=this.getShortcodeValue(),_=s.parseIds(a),n=_?.indexOf(o)??-1;if(-1!==n){_.splice(n,1);const e=t.layout_gallery||"grid",r="slider"===e||"showcase"===e&&0===n,d=_.length>0?s.replaceShortcode(a,_.join(",")):"";if(i.activeModel?.id===this.id&&i.LightBox.el.querySelector('.tf_close[data-id="'+o+'"]')?.closest(".tb_gal_item")?.remove(),!this.setShortcodeValue(d,r))if(r)this.previewLive(this.get("mod_settings"));else{(l.closest(".gallery-item")||l.closest(".gallery-icon")).remove(),"grid"===e&&t.layout_masonry&&i.Utils.runJs(this.el,"module")}}}else{const e=v(),l=v("input");l.tfOn("change",(async l=>{const o=l.currentTarget;if(!this.setShortcodeValue(o.value)){const e=t.layout_gallery||"grid";await this[e].call(this,l.detail.images,t,!0),i.Utils.runJs(this.el,"module")}o.remove(),e.remove()}),{passive:!0,once:!0}).value=this.getShortcodeValue()||"",ThemifyConstructor.gallery.init(e,l)}}))}grid(e,t,i){const l=w(),o=w(),s=v(),a=s.style,_="yes"===t.gallery_image_title,n="yes"!==t.gallery_exclude_caption,r=t.gallery_pagination&&t.gallery_per_page>0,{gallery_columns:d=3,t_columns:c,m_columns:p}=t,h=["module-gallery-grid"],m=r?e.slice(0,t.gallery_per_page):e;for(let e=0;e<m.length;++e){let i=m[e],l=v("dl","gallery-item"),s=v("dt","gallery-icon tf_rel"),a=this.constructor.setEditableImage(v("img"),"","thumb_w_gallery","thumb_h_gallery",t),r=i.large?.[0]||i.full?.[0]||i.thumbnail,d=i.title||"",c=i.caption||"";if(a.src=ThemifyImageResize.getCache(r,t.thumb_w_gallery,t.thumb_h_gallery,.8)||r,a.dataset.orig=r,"none"!==t.link_opt){let e=v("a",{href:"#",title:c,"data-title":d,rel:i.id||""});t.lightbox&&(e.className="themify_lightbox"),e.appendChild(a),s.appendChild(e)}else l.className+=" tf_rel",s.appendChild(a);if(s.appendChild(v("span",{class:"tb_del_btn tb_del_gal tf_close tb_disable_sorting",role:"button","data-id":i.id||"",title:"Delete Image"})),""!==d&&!0===_||""!==c&&!0===n){let e=v("dd","wp-caption-text gallery-caption");""!==d&&!0===_&&e.appendChild(v("strong","themify_image_title tf_block",d)),""!==c&&!0===n&&e.appendChild(v("span","themify_image_caption",c)),s.appendChild(e)}l.appendChild(s),o.appendChild(l)}if(!0!==i)return a.setProperty("--gald",d),a.setProperty("--galt",c||d),a.setProperty("--galm",p||c||d),t.layout_masonry&&h.push("gallery-masonry"),s.className=h.join(" "),s.appendChild(o),l.append(s,v("span",{class:"tb_add_gal_btn tb_add_btn tf_plus_icon",role:"button",title:"Add Images"})),l;this.el.tfClass("module-gallery-grid")[0].replaceChildren(o)}showcase(e,t,i){const l=this.constructor,o=w(),s=w(),a=v("","gallery-showcase-image"),_=v("","image-wrapper gallery-icon tf_rel"),n=v("","gallery-images tf_hidden"),r=e[0]||{},d=r.large?.[0]||r.full?.[0]||r.thumbnail,c=l.setEditableImage(v("img"),"","s_image_w_gallery","s_image_h_gallery",t);if(d){if(c.src=ThemifyImageResize.getCache(d,t.s_image_w_gallery,t.s_image_h_gallery,.8)||d,c.dataset.orig=d,_.appendChild(c),r.title&&"yes"===t.gallery_image_title||r.caption&&"yes"!==t.gallery_exclude_caption){const e=v("","gallery-showcase-title tf_hidden tf_abs tf_textl");r.title&&"yes"===t.gallery_image_title&&e.appendChild(v("strong","gallery-showcase-title-text",r.title)),r.caption&&"yes"!==t.gallery_exclude_caption&&e.appendChild(v("span","gallery-showcase-caption",r.caption)),_.appendChild(e)}a.appendChild(_);for(let i=0;i<e.length;++i){let o=e[i],a=v("","gallery-icon tf_rel"),_=v("a",{href:"#",title:o.title||""}),n=_.dataset,r=l.setEditableImage(v("img"),"","thumb_w_gallery","thumb_h_gallery",t),d=o.large?.[0]||o.full?.[0]||o.thumbnail;r.src=ThemifyImageResize.getCache(d,t.thumb_w_gallery,t.thumb_h_gallery,.8)||d,r.dataset.orig=d,n.caption=o.caption||"",n.orig=n.image=d,ThemifyImageResize.toBlob(_,t.s_image_w_gallery,t.s_image_h_gallery).then((e=>{e&&(n.image=e)})).catch((()=>{})),_.appendChild(r),a.append(_,v("span",{role:"button",class:"tb_del_btn tb_del_gal tf_close tb_disable_sorting",title:"Delete Image","data-id":o.id})),s.appendChild(a)}}if(!0===i){const e=this.el;return e.tfClass("gallery-images")[0].replaceChildren(s),void e.tfClass("gallery-showcase-image")[0].replaceWith(a)}return n.append(s,v("span",{role:"button",class:"tb_add_gal_btn tf_plus_icon tf_opacity tf_rel",title:"Add Images"})),o.append(a,n),o}slider(e,t,i){const l=w(),o=["slider"],s=ThemifyBuilderModuleJs.cssUrl+"sliders/",a="tb_"+this.id+"_thumbs",_={show_arrow_slider:"yes",show_nav_slider:"yes",effect_slider:"scroll",pause_on_hover_slider:"resume",play_pause_control:"no",auto_scroll_opt_slider:"off",scroll_opt_slider:1,speed_opt_slider:1,wrap_slider:1,height_slider:"variable",...t},n="yes"===_.gallery_image_title,r="yes"!==_.gallery_exclude_caption,d="yes"!==_.slider_thumbs;!0===d&&o.push("thumbs");for(let i=0;i<o.length;++i){let c="slider"===o[i],p=o[i]===(!0===c&&!1===d||t.show_arrow_buttons_vertical?"slider":"thumbs")&&"yes"===_.show_arrow_slider?1:0,h=v("","tf_swiper-container tf_carousel themify_builder_slider tf_rel tf_overflow"),m=v("","tf_swiper-wrapper tf_lazy tf_rel tf_w tf_h tf_textc"),u=h.dataset,b="s_image_w_gallery",g="s_image_h_gallery";!1===c?(b="thumb_w_gallery",g="thumb_h_gallery",h.className+=" "+a,u.thumbsId=a):("off"!==_.auto_scroll_opt_slider&&(u.auto=_.auto_scroll_opt_slider,u.pause_hover="resume"===_.pause_on_hover_slider?1:0,"yes"===_.play_pause_control&&(u.controller=1)),u.thumbs=a,u.effect=_.effect_slider,u.css_url=s+"carousel,"+s+"gallery"),u.pager=!1!==c&&!1!==d||"yes"!==_.show_nav_slider?0:1,u.speed=_.speed_opt_slider,u.wrapvar="yes"===_.wrap_slider?1:0,u.slider_nav=p,u.height="yes"===_.horizontal?"variable":_.height_slider,_.touch_swipe&&(u.touch_swipe=_.touch_swipe),!1!==c&&!1!==d||(u.visible=_.visible_opt_slider||"",u.tabVisible=_.tab_visible_opt_slider||"",u.mobVisible=_.mob_visible_opt_slider||"",u.scroll=_.scroll_opt_slider);for(let i=0;i<e.length;++i){let l=e[i],o=v("","tf_swiper-slide"),s=v("","slide-inner-wrap"),a=v("","tf_lazy slide-image gallery-icon"),p=this.constructor.setEditableImage(v("img"),"",b,g,_),h=l.full?.[0]||l.large?.[0]||l.thumbnail,{title:u="",caption:y=""}=l;if(_.left_margin_slider!==f&&(s.style.marginLeft=_.left_margin_slider+"px"),_.right_margin_slider!==f&&(s.style.marginRight=_.right_margin_slider+"px"),p.src=ThemifyImageResize.getCache(h,_[b],_[g],.8)||h,p.dataset.orig=h,!0===c&&"none"!==t.link_opt){let e=v("a");e.href="#",t.lightbox&&(e.className+=" themify_lightbox"),e.appendChild(p),a.appendChild(e)}else a.appendChild(p);if((!1===d||!1===c)&&e.length>1&&a.appendChild(v("",{role:"button",class:"tb_del_btn tb_del_gal tf_close tb_disable_sorting","data-id":l.id,title:"Delete Slide"})),s.appendChild(a),!0===c&&(""!==u&&!0===n||""!==y&&!0===r)){let e=v("","content tf_opacity tf_texl tf_abs");""!==u&&!0===n&&e.appendChild(v("h3","slide-title",u)),""!==y&&!0===r&&e.appendChild(v("p","",y)),s.appendChild(e)}o.appendChild(s),m.appendChild(o)}if(h.appendChild(m),!0===c&&h.appendChild(v("span",{role:"button",class:"tb_add_gal_btn tb_add_btn tf_plus_icon",title:"Add Slides"})),1===p){let e=v("","themify_builder_slider_vertical tf_rel");e.appendChild(h),l.appendChild(e)}else l.appendChild(h)}if(!0!==i)return l;for(let e=this.el.tfClass("tf_swiper-container"),t=e.length-1;t>-1;--t){let i=e[t].parentNode;i.classList.contains("themify_builder_slider_vertical")?i.remove():e[t].remove()}this.el.tfClass("tb_data_mod_name")[0].after(l)}async lightboxed(e,t){const l=w(),o="yes"===t.gallery_image_title,s="yes"!==t.gallery_exclude_caption,a=t.thumbnail_gallery||null,_=[];if(a){const t={full:[a]};if(!0===o||!0===s){let l=this.constructor.cache,o=l.get(a);if(!o)try{if(o=await i.LocalFetch({action:"tb_gallery_lightbox_data",url:a}),!o?.success)throw"";o=o.data,l.set(a,o)}catch(e){}t.title=o?.title??e[0].title,t.caption=o?.caption??e[0].caption}_.push(t)}else _.push(e[0]);for(let e=0;e<_.length;++e){let i=v("dl","gallery-item"),n=this.constructor.setEditableImage(v("img"),a?"thumbnail_gallery":"","thumb_w_gallery","thumb_h_gallery",t),r=_[e],d=r.full?.[0]||r.large?.[0]||r.thumbnail,{title:c="",caption:p=""}=r;if(0===e?i.className+=" tf_hidden":i.style.display="none",n.src=ThemifyImageResize.getCache(d,t.thumb_w_gallery,t.thumb_h_gallery,.8)||d,n.dataset.orig=d,r.link){let e=v("dt","gallery-icon"),l=v("a",{class:"themify_lightbox",href:r.link,title:c,"data-title":t.lightbox_title||"",rel:this.id});l.appendChild(n),e.appendChild(l),i.appendChild(e)}else i.appendChild(n);if(""!==c&&!0===o||""!==p&&!0===s){let e=v("dd","wp-caption-text gallery-caption");""!==c&&!0===o&&e.appendChild(v("strong","themify_image_title tf_block",c)),""!==p&&!0===s&&e.appendChild(v("span","themify_image_caption",p)),i.appendChild(e)}l.appendChild(i)}return l}},i.isFrontend&&e.on("tb_options_expand",(l=>{if(i.isVisual&&l&&"gallery"===i.activeModel?.get("mod_name"))for(let o=l.querySelectorAll("#gr_ga_c,#gr_ga_r"),s=o.length-1;s>-1;--s){let l="gr_ga_r"===o[s].id;o[s].closest(".tb_slider_container").querySelector('input[type="range"]')?.tfOn("input",(()=>{const o=i.activeModel.el.tfClass("gallery-masonry")[0];o&&(l?t.Isotope?.data(o)?.layout():e.trigger("builder_load_module_partial",[o.parentNode,!0]))}),{passive:!0})}}))})(tb_app),(t=>{t.ModuleIcon=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"content_icon",type:"builder",options:[{id:"icon_type",type:"radio",label:"icont",options:[{value:"icon",name:"icon"},{value:"image",name:"image"},{value:"l",name:"lt"}],option_js:!0},{type:"group",wrap_class:"tb_group_element_image",options:[{id:"image",type:"image",label:"imgurl"},{type:"multi",label:"",options:[{id:"w_i",label:"w",type:"number",after:"px"},{id:"h_i",type:"number",label:"ht",after:"px"}]}]},{type:"multi",label:"icon",wrap_class:"tb_group_element_icon",options:[{id:"icon",type:"icon",label:"icon"},{id:"c",type:"color",label:"c"}]},{wrap_class:"tb_group_element_l",type:"lottie"},{id:"bg",type:"color",label:"bg"},{id:"label",type:"text",label:"label",control:{selector:".module-icon-item>span"}},{id:"hide_label",type:"checkbox",label:"",options:[{name:"hide",value:"hlabel"}]},{id:"link",type:"url",label:"l",binding:{empty:{hide:["link_options","lightbox_size"]},not_empty:{show:["link_options","lightbox_size"]}}},{id:"link_options",type:"radio",label:"o_l",link_type:!0,option_js:!0,wrap_class:" tb_compact_radios"},{type:"multi",label:"lbdim",options:[{id:"lightbox_width",label:"w",control:!1,type:"range",units:{px:{max:3500},"%":"",em:{min:-50,max:50}}},{id:"lightbox_height",label:"ht",control:!1,type:"range",units:{px:{max:3500},"%":"",em:{min:-50,max:50}}}],wrap_class:"tb_group_element_lightbox"}]},{type:"group",label:"ilay",display:"accordion",options:[{id:"icon_size",label:"size",type:"layout",mode:"sprite",options:[{img:"normall_button",value:"normal",label:"n"},{img:"small_button",value:"small",label:"sml"},{img:"large_button",value:"large",label:"lrg"},{img:"xlarge_button",value:"xlarge",label:"xlrg"}],control:{classSelector:""}},{id:"icon_style",label:"ishape",type:"layout",mode:"sprite",options:[{img:"circle_button",value:"circle",label:"circle"},{img:"rounded_button",value:"rounded",label:"rounded"},{img:"squared_button",value:"squared",label:"squared"},{img:"none",value:"none",label:"none"}],control:{classSelector:""}},{id:"icon_arrangement",label:"arrang",type:"layout",mode:"sprite",default:"icon_horizontal",options:[{img:"horizontal_button",value:"icon_horizontal",label:"hrztal"},{img:"vertical_button",value:"icon_vertical",label:"vertical"}],control:{classSelector:""}},{id:"icon_position",type:"icon_radio",label:"iconp",aligment2:!0}]},{type:"custom_css_id",custom_css:"css_icon"}]}static default(){return{content_icon:[{icon:"fa-home",label:g.ilabel,bg:"#4d7de1",c:"#edf3ff"}]}}static builderSave(e){const i={icon_size:"normal",icon_style:"circle",icon_arrangement:"icon_horizontal",icon_position:"left"},l=e.content_icon,o=["f_s_i","f_s_i_h"];"undefined"===e.icon_position&&delete e.icon_position;for(let t in i)e[t]===i[t]&&delete e[t];if(l){const e={icon_type:"icon",lightbox_width_unit:"px",lightbox_height_unit:"px",link_options:"regular"},t=["st","count","sp","dir","seg","fid","r","lp"];for(let i=l.length-1;i>-1;--i){let o=l[i],s=o.icon_type;for(let t in e)o[t]===e[t]&&delete o[t];if("image"!==s&&"l"!==s||delete o.icon,o.icon||delete o.c,"image"===s?(delete o.icon_color_bg,delete o.bg):delete o.image,o.image||(delete o.w_i,delete o.h_i),"l"!==s&&delete o.path,!o.path)for(let e=t.length-1;e>-1;--e)o[t[e]]!==f&&delete o[t[e]];o.link||delete o.link_options,"lightbox"!==o.link_options&&(delete o.lightbox_width,delete o.lightbox_height),o.lightbox_width||delete o.lightbox_width_unit,o.lightbox_height||delete o.lightbox_height_unit,o.hide_label&&o.label&&"|"!==o.hide_label&&"false"!==o.hide_label||delete o.hide_label}}for(let i=t.breakpointsReverse,l=i.length-1;l>-1;--l){let t=i[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",t,e),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",t,e),this.clearFontColor("font_color_type","font_color","font_gradient_color",t,e),this.clearFontColor("f_c_t_f_c_h","f_c_f_c_h","f_g_c_f_c_h",t,e),this.clearShadow("text-shadow",0,t,e),this.clearShadow("t_sh_h",0,t,e),this.clearPadding("padding",t,e),this.clearPadding("p_h",t,e),this.clearPadding("p_ctn",t,e),this.clearPadding("p_ctn_h",t,e),this.clearPadding("p_i",t,e),this.clearPadding("p_i_h",t,e),this.clearPadding("margin",t,e),this.clearPadding("m_h",t,e),this.clearPadding("m_ctn",t,e),this.clearPadding("m_ctn_h",t,e),this.clearPadding("m_i",t,e),this.clearPadding("m_i_h",t,e),this.clearPadding("b_ra",t,e),this.clearPadding("r_c_h",t,e),this.clearPadding("r_c_ctn",t,e),this.clearPadding("r_c_ctn_h",t,e),this.clearPadding("r_c_i",t,e),this.clearPadding("r_c_i_h",t,e),this.clearBorder("border",t,e),this.clearBorder("b_h",t,e),this.clearBorder("b_ctn",t,e),this.clearBorder("b_ctn_h",t,e),this.clearFilter("bl_m","css_f",t,e),this.clearFilter("_h","css_f_h",t,e),this.clearWidth("w",t,e),this.clearWidth("ht",t,e,1),this.clearShadow("b_sh",1,t,e),this.clearShadow("sh_h",1,t,e),this.clearShadow("b_sh_ctn",1,t,e),this.clearShadow("b_sh_ctn_h",1,t,e),this.clearShadow("b_sh_i",1,t,e),this.clearShadow("b_sh_i_h",1,t,e),this.clearPosition("po",t,e),this.clearTransform("tr",t,e),this.clearTransform("tr-h",t,e),this.clearUnits(o,t,e)}super.builderSave(e)}q(e,i){let l,o,s=e.icon_type||"icon",a="image"!==s?"l"!==s?e.icon?t.Helper.getIcon(e.icon):"":t.Helper.getLottie(e,"parent"):e.image,_=e.label&&"hide"!==e.hide_label?v("span"):null,n=v("","module-icon-item tf_rel tb_is_repeat"),r=this.constructor;if(a)if("image"===s)o=r.setEditableImage(v("img",{class:"tf_box","data-globalsize":0}),"image","w_i","h_i",e,"content_icon");else{let i=[];o=v("em","tf_box"+(e.icon_color_bg&&"default"!==e.icon_color_bg?" "+e.icon_color_bg:"")),e.bg&&i.push("background:"+t.Helper.toRGBA(e.bg)),e.c&&i.push("color:"+t.Helper.toRGBA(e.c)),i.length>0&&(o.style=i.join(";")),o.appendChild(a)}if(_&&(_.dataset.noUpdate=1,r.A(_,"label",e.label,"","content_icon")),e.link){let t=e.link_options;l=v("a"),l.href=e.link,"newtab"===t?(l.target="_blank",l.rel="noopener"):"lightbox"===t&&(l.className="lightbox-builder themify_lightbox",(e.lightbox_width||e.lightbox_height)&&(l.dataset.zoomConfig=e.lightbox_width+e.lightbox_width_unit+"|"+e.lightbox_height+e.lightbox_height_unit)),o&&l.appendChild(o),_&&l.appendChild(_),n.appendChild(l)}else o&&n.appendChild(o),_&&n.appendChild(_);return n.appendChild(v("span",{role:"button",class:"tb_del_btn tb_del_micon tf_close tb_disable_sorting",title:"Delete Button"})),n}preview(i){const l=v(),{content_icon:o=[],icon_position:s,icon_arrangement:a,icon_style:_,icon_size:n,css_icon:r}=i,d=["module","module-icon"];n&&d.push(n),_&&d.push(_),a&&d.push(a),s&&"undefined"!==s&&d.push("tf_text"+s.replace("icon_position_","")[0]),r&&d.push(r),l.tfOn(y,(i=>{const l=i.target,o=l?.classList;if(o.contains("tb_add_micon")||o.contains("tb_del_micon"))if(i.stopPropagation(),o.contains("tb_add_micon"))if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("add_new")[0],i.type);else{t.undoManager.start("inlineAdd");const e=this.get("mod_settings"),i=this.constructor.default().content_icon?.[0]||{},o=this.q(i,e);e.content_icon??=[],e.content_icon.push(i),l.parentNode.after(o),o.appendChild(l),this.set("mod_settings",e),t.undoManager.end("inlineAdd")}else{const o=l.closest(".module-icon-item"),s=e.convert(o.parentNode.tfClass("module-icon-item")).indexOf(o);if(-1!==s)if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("tb_delete_row")[s],i.type);else{t.undoManager.start("inlineDelete");const e=this.get("mod_settings"),i=o.tfClass("tb_add_micon")[0];e.content_icon.splice(s,1),this.set("mod_settings",e),i&&o.previousElementSibling?.appendChild(i),o.remove(),t.undoManager.end("inlineDelete")}}}),{passive:!0}).className=d.join(" ");for(let e=0,t=o.length;e<t;++e){let s=this.q(o[e],i);t-1===e&&s.appendChild(v("span",{role:"button",class:"tb_add_btn tb_add_micon tf_plus_icon tb_disable_sorting",title:"Add Button"})),l.appendChild(s)}return l}}})(tb_app),(t=>{t.ModuleImage=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_image",type:"title"},{id:"style_image",type:"layout",label:"imgst",mode:"sprite",options:[{img:"image_top",value:"image-top",label:"imgtop"},{img:"image_left",value:"image-left",label:"imgleft"},{img:"image_center",value:"image-center",label:"imgcenter"},{img:"image_right",value:"image-right",label:"imgright"},{img:"image_overlay",value:"image-overlay",label:"pover"},{img:"image_card_layout",value:"image-card-layout",label:"clay"},{img:"image_centered_overlay",value:"image-full-overlay",label:"fover"}],binding:{not_empty:{hide:"caption_on_overlay"},"image-overlay":{show:"caption_on_overlay"},"image-full-overlay":{show:"caption_on_overlay"}},control:{classSelector:""}},{id:"caption_on_overlay",type:"checkbox",label:"",options:[{name:"yes",value:"sover_h"}]},{id:"url_image",type:"image",label:"imgurl",required:{message:"imgerr"}},{id:"appearance_image",type:"checkbox",label:"app",img_appearance:!0},{id:"image_size_image",type:"image_size"},{id:"width_image",label:"w",type:"number",after:"px"},{id:"auto_fullwidth",type:"checkbox",label:"",options:[{name:"1",value:"afullwimg"}],wrap_class:"auto_fullwidth"},{id:"height_image",type:"number",label:"ht",after:"px"},{id:"title_image",type:"text",label:"imgt",control:{selector:"[data-name='title_image']"}},{id:"title_tag",type:"select",label:"tht",h_tags:!0,default:"h3"},{id:"link_image",type:"url",label:"imgl",binding:{empty:{hide:["param_image","image_zoom_icon","lightbox_size"]},not_empty:{show:["param_image","image_zoom_icon","lightbox_size"]}}},{id:"param_image",type:"radio",label:"o_l",link_type:!0,option_js:!0,wrap_class:"link_options tb_compact_radios",binding:{regular:{hide:"lightbox_size"},newtab:{hide:"lightbox_size"},lightbox:{show:"lightbox_size"}}},{type:"multi",label:"lbdim",id:"multi_lightbox",options:[{id:"lightbox_width",type:"range",label:"w",control:!1,units:{px:{max:3500},"%":""}},{id:"lightbox_height",type:"range",label:"ht",control:!1,units:{px:{max:3500},"%":""}}],wrap_class:"tb_group_element_lightbox"},{id:"image_zoom_icon",type:"checkbox",label:"",options:[{name:"zoom",value:"szoomic"}],wrap_class:"tb_group_element_lightbox tb_group_element_newtab"},{id:"caption_image",type:"textarea",label:"imgc",control:{selector:".image-caption"}},{id:"alt_image",type:"text",label:"alt",help:"alth",control:!1},{type:"custom_css_id",custom_css:"css_image"}]}static builderSave(e){const i={style_image:"image-top",param_image:"regular",lightbox_width_unit:"px",lightbox_height_unit:"px",title_tag:"h3",auto_fullwidth:!1,appearance_image:!1,caption_on_overlay:!1},l=["font_size_caption","line_height_caption","f_s_c_h"];for(let t in i)e[t]===i[t]&&delete e[t];"image-overlay"!==e.style_image&&"image-full-overlay"!==e.style_image&&delete e.caption_on_overlay,e.link_image||delete e.param_image,e.param_image||delete e.image_zoom_icon,"|"!==e.auto_fullwidth&&"false"!==e.auto_fullwidth||delete e.auto_fullwidth,"|"!==e.appearance_image&&"false"!==e.appearance_image||delete e.appearance_image,"lightbox"!==e.param_image&&(delete e.lightbox_width,delete e.lightbox_height),e.lightbox_width||delete e.lightbox_width_unit,e.lightbox_height||delete e.lightbox_height_unit;for(let i=t.breakpointsReverse,o=i.length-1;o>-1;--o){let t=i[o];this.clearImageGradient("background_image","background_color","background_repeat","background_position",t,e),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",t,e),this.clearFontColor("font_color_type","font_color","font_gradient_color",t,e),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",t,e),this.clearShadow("text-shadow",0,t,e),this.clearShadow("t_sh_h",0,t,e),this.clearShadow("t_sh_m_t",0,t,e),this.clearShadow("t_sh_m_t_h",0,t,e),this.clearPadding("padding",t,e),this.clearPadding("p_h",t,e),this.clearPadding("i_t_p",t,e),this.clearPadding("i_t_p_h",t,e),this.clearPadding("c_p",t,e),this.clearPadding("c_p_h",t,e),this.clearPadding("margin",t,e),this.clearPadding("m_h",t,e),this.clearPadding("title_margin",t,e),this.clearPadding("t_m_h",t,e),this.clearPadding("i_t_m",t,e),this.clearPadding("i_t_m_h",t,e),this.clearPadding("c_m",t,e),this.clearPadding("c_m_h",t,e),this.clearPadding("b_ra",t,e),this.clearPadding("r_c_h",t,e),this.clearPadding("i_t_r_c",t,e),this.clearPadding("i_t_r_c_h",t,e),this.clearPadding("c_r_c",t,e),this.clearPadding("c_r_c_h",t,e),this.clearBorder("border",t,e),this.clearBorder("b_h",t,e),this.clearBorder("i_t_b",t,e),this.clearBorder("i_t_b_h",t,e),this.clearFilter("bl_m","css_f",t,e),this.clearFilter("_h","css_f_h",t,e),this.clearWidth("w",t,e),this.clearWidth("ht",t,e,1),this.clearShadow("b_sh",1,t,e),this.clearShadow("sh_h",1,t,e),this.clearShadow("i_t_sh",1,t,e),this.clearShadow("i_t_sh_h",1,t,e),this.clearShadow("c_sh",1,t,e),this.clearShadow("c_sh_h",1,t,e),this.clearPosition("po",t,e),this.clearTransform("tr",t,e),this.clearTransform("tr-h",t,e),this.clearUnits(l,t,e)}super.builderSave(e)}async edit(t){await super.edit(t),t&&"setting"!==t||this.get("mod_settings").url_image||ThemifyConstructor.afterRun.push((()=>{e.triggerEvent(ThemifyConstructor.getEl("url_image").parentNode.tfClass("tb_upload_btn")[0],y)}))}getImage(e){const i=e||this.get("mod_settings"),l=i.url_image,o=new Image(32,32);return l?(o.src=l,t.activeModel||(o.loading="lazy"),o.alt=this.getName(),o):super.getImage(i)}preview(e){let i,l=v(),o=v("","image-wrap tf_rel tf_mw"),{style_image:s="image-top",url_image:a}=e,_=["module","module-image",s,"tf_mw"],n={},r=this.constructor;if(e.auto_fullwidth&&_.push("auto_fullwidth"),"yes"!==e.caption_on_overlay||"image-overlay"!==s&&"image-full-overlay"!==s||_.push("active-caption-hover"),e.css_image&&_.push(e.css_image),e.appearance_image&&_.push(e.appearance_image.split("|").join(" ")),l.className=_.join(" "),a&&(i=r.setEditableImage(v("img"),"url_image","width_image","height_image",e),e.alt_image&&(i.alt=e.alt_image)),e.link_image){const l=e.param_image;if("lightbox"===l){const t=[];e.lightbox_width&&t.push(e.lightbox_width+(e.lightbox_width_unit||"px")),e.lightbox_height&&t.push(e.lightbox_height+(e.lightbox_height_unit||"px")),t.length>0&&(n["data-zoom-config"]=t.join("|")),n.class="lightbox-builder themify_lightbox"}else"newtab"===l&&(n.rel="noopener",n.target="_blank");n.href=e.link_image;const a=v("a",n);if(l&&"regular"!==l&&"zoom"===e.image_zoom_icon&&"image-full-overlay"!==s){const e=v("span","zoom");e.appendChild(t.Helper.getIcon("lightbox"===l?"ti-search":"ti-new-window")),a.appendChild(e)}i&&a.appendChild(i),o.appendChild(a)}else i&&o.appendChild(i);if(e.mod_title_image&&l.appendChild(r.getModuleTitle(e.mod_title_image,"mod_title_image")),l.appendChild(o),e.title_image||e.caption_image){const t=v("","image-content"+("image-full-overlay"===s?" tf_overflow":""));if(e.title_image){let i=v(e.title_tag||"h3","image-title"),l=i;if(e.link_image){const e=v("a",n);i.appendChild(e),l=e}r.A(l,"title_image",e.title_image),t.appendChild(i)}if(e.caption_image){const i=r.A(v("","image-caption tb_text_wrap"),"caption_image");i.innerHTML=e.caption_image,t.appendChild(i)}"image-overlay"===s?o.appendChild(t):l.appendChild(t)}return l}}})(tb_app),(e=>{e.ModuleLayoutPart=class extends e.Module{constructor(e){super(e)}static getOptions(){const e=themifyBuilder.admin_url;return[{id:"mod_title_layout_part",type:"title"},{id:"selected_layout_part",type:"layoutPart",label:"layoutp",required:{message:"lpartmsg"},add_url:e+"/post-new.php?post_type=tbuilder_layout_part",edit_url:e+"/edit.php?post_type=tbuilder_layout_part"},{type:"custom_css_id",custom_css:"add_css_layout_part"}]}static getAnimation(){return!1}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString('[themify_layout_part slug="'+(i.selected_layout_part||"")+'"]')}}})(tb_app),(e=>{e.ModuleLinkBlock=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"shape",type:"layout",mode:"sprite",label:"shape",options:[{img:"normall_button",value:"normal",label:"def"},{img:"squared_button",value:"squared",label:"squared"},{img:"circle_button",value:"circle",label:"circle"},{img:"rounded_button",value:"rounded",label:"rounded"}],control:{classSelector:" .ui"}},{id:"lb_layout",type:"layout",mode:"sprite",label:"lay",options:[{img:"lb_icon_center",value:"icon-center",label:"lcenter"},{img:"lb_icon_left",value:"icon-left",label:"ileft"},{img:"lb_icon_right",value:"icon-right",label:"iright"}],control:{classSelector:""}},{id:"style",type:"layout",mode:"sprite",label:"bg",options:[{img:"solid_button",value:"solid",label:"solid"},{img:"transparent_button",value:"transparent",label:"transparent"}],control:{classSelector:""}},{id:"heading",type:"text",label:"head",control:{selector:".tf_link_heading"}},{id:"blurb",type:"textarea",label:"blurb",control:{selector:".tf_link_blurb"}},{id:"icon_type",type:"radio",label:"icont",options:[{value:"icon",name:"icon"},{value:"image",name:"image"}],option_js:!0},{id:"image",type:"image",label:"imgurl",wrap_class:"tb_group_element_image"},{id:"icon",type:"icon",label:"icon",binding:{empty:{hide:"icon_alignment"},not_empty:{show:"icon_alignment"}},wrap_class:"tb_group_element_icon"},{id:"disp_icon_btm",type:"checkbox",label:"",options:[{name:"icon_disp_btm",value:"idispb"}]},{id:"link",type:"url",label:"l",binding:{empty:{hide:["link_options","button_color_bg","title","nofollow_link"]},not_empty:{show:["link_options","button_color_bg","title","nofollow_link"]}}},{id:"link_options",type:"radio",label:"o_l",link_type:!0,option_js:!0},{id:"nofollow_link",type:"toggle_switch",label:"nfollow",options:{on:{name:"yes"}},help:"nfollowh",control:!1,wrap_class:"tb_group_element_regular tb_group_element_newtab"},{type:"multi",label:"lbdim",options:[{id:"lightbox_width",type:"range",label:"w",control:!1,units:{px:{min:0,max:3e3},"%":{min:0,max:100}}},{id:"lightbox_height",label:"ht",control:!1,type:"range",units:{px:{min:0,max:3e3},"%":{min:0,max:100}}}],wrap_class:"tb_group_element_lightbox lightbox_size"},{id:"color",type:"layout",label:"c",class:"tb_colors",mode:"sprite",color:!0,transparent:!0,control:{classSelector:".ui"}},{id:"title",type:"text",label:"tat",control:!1,help:"tath"},{type:"custom_css_id",custom_css:"css_class"}]}static default(){return{heading:g.head,blurb:g.blurbtext,link:"https://themify.me/",lb_layout:"icon-center"}}static builderSave(e){const t={shape:"normal",lb_layout:"icon-center",style:"solid",icon_type:"icon",lightbox_width_unit:"px",lightbox_height_unit:"px",color:"default",link_options:"regular",disp_icon_btm:!1};for(let i in t)e[i]===t[i]&&delete e[i];e.link||(delete e.link_options,delete e.nofollow_link),"lightbox"!==e.link_options?(delete e.lightbox_width,delete e.lightbox_height):delete e.nofollow_link,e.lightbox_width||delete e.lightbox_width_unit,e.lightbox_height||delete e.lightbox_height_unit,"image"===e.icon_type?delete e.icon:delete e.image,(e.icon||e.image)&&"|"!==e.disp_icon_btm&&"false"!==e.disp_icon_btm||delete e.disp_icon_btm,super.builderSave(e)}preview(t){const i=v(),l=v(t.link?"a":"span"),o=v("","tf-lb-content"),s=t.icon_type||"icon",a=["module","module-link"],_=["tb_link_block_container","ui",t.color&&"default"!==t.color?t.color:"tb_default_color"],n=this.constructor;if(a.push(t.style||"solid",t.lb_layout||"icon-center"),t.disp_icon_btm&&a.push(t.disp_icon_btm),i.className=a.join(" "),t.shape&&"normal"!==t.shape&&_.push(t.shape),l.className=_.join(" "),t.link&&(l.href=t.link),"image"!==s&&t.icon||"image"===s&&t.image){let i;if("image"!==s){const l=v("em","tb_link_block_icon tf_inline_b");i=v("","tf-lb-icon"),l.appendChild(e.Helper.getIcon(t.icon)),i.appendChild(l)}else i=n.setEditableImage(v("img","tf_vmiddle tf_box tb_link_block_img"),"image","","",t);l.appendChild(i)}return t.heading&&o.appendChild(n.A(v("","tb_link_block_heading"),"heading",t.heading)),t.blurb&&o.appendChild(n.A(v("","tb_link_block_blurb"),"blurb",t.blurb)),l.appendChild(o),i.appendChild(l),i}}})(tb_app),(e=>{e.ModuleLogin=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title",type:"title"},{id:"content_text",type:"textarea",label:"lginmsg",help:"lginmsgh"},{type:"template_fields",title:"avfields",target:"content_text",fields:["%username%","%display_name%","%first_name%","%last_name%","%email%"]},{id:"logout_link",type:"toggle_switch",label:"lgoutlnk",options:{on:{name:"show",value:"s"},off:{name:"hide",value:"hi"}},binding:{hide:{hide:"logout_redirect"},show:{show:"logout_redirect"}}},{id:"logout_redirect",type:"url",label:"lgoutred",control:!1},{id:"alignment",type:"icon_radio",label:"falign",aligment2:!0},{type:"group",label:"lgform",display:"accordion",options:[{id:"redirect_to",type:"url",label:"rurl",help:"lgrurl",control:!1},{id:"fail_action",type:"select",label:"lgfail",options:{r:"rwp",c:"rcust",m:"shmsg"},binding:{r:{hide:["redirect_fail","msg_fail"]},c:{show:"redirect_fail",hide:"msg_fail"},m:{hide:"redirect_fail",show:"msg_fail"}}},{id:"redirect_fail",type:"url",label:"rurlerr",help:"lgrurlaft",control:!1},{id:"msg_fail",type:"textarea",label:"failmsg",after:"lgfailmsg",control:{selector:".tb_login_error"}},{type:"multi",label:"labels",options:[{id:"icon_username",type:"icon"},{id:"label_username",type:"text",after:"uname",control:{selector:".tb_login_username_text"}}]},{type:"multi",label:"",options:[{id:"icon_password",type:"icon"},{id:"label_password",type:"text",after:"pswd",control:{selector:".tb_login_password_text"}}]},{type:"multi",label:"",options:[{id:"icon_remember",type:"icon"},{id:"label_remember",type:"text",after:"rme",control:{selector:".tb_login_remember_text"}}]},{type:"multi",label:"",options:[{id:"icon_log_in",type:"icon"},{id:"label_log_in",type:"text",after:"lgin",control:{selector:".tb_login_submit button"}}]},{type:"multi",label:"",options:[{id:"icon_forgotten_password",type:"icon"},{id:"label_forgotten_password",type:"text",after:"fpswdlnk",control:{selector:".tb_login_form .tb_login_links a"}}]},{id:"remember_me_display",type:"toggle_switch",label:"rme",default:"on",options:{on:{name:"show",value:"s"},off:{name:"hide",value:"hi"}}}]},{type:"group",label:"resetf",display:"accordion",options:[{id:"lostpasswordform_redirect_to",type:"url",label:"rurl",help:"rurlrstf",control:!1},{type:"multi",label:"labels",options:[{id:"lostpasswordform_icon_username",type:"icon"},{id:"lostpasswordform_label_username",type:"text",after:"uname",control:{selector:".tb_lostpassword_username_text"}}]},{type:"multi",label:"",options:[{id:"lostpasswordform_icon_reset",type:"icon"},{id:"lostpasswordform_label_reset",type:"text",after:"rpswdbtn",control:{selector:".tb_lostpassword_submit button"}}]}]},{type:"custom_css_id",custom_css:"css"}]}static default(){return{label_username:g.unameemail,label_password:g.pswd,label_remember:g.rme,label_log_in:g.lgin,label_forgotten_password:g.fpswd,lostpasswordform_label_username:g.unameemail,lostpasswordform_label_reset:g.rpswd,msg_fail:g.msgfail}}static builderSave(e){const t={remember_me_display:"show",fail_action:"r",logout_link:"hide",alignment:"left"},i=e.fail_action;for(let i in t)e[i]===t[i]&&delete e[i];"undefined"===e.alignment&&delete e.alignment,"c"!==i&&delete e.redirect_fail,"m"!==i&&delete e.msg_fail,super.builderSave(e)}preview(t){const i=this.constructor,l=v(),o=v("","tb_login_wrap"),s=v("form",{class:"tb_login_form",name:"loginform"}),a=v("form",{class:"tb_lostpassword_form",name:"lostpasswordform"}),_=v("","tb_login_links"),n=v("a",{href:"#"}),r=v("p","tb_login_submit tf_right"),d=i.A(v("button"),"label_log_in",t.label_log_in),c=v("p","tb_lostpassword_submit tf_right"),p=i.A(v("button"),"lostpasswordform_label_reset",t.lostpasswordform_label_reset),h=v("","tb_login_links"),m=v("a",{href:"#"}),u=["module","module-login"],b=t.alignment&&"undefined"!==t.alignment&&"left"!==t.alignment?"center"===t.alignment?" tb_login_c":" tf_right":"",g=t=>{const i=v("em");return i.appendChild(e.Helper.getIcon(t)),i};t.css&&u.push(t.css),l.className=u.join(" "),o.className="tb_login_wrap",""!==b&&(o.className+=" "+b),"m"===t.fail_action&&s.appendChild(i.A(v("","tb_login_error"),"msg_fail",t.msg_fail));for(let e=0,l=["username","password","lostpassword_username"];e<l.length;++e){let o=l[e],_="lostpassword_username"===o,n=v("p"),r=v("label",_?"tb_lostpassword_username":"tb_login_"+o);_?t.lostpasswordform_icon_username&&r.appendChild(g(t.lostpasswordform_icon_username)):t["icon_"+o]&&r.appendChild(g(t["icon_"+o])),r.append(i.A(v("span",_?"tb_lostpassword_username_text":"tb_login_"+o+"_text"),_?"lostpasswordform_label_username":"label_"+o,_?t.lostpasswordform_label_username||"":t["label_"+o]||""),v("input",{class:"input",type:"password"===o?o:"text",name:"password"===o?"pwd":_?"user_login":"log"})),n.appendChild(r),_?a.appendChild(n):s.appendChild(n)}if(t.icon_forgotten_password&&_.appendChild(g(t.icon_forgotten_password)),_.appendChild(i.A(n,"label_forgotten_password",t.label_forgotten_password)),s.appendChild(_),"show"===t.remember_me_display){const e=v("p","tb_login_remember tf_left tf_box tf_clear"),l=v("label");l.appendChild(v("input",{name:"rememberme",type:"checkbox",value:1})),t.icon_remember&&l.appendChild(g(t.icon_remember)),l.appendChild(i.A(v("span","tb_login_remember_text"),"label_remember",t.label_remember)),e.appendChild(l),s.appendChild(e)}return t.icon_log_in&&d.prepend(g(t.icon_log_in)),r.appendChild(d),s.appendChild(r),t.lostpasswordform_icon_reset&&p.prepend(g(t.lostpasswordform_icon_reset)),c.appendChild(p),h.appendChild(i.A(m,"label_log_in",t.label_log_in)),a.append(c,h),t.mod_title&&l.appendChild(i.getModuleTitle(t.mod_title,"mod_title")),a.style.display="none",o.append(s,a),l.appendChild(o),l}}})(tb_app),(e=>{e.ModuleLottie=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"m_t",type:"title"},{id:"loop",label:"loopall",type:"toggle_switch",default:"on",options:{on:{name:"1",value:"y"},off:{name:"0",value:"n"}}},{type:"builder",id:"actions",options:[{type:"lottie",multi:1}]},{type:"custom_css_id",custom_css:"css"}]}static builderSave(e){const t=e.actions;if(1==~~e.loop&&delete e.loop,t)for(let e=t.length-1;e>-1;--e){let i=t[e];i.path?(i.delay<=0&&delete i.delay,i.sp!==f&&1==~~i.sp&&delete i.sp):t.splice(e,1)}super.builderSave(e)}preview(e){const t=v(),i=v("tf-lottie"),l=v("template"),o=["module","module-lottie"],s={actions:e.actions||[]};return e.css&&o.push(e.css),1!=~~e.loop&&e.loop!==f||(s.loop=1),t.className=o.join(" "),e.m_t&&t.appendChild(this.constructor.getModuleTitle(e.m_t,"m_t")),l.innerHTML=c.stringify(s),i.appendChild(l),t.appendChild(i),t}}})(tb_app),(e=>{e.ModuleMap=class extends e.Module{constructor(e){super(e)}static getOptions(){const e={};for(let t=1;t<21;++t)e[t]=t;return[{id:"mod_title_map",type:"title"},{id:"map_provider",type:"radio",label:"mapprv",options:[{value:"google",name:"Google"},{value:"bing",name:"Bing"}],option_js:!0},{id:"map_display_type",type:"radio",label:"type",options:[{value:"dynamic",name:"dynamic"},{value:"static",name:"stimg"}],option_js:!0,wrap_class:"tb_group_element_google"},{id:"address_map",type:"address",label:"address"},{id:"google_map_api_key",type:"check_map_api",map:"google",label:"",wrap_class:"tb_field_error_msg tb_group_element_google"},{id:"bing_map_api_key",type:"check_map_api",map:"bing",label:"",wrap_class:"tb_field_error_msg tb_group_element_bing"},{id:"latlong_map",type:"text",class:"large",label:"ltlng",help:"ltlngh"},{type:"group",label:"mapopt",display:"accordion",options:[{id:"bing_type_map",type:"select",label:"type",options:{aerial:"aerial",road:"road",canvasDark:"cnvsd",canvasLight:"cnvsl",grayscale:"grayscale"},wrap_class:"tb_group_element_bing"},{id:"zoom_map",type:"select",label:"zoom",default:"8",options:e},{id:"w_map",type:"range",class:"xsmall",default:100,label:"w",wrap_class:"tb_group_element_dynamic",units:{px:{max:3500},"%":"",vw:{max:3500}}},{id:"w_map_static",type:"number",label:"w",after:"px",default:500,wrap_class:"tb_group_element_static"},{id:"h_map",type:"range",label:"ht",class:"xsmall",default:300,units:{px:{max:3500},"%":{max:100},vh:""}},{type:"multi",label:"b",options:[{id:"b_style_map",type:"select",border:!0},{id:"b_color_map",type:"color",class:"large"},{id:"b_width_map",type:"range",class:"small",after:"px"}]},{id:"type_map",type:"select",label:"type",options:{ROADMAP:"roadm",SATELLITE:"stlle",HYBRID:"hybrid",TERRAIN:"terrain"},wrap_class:"tb_group_element_google"},{id:"map_control",type:"toggle_switch",label:"mcotrols",options:"simple",default:"off",wrap_class:"tb_group_element_dynamic"},{id:"draggable_map",type:"toggle_switch",label:"dragle",default:"on",options:{on:{name:"enable",value:"en"},off:{name:"disable",value:"dis"}},wrap_class:"tb_group_element_dynamic",binding:{checked:{show:"scrollwheel_map"},not_checked:{hide:"scrollwheel_map"}}},{id:"scrollwheel_map",type:"toggle_switch",label:"scrlwhl",default:"off",options:{on:{name:"enable",value:"en"},off:{name:"disable",value:"dis"}},wrap_class:"tb_group_element_dynamic"},{id:"draggable_disable_mobile_map",type:"toggle_switch",label:"mdragle",default:"off",options:{on:{name:"no",value:"en"},off:{name:"yes",value:"dis"}},wrap_class:"tb_group_element_dynamic"},{id:"info_window_map",type:"textarea",label:"infowin",help:"infowinh",wrap_class:"tb_group_element_dynamic"}]},{type:"custom_css_id",custom_css:"css_map"}]}static default(){return{address_map:"Toronto",map_control:"yes",w_map_unit:"%"}}static builderSave(e){const t={h_map_unit:"px",b_style_map:"solid",type_map:"ROADMAP",bing_type_map:"aerial",scrollwheel_map:"disable",draggable_map:"enable",map_control:"no",draggable_disable_mobile_map:"yes",map_provider:"google",map_display_type:"dynamic"},i={w_map:100,w_map_static:500,zoom_map:8,h_map:300};for(let i in t)e[i]===t[i]&&delete e[i];"disable"===e.draggable_map&&"no"!==e.draggable_disable_mobile_map&&delete e.scrollwheel_map;for(let t in i)~~e[t]===i[t]&&delete e[t];if(("none"===e.b_style_map||e.b_width_map<=0)&&(delete e.b_width_map,delete e.b_color_map),"bing"!==e.map_provider?delete e.bing_type_map:(delete e.map_display_type,delete e.type_map),e.address_map?.trim().replace(/\s\s+/g," ")&&delete e.latlong_map,"w_map_static"!==e.map_display_type)delete e.w_map_static;else{const t=["map_control","draggable_map","scrollwheel_map","draggable_disable_mobile_map","info_window_map"];for(let i=t.length-1;i>-1;--i)e[t[i]]!==f&&delete e[t[i]]}super.builderSave(e)}preview(t){let i,l=v(),o=["module","module-map"],s=t.address_map?.trim().replace(/\s\s+/g," ")||"",{h_map:a="300",w_map:_="100",latlong_map:n,map_provider:r="google",type_map:d="ROADMAP",zoom_map:c=8}=t;if(t.css_map&&o.push(t.css_map),l.className=o.join(" "),t.mod_title_map&&l.appendChild(this.constructor.getModuleTitle(t.mod_title_map,"mod_title_map")),"google"===r&&"static"===t.map_display_type){let e="key="+themify_vars.map_key,l=t.w_map_static||500;i=v("img"),(s||n)&&(e+="&center="+(s||n)),e+="&zoom="+c+"&maptype="+d.toLowerCase()+"&size=",e+=(""+l).replace(/[^0-9]/,""),e+="x"+(""+a).replace(/[^0-9]/,""),i.src="https://maps.googleapis.com/maps/api/staticmap?"+e}else if(s||n){i=v("","themify_map"),"google"!==r&&(i.className+=" themify_bing_map");const e=i.dataset;i.style.width=_+(t.w_map_unit||"%"),i.style.height=a+(t.h_map_unit||"px"),e.mapProvider=r,e.address=s||n,e.reverseGeocoding=!s&&n,e.control="no"!==t.map_control?0:1,e.zoom=c,e.type="google"===r?d:t.bing_type_map||"aerial",e.scroll="enable"===t.scrollwheel_map?1:0,e.drag=0,e.mdrag=0,e.infoWindow=t.info_window_map||"<b>"+g.address+"</b><br/><p>"+s+"</p>"}if(i){if(t.b_width_map){const l=t.b_style_map||"solid";"none"!==l?(i.style.border=l+" "+t.b_width_map+"px",t.b_color_map&&(i.style.borderColor=e.Helper.toRGBA(t.b_color_map))):i.style.border=l}l.appendChild(i)}return l}}})(tb_app),(e=>{e.ModuleMenu=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_menu",type:"title"},{id:"layout_menu",type:"layout",label:"menul",mode:"sprite",options:[{img:"menu_bar",value:"menu-bar",label:"menubar"},{img:"menu_fullbar",value:"fullwidth",label:"menufbar"},{img:"menu_vertical",value:"vertical",label:"menuv"}],binding:{not_empty:{hide:"accordion",show:"mega"},vertical:{show:"accordion",hide:"mega"}},control:{classSelector:".ui"}},{id:"accordion",label:"accst",type:"toggle_switch",options:{on:{name:"allow_menu",value:"en"},off:{name:"",value:"dis"}}},{id:"custom_menu",type:"select",dataset:"menu",description:g.addmore+' <a href="'+themifyBuilder.admin_url+'/nav-menus.php" target="_blank">'+g.lmenu+"</a>",label:"menuc",options:[]},{id:"allow_menu_fallback",label:"",type:"checkbox",options:[{name:"allow_fallback",value:"listallfail"}]},{id:"mega",label:"megam",type:"toggle_switch",options:{on:{name:"y",value:"en"},off:{name:"",value:"dis"}},help:"megamh"},{id:"allow_menu_breakpoint",label:"mobmenu",type:"toggle_switch",options:{on:{name:"allow_menu",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:["menu_breakpoint","menu_slide_direction","mobile_menu_style"]},not_checked:{hide:["menu_breakpoint","menu_slide_direction","mobile_menu_style"]}}},{id:"menu_breakpoint",label:"",type:"number",after:"bppx",binding:{empty:{hide:"menu_slide_direction"},not_empty:{show:"menu_slide_direction"}},wrap_class:"tb_checkbox_element_allow_menu"},{id:"mobile_menu_style",label:"",type:"select",after:"stl",options:{slide:"slide",overlay:"overlay",dropdown:"drpdwn"},binding:{slide:{show:"menu_slide_direction"},overlay:{show:"menu_slide_direction"},dropdown:{hide:"menu_slide_direction"}},wrap_class:"tb_checkbox_element_allow_menu"},{id:"menu_slide_direction",label:"",type:"select",after:"sldir",options:{right:"right",left:"left"},wrap_class:"tb_checkbox_element_allow_menu"},{id:"tooltips",type:"toggle_switch",label:"menutlt",default:"off",options:"simple"},{id:"color_menu",type:"layout",label:"c",class:"tb_colors",mode:"sprite",color:!0,transparent:!0,control:{classSelector:".ui"}},{id:"according_style_menu",type:"checkbox",label:"app",appearance:!0},{type:"custom_css_id",custom_css:"css_menu"}]}static getGroup(){return["general","site"]}static default(){return{allow_menu_fallback:"allow_fallback"}}getExcerpt(t){let i=(t||this.get("mod_settings")).custom_menu;if(i){const e=ThemifyConstructor.select.cache.get("menu");e?.[i]&&(i=e[i])}return e.Helper.limitString(i)}static builderSave(t){const i={layout_menu:"menu-bar",color_menu:"default",menu_slide_direction:"right",mobile_menu_style:"slide",tooltips:"no",according_style_menu:!1,allow_menu_fallback:!1},l=["font_size_menu_dropdown_links","l_h_m_d_l","l_s_m_d_l","f_s_m_d_l_h","f_s_m_m","l_h_m_m","l_s_m_m","f_s_m_m_h"];for(let e in i)t[e]===i[e]&&delete t[e];t.according_style_menu&&"|"!==t.according_style_menu||delete t.according_style_menu,t.allow_menu_fallback&&"|"!==t.allow_menu_fallback||delete t.allow_menu_fallback,"vertical"!==t.layout_menu?delete t.accordion:delete t.mega,t.allow_menu_breakpoint?"dropdown"===t.mobile_menu_style&&delete t.menu_slide_direction:(delete t.menu_breakpoint,delete t.mobile_menu_style,delete t.menu_slide_direction);for(let i=e.breakpointsReverse,o=i.length-1;o>-1;--o){let e=i[o];this.clearShadow("text-shadow",0,e,t),this.clearShadow("t_sh_h",0,e,t),this.clearShadow("t_sh_m_t",0,e,t),this.clearShadow("t_sh_m_t_h",0,e,t),this.clearShadow("t_sh_l",0,e,t),this.clearShadow("t_sh_l_h",0,e,t),this.clearShadow("t_sh_m",0,e,t),this.clearShadow("t_sh_m_h",0,e,t),this.clearPadding("padding",e,t),this.clearPadding("p_h",e,t),this.clearPadding("p_m_l",e,t),this.clearPadding("p_m_l_h",e,t),this.clearPadding("d_l_p",e,t),this.clearPadding("d_l_p_h_h",e,t),this.clearPadding("p_m_m_ct",e,t),this.clearPadding("p_m_m_ct_h",e,t),this.clearPadding("p_m_m",e,t),this.clearPadding("p_m_m_h",e,t),this.clearPadding("p_m_m_i",e,t),this.clearPadding("p_m_m_i_h",e,t),this.clearPadding("p_m_m_cb",e,t),this.clearPadding("p_m_m_cb_h",e,t),this.clearPadding("margin",e,t),this.clearPadding("m_h",e,t),this.clearPadding("m_m_l",e,t),this.clearPadding("m_m_l_h",e,t),this.clearPadding("d_l_m",e,t),this.clearPadding("d_l_m_h_h",e,t),this.clearPadding("m_m_m",e,t),this.clearPadding("m_m_m_h",e,t),this.clearPadding("m_m_m_i",e,t),this.clearPadding("m_m_m_i_h",e,t),this.clearPadding("m_m_m_cb",e,t),this.clearPadding("m_m_m_cb_h",e,t),this.clearPadding("b_ra",e,t),this.clearPadding("r_c_h",e,t),this.clearPadding("r_c_m_l",e,t),this.clearPadding("r_c_m_l_h",e,t),this.clearPadding("r_c_m_m_cb",e,t),this.clearPadding("r_c_m_m_cb_h",e,t),this.clearBorder("border",e,t),this.clearBorder("b_h",e,t),this.clearBorder("b_m_l",e,t),this.clearBorder("b_m_l_h",e,t),this.clearBorder("b_m_c_l",e,t),this.clearBorder("b_m_c_l_h",e,t),this.clearBorder("d_l_b",e,t),this.clearBorder("d_l_b_h_h",e,t),this.clearBorder("b_m_m_ct",e,t),this.clearBorder("b_m_m_ct_h",e,t),this.clearBorder("b_m_m",e,t),this.clearBorder("b_m_m_h",e,t),this.clearBorder("mm_c_l_b",e,t),this.clearBorder("mm_c_l_b_h_h",e,t),this.clearBorder("b_m_m_i",e,t),this.clearBorder("b_m_m_i_h",e,t),this.clearBorder("b_m_m_cb",e,t),this.clearBorder("b_m_m_cb_h",e,t),this.clearFilter("bl_m","css_f",e,t),this.clearFilter("_h","css_f_h",e,t),this.clearWidth("w",e,t),this.clearWidth("wh_m_m_ct",e,t),this.clearWidth("w_m_m_i",e,t),this.clearWidth("w_m_m_cb",e,t),this.clearWidth("ht",e,t,1),this.clearWidth("h_m_m_i",e,t,1,"mi_m_i","mx_m_i"),this.clearWidth("h_m_m_cb",e,t,1,"mi_m_cb","mx_m_cb"),this.clearShadow("b_sh",1,e,t),this.clearShadow("sh_h",1,e,t),this.clearShadow("sh_m_l",1,e,t),this.clearShadow("sh_m_l_h",1,e,t),this.clearShadow("sh_m_c_l",1,e,t),this.clearShadow("sh_m_c_l_h",1,e,t),this.clearShadow("sh_m_m_ct",1,e,t),this.clearShadow("sh_m_m_ct_h",1,e,t),this.clearShadow("sh_m_m_cb",1,e,t),this.clearShadow("sh_m_m_cb_h",1,e,t),this.clearPosition("po",e,t),this.clearTransform("tr",e,t),this.clearTransform("tr-h",e,t),this.clearUnits(l,e,t)}super.builderSave(t)}}})(tb_app),(e=>{e.ModuleOptin=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title",type:"title"},{id:"layout",type:"layout",label:"lay",mode:"sprite",options:[{img:"optin_inline_block",value:"tb_optin_inline_block",label:"inlblock"},{img:"optin_horizontal",value:"tb_optin_horizontal",label:"hrztal"},{img:"optin_block",value:"tb_optin_block",label:"block"}],control:{classSelector:""}},{id:"provider",label:"optprd",type:"optin_provider"},{type:"captcha",recaptcha:"on"},{type:"group",label:"labels",display:"accordion",options:[{type:"multi",label:"fname",options:[{id:"label_firstname",type:"text",help:"fnameh",control:{selector:".tb_optin_fname_text"}},{id:"fname_hide",type:"checkbox",options:[{name:"1",value:"hi"}],binding:{checked:{show:"default_fname"},not_checked:{hide:"default_fname"}}}]},{id:"fn_placeholder",type:"text",label:"placeh"},{id:"default_fname",type:"text",label:"dfname",help:"dfnameh"},{type:"multi",label:"lname",options:[{id:"label_lastname",type:"text",help:"lnameh",control:{selector:".tb_option_lastname_text"}},{id:"lname_hide",type:"checkbox",options:[{name:"1",value:"hi"}],binding:{checked:{show:"default_lname"},not_checked:{hide:"default_lname"}}}]},{id:"ln_placeholder",type:"text",label:"placeh"},{id:"default_lname",type:"text",label:"dlname"},{id:"label_email",type:"text",label:"em",control:{selector:".tb_option_email_text"}},{id:"email_placeholder",type:"text",label:"placeh"},{id:"label_submit",type:"text",label:"submit",control:{selector:".tb_option_submit button"}},{id:"button_icon",type:"icon",label:"btnic"},{id:"gdpr",label:"gdpr",type:"toggle_switch",options:{on:{name:"on",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:"gdpr_label"},not_checked:{hide:"gdpr_label"}}},{id:"gdpr_label",type:"textarea",label:"gdpr_msg"}]},{type:"group",label:"sucact",display:"accordion",options:[{id:"success_action",type:"radio",label:"sucact",options:[{value:"s2",name:"showmsg"},{value:"s1",name:"rtourl"}],option_js:!0},{id:"redirect_to",type:"url",label:"rurl",wrap_class:"tb_group_element_s1"},{id:"message",type:"wp_editor",wrap_class:"tb_group_element_s2"}]},{type:"custom_css_id",custom_css:"css"}]}static default(){return{label_firstname:g.fname,default_fname:"John",label_lastname:g.lname,default_lname:"Doe",label_email:g.em,label_submit:g.sbscrbe,message:g.suc,layout:"tb_optin_inline_block",gdpr_label:g.gdpr_opt_msg}}static builderSave(e){const t={provider:"mailchimp",layout:"tb_optin_inline_block",success_action:"s2"};for(let i in t)e[i]===t[i]&&delete e[i];e.fname_hide&&"|"!==e.fname_hide&&"false"!==e.fname_hide?(delete e.label_firstname,delete e.fn_placeholder):(delete e.fname_hide,delete e.default_fname),e.lname_hide&&"|"!==e.lname_hide&&"false"!==e.lname_hide?(delete e.label_lastname,delete e.ln_placeholder):(delete e.lname_hide,delete e.default_lname),e.gdpr||delete e.gdpr_label,e.success_action&&delete e.message,"s1"!==e.success_action&&delete e.redirect_to,super.builderSave(e)}preview(t){const i=v(),l=v("form","tb_optin_form"),o=v("","tb_optin_submit"),s=v("button"),a=["module","module-optin"],_=new u,n=this.constructor;t.layout&&a.push(t.layout),t.css&&a.push(t.css),i.className=a.join(" "),t.fname_hide||_.set("fname",{k:"label_firstname",pl:"fn_placeholder"}),t.lname_hide||_.set("lname",{k:"label_lastname",pl:"ln_placeholder"}),_.set("email",{k:"label_email",pl:"email_placeholder"}),"on"===t.gdpr&&_.set("gdpr",{k:"gdpr_label"});for(let[e,i]of _){let o=v("","tb_optin_"+e),s=n.setEditableContent(v("label","tb_optin_"+e+"_text"),i.k,t[i.k]),a=v("input",{type:"email"===e?e:"gdpr"===e?"checkbox":"text",name:"tb_optin_"+e,required:1});i.pl&&t[i.pl]&&(a.placeholder=t[i.pl]),"gdpr"===e?s.prepend(a):(a.className="tb_optin_input",s.appendChild(a)),o.appendChild(s),l.appendChild(o)}if(t.button_icon){const i=v("em");i.appendChild(e.Helper.getIcon(t.button_icon)),s.appendChild(i)}return s.appendChild(n.A(v("span"),"label_submit",t.label_submit)),o.appendChild(s),l.appendChild(o),t.mod_title&&i.appendChild(n.getModuleTitle(t.mod_title,"mod_title")),i.appendChild(l),i}}})(tb_app),(e=>{e.ModuleOverlayContent=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"selected_layout_part",type:"layoutPart",label:"layoutPart",required:{message:"lpartmsg"},add_url:themifyBuilder.admin_url+"/post-new.php?post_type=tbuilder_layout_part",edit_url:themifyBuilder.admin_url+"/edit.php?post_type=tbuilder_layout_part"},{type:"multi",label:"ovdim",options:[{id:"overlay_width",default:100,label:"w",type:"range",units:{"%":"",vw:"",px:{max:5e3}}},{id:"overlay_height",default:100,label:"ht",type:"range",units:{"%":"",vh:"",px:{max:5e3}}}]},{id:"overlay_type",type:"radio",label:"ovst",options:[{value:"overlay",name:"overlay"},{value:"expandable",name:"expandable"}],option_js:!0,wrap_class:"tb_group_element_overlay tb_group_element_expandable"},{id:"style",label:"",type:"select",options:{overlay:"fadein",slide_down:"sldwn",slide_left:"sllft",slide_right:"slrgt",slide_up:"slup"},wrap_class:"tb_group_element_overlay"},{id:"expand_mode",label:"openas",type:"select",options:{overlap:"overlap",below:"below"},wrap_class:"tb_group_element_expandable"},{id:"icon",type:"icon",label:"icon",class:"large"},{id:"icon_title",type:"text",class:"large",label:"itext",control:{selector:".tb_ov_co_icon_title"}},{type:"custom_css_id",custom_css:"add_css_layout_part"}]}static getAnimation(){return!1}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString('[themify_layout_part slug="'+(i.selected_layout_part||"")+'"]')}static builderSave(e){const t={style:"overlay",overlay_type:"overlay",expand_mode:"overlap",overlay_width:"100",overlay_height:"100",overlay_width_unit:"px",overlay_height_unit:"px"};for(let i in t)e[i]===t[i]&&delete e[i];"100"===e.overlay_width?.toString()&&delete e.overlay_width,"100"===e.overlay_height?.toString()&&delete e.overlay_height,"expandable"!==e.overlay_type?delete e.expand_mode:delete e.style,super.builderSave(e)}}})(tb_app),(e=>{e.ModulePageBreak=class extends e.Module{constructor(e){super(e)}preview(e){const t=v("","module module-page-break");return t.append(i.createTextNode(g.pbreak),v("span","page-break-order")),t}static countModules(){for(let t=e.Builder.get().el.tfClass(e.isVisual?"module-page-break":"tb-page-break"),i=t.length-1;i>-1;--i)e.isVisual?t[i].tfClass("page-break-order")[0].textContent=i+1:t[i].tfClass("page-break-overlay")[0].textContent=g.pbreak+(i+1)}static cols(){return[{cols:[{grid_class:"col-full",modules:[{mod_name:"page-break"}]}],styling:{custom_css_row:"tb-page-break"}}]}}})(tb_app),(e=>{e.ModulePlainText=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"plain_text",type:"textarea",codeeditor:"htmlmixed",control:{selector:".tb_text_wrap"}},{id:"formatting",type:"toggle_switch",label:"contfrmt",default:"on",options:{on:{name:"",value:"en"},off:{name:"1",value:"dis"}},help:"contfrmth"},{type:"custom_css_id",custom_css:"add_css_text"}]}static builderSave(t){for(let i=e.breakpointsReverse,l=i.length-1;l>-1;--l){let e=i[l];this.clearImageGradient("background_image","background_color","background_repeat","background_position",e,t),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",e,t),this.clearFontColor("font_color_type","font_color","font_gradient_color",e,t),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",e,t),this.clearShadow("t_sh_h",0,e,t),this.clearShadow("t_sh_h_h",0,e,t),this.clearPadding("padding",e,t),this.clearPadding("p_h",e,t),this.clearPadding("margin",e,t),this.clearPadding("m_h",e,t),this.clearPadding("b_ra",e,t),this.clearPadding("r_c_h",e,t),this.clearBorder("border",e,t),this.clearBorder("b_h",e,t),this.clearFilter("bl_m","css_f",e,t),this.clearFilter("_h","css_f_h",e,t),this.clearWidth("w",e,t),this.clearWidth("ht",e,t,1),this.clearShadow("b_sh",1,e,t),this.clearShadow("sh_h",1,e,t),this.clearPosition("po",e,t),this.clearTransform("tr",e,t),this.clearTransform("tr-h",e,t)}super.builderSave(t)}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.plain_text)}preview(e){const t=v(),i=this.constructor.A(v("","tb_text_wrap"),"plain_text","",1),l=["module","module-plain-text"],o=e.plain_text;return e.add_css_text&&l.push(e.add_css_text),t.className=l.join(" "),o&&(i.innerHTML=this.shortcodeToHTML(o).content),t.appendChild(i),t}}})(tb_app),(e=>{e.ModulePost=class extends e.Module{constructor(e){super(e)}static getOptions(){const e=[...ThemifyConstructor.getOptions("post_grid")];return e.push({img:"list_thumb_image",value:"list-thumb-image",label:"lthumbimg"},{img:"grid2_thumb",value:"grid2-thumb",label:"grid2th"}),[{id:"mod_title_post",type:"title"},{type:"query_posts",id:"post_type_post",tax_id:"type_query_post",term_id:"#tmp_id#_post",slug_id:"query_slug_post",sticky_id:"sticky_post",query_filter:!0},{id:"layout_post",type:"layout",label:"playout",mode:"sprite",default:"grid4",control:{classSelector:".builder-posts-wrap"},options:e},{type:"post_filter"},{id:"post_per_page_post",type:"number",label:"npost",help:"nposth"},{id:"offset_post",type:"number",label:"ofs",help:"ofsh"},{id:"order_post",type:"select",label:"order",help:"ohelp",order:!0},{id:"orderby_post",type:"orderby_post",binding:{select:{hide:"meta_order"},meta_value:{show:"meta_order"}}},{id:"meta_order",type:"multi",label:"",options:[{id:"meta_key_post",type:"text",label:"cfieldk",wrap_class:"tb_disable_dc"},{id:"meta_key_type",type:"select",label:"type",options:{CHAR:"charact",NUMERIC:"num",DATETIME:"dtime",DATE:"date",TIME:"time"}}]},{id:"display_post",type:"select",label:"disp",options:{content:"content",excerpt:"excerpt",none:"none"},binding:{excerpt:{show:"excerpt_length_post"},none:{hide:"excerpt_length_post"},content:{hide:"excerpt_length_post"}}},{id:"excerpt_length_post",type:"number",label:"exclen",help:"exch"},{id:"hide_feat_img_post",type:"toggle_switch",label:"fimg",binding:{checked:{show:["image_size_post","img_width_post","auto_fullwidth_post","img_height_post","unlink_feat_img_post"]},not_checked:{hide:["image_size_post","img_width_post","auto_fullwidth_post","img_height_post","unlink_feat_img_post"]}}},{id:"image_size_post",type:"image_size"},{id:"img_width_post",type:"number",label:"imgw"},{id:"auto_fullwidth_post",type:"checkbox",label:"",options:[{name:"1",value:"afullwimg"}],wrap_class:"auto_fullwidth"},{id:"img_height_post",type:"number",label:"imgh"},{id:"unlink_feat_img_post",type:"toggle_switch",label:"unlfimg",options:"simple",default:"off"},{id:"hide_post_title_post",type:"toggle_switch",label:"ptitle",binding:{checked:{show:["unlink_post_title_post","title_tag_post"]},not_checked:{hide:["unlink_post_title_post","title_tag_post"]}}},{id:"title_tag_post",type:"select",label:"tht",h_tags:!0,default:"h2"},{id:"unlink_post_title_post",type:"toggle_switch",label:"uptitle",options:"simple",default:"off"},{id:"hide_post_date_post",type:"toggle_switch",label:"pdate"},{id:"hide_post_meta_post",type:"toggle_switch",label:"pmeta",binding:{checked:{show:["hide_author_post","hide_category_post","hide_comment_post"]},not_checked:{hide:["hide_author_post","hide_category_post","hide_comment_post"]}}},{id:"hide_author_post",type:"checkbox",label:"",options:[{name:"yes",value:"hauth"}]},{id:"hide_category_post",type:"checkbox",label:"",options:[{name:"yes",value:"hcat"}]},{id:"hide_comment_post",type:"checkbox",label:"",options:[{name:"yes",value:"hcom"}]},{id:"hide_page_nav_post",type:"toggle_switch",label:"pagin",default:"off",binding:{checked:{show:"nav_type"},not_checked:{hide:"nav_type"}}},{id:"nav_type",type:"select",label:"pagint",options:{standard:"standard",ajax:"lmore"}},{id:"hide_empty",type:"toggle_switch",label:"hempmod",help:"hempmodh",options:"simple",default:"off",binding:{checked:{hide:"no_posts_group"},not_checked:{show:"no_posts_group"}}},{id:"no_posts_group",options:[{id:"no_posts",type:"toggle_switch",label:"nopost",options:{off:{name:"",value:"dis"},on:{name:"1",value:"en"}},binding:{checked:{show:"no_posts_msg"},not_checked:{hide:"no_posts_msg"}}},{id:"no_posts_msg",type:"textarea",label:""}],type:"group"},{type:"hook_content",options:{themify_post_start_module:"post_start",themify_before_post_image_module:"before_post_image",themify_after_post_image_module:"after_post_image",themify_before_post_title_module:"before_post_title",themify_after_post_title_module:"after_post_title",themify_before_post_content_module:"before_post_content",themify_after_post_content_module:"after_post_content",themify_post_end_module:"post_end"}},{type:"custom_css_id",custom_css:"css_post"}]}static default(){return{post_per_page_post:4,display_post:"excerpt"}}static builderSave(e,t="post"){let i={tbpdq:"off",term_type:"category",nav_type:"standard",hide_empty:"no",post_filter:"no",ajax_sort:"no",filter_hashtag:"no",ajax_filter:"no",masonry_align:"no",ajax_filter_categories:"exclude",["layout_"+t]:"grid4",["post_type_"+t]:t,["type_query_"+t]:"category",["sticky_"+t]:"no",["order_"+t]:"desc",["orderby_"+t]:"date",["display_"+t]:"content",["hide_feat_img_"+t]:"no",["image_size_"+t]:"large",["unlink_feat_img_"+t]:"no",["hide_post_title_"+t]:"no",["title_tag_"+t]:"h2",["unlink_post_title_"+t]:"no",["hide_post_date_"+t]:"no",["hide_post_meta_"+t]:"no",["hide_page_nav_"+t]:"yes",["auto_fullwidth_"+t]:!1,["hide_author_"+t]:!1,["hide_category_"+t]:!1,["hide_comment_"+t]:!1,disable_masonry:"default"},l=e.term_type||i.term_type,o=e.tbpdq||i.tbpdq,s=e["type_query_"+t]||i["type_query_"+t],a=e.hook_content;for(let t in i)e[t]===i[t]&&delete e[t];if(e.tbpdq&&(delete e["post_type_"+t],delete e["type_query_"+t],delete e.term_type,l=null),"all"!==l&&delete e["sticky_"+t],"category"!==l&&(delete e["category_"+t],delete e["post_tag_"+t],delete e[s+"_"+t]),"post_slug"!==l&&delete e["query_slug_"+t],"excerpt"!==e["display_"+t]&&delete e["excerpt_length_"+t],"list-post"!==e["layout_"+t]&&"auto_tiles"!==e["layout_"+t]||(delete e.disable_masonry,"auto_tiles"===e["layout_"+t]&&delete e.ajax_filter),"no"!==e.disable_masonry||e.ajax_filter||delete e.masonry_align,e.post_filter||(delete e.filter_hashtag,delete e.ajax_filter),e.ajax_filter?e.ajax_filter_categories&&delete e.ajax_filter_exclude:(delete e.ajax_filter_categories,delete e.ajax_filter_exclude,delete e.ajax_sort),"include"!==e.ajax_filter_categories&&delete e.ajax_filter_include,"yes"===e["hide_feat_img_"+t]?(delete e["img_width_"+t],delete e["img_height_"+t],delete e["auto_fullwidth_"+t],delete e["unlink_feat_img_"+t]):"|"!==e["auto_fullwidth_"+t]&&"false"!==e["auto_fullwidth_"+t]||delete e["auto_fullwidth_"+t],"yes"===e["hide_post_title_"+t]&&(delete e["title_tag_"+t],delete e["unlink_post_title_"+t]),"yes"===e["hide_post_meta_"+t]?(delete e["hide_author_"+t],delete e["hide_category_"+t],delete e["hide_comment_"+t]):("|"!==e["hide_author_"+t]&&"false"!==e["hide_author_"+t]||delete e["hide_author_"+t],"|"!==e["hide_category_"+t]&&"false"!==e["hide_category_"+t]||delete e["hide_category_"+t],"|"!==e["hide_comment_"+t]&&"false"!==e["hide_comment_"+t]||delete e["hide_comment_"+t]),e["hide_page_nav_"+t]||delete e.nav_type,"yes"===e.hide_empty&&delete e.no_posts,e.no_posts||delete e.no_posts_msg,e.query_cf_key&&e.query_cf_value||delete e.query_cf_c,"sameauthor"!==o&&delete e.tbpdq_sameauthor_match_post_type,"no"!==e.tbpdq_sameauthor_match_post_type&&delete e.tbpdq_sameauthor_post_types,"acf"!==o&&delete e.tbpdq_acf_field,"ptbSearch"!==o&&delete e.tbpdq_ptbsearch_form,a){for(let e=a.length-1;e>-1;--e)a[e].c?.trim()||a.splice(e,1);0===a.length&&delete e.hook_content}for(let t in e)"0|single"===e[t]&&delete e[t];super.builderSave(e)}}})(tb_app),(t=>{t.ModuleServiceMenu=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"style_service_menu",type:"layout",label:"menustyle",mode:"sprite",default:"image-left",options:[{img:"image_top",value:"image-top",label:"imgtop"},{img:"image_left",value:"image-left",label:"imgleft"},{img:"image_center",value:"image-center",label:"imgcenter"},{img:"image_right",value:"image-right",label:"imgright"},{img:"image_overlay",value:"image-overlay",label:"imgoverlay"},{img:"image_horizontal",value:"image-horizontal",label:"imghriznt"}],control:{classSelector:""}},{id:"title_service_menu",type:"text",label:"menut",class:"large",control:{selector:".tb-menu-title"}},{id:"title_tag",type:"select",label:"tht",h_tags:!0,default:"h4"},{id:"description_service_menu",type:"textarea",label:"desc",control:{selector:".tb-menu-description"}},{id:"price_service_menu",type:"text",label:"price",class:"small",control:{selector:".tb-menu-price"}},{id:"add_price_check",type:"checkbox",label:"",options:[{name:"yes",value:"enpriceopt"}],binding:{checked:{show:"#price_fields_holder",hide:"price_service_menu"},not_checked:{hide:"#price_fields_holder",show:"price_service_menu"}}},{id:"price_fields_holder",type:"builder",label:"price",options:[{id:"label",type:"text",label:"label",control:{selector:".tb-price-title"}},{id:"price",type:"text",label:"price",control:{selector:".tb-price-value"}}]},{id:"image_service_menu",type:"image",label:"imgurl"},{id:"appearance_image_service_menu",type:"checkbox",label:"imgapp",img_appearance:!0},{id:"image_size_service_menu",type:"image_size"},{id:"width_service_menu",type:"number",label:"w",after:"px"},{id:"height_service_menu",type:"number",label:"ht",after:"px"},{id:"link_service_menu",type:"url",label:"imgl",binding:{empty:{hide:["link_options","image_zoom_icon","lightbox_size"]},not_empty:{show:["link_options","image_zoom_icon","lightbox_size"]}}},{id:"link_options",type:"radio",label:"o_l",options:[{value:"regular",name:"swin"},{value:"lightbox",name:"lg"},{value:"newtab",name:"ntab"}],option_js:!0},{id:"image_zoom_icon",type:"checkbox",label:"",options:[{name:"zoom",value:"szoomic"}],wrap_class:"tb_group_element_lightbox tb_group_element_newtab"},{type:"multi",label:"lbdim",options:[{id:"lightbox_width",type:"number",label:"w",control:!1},{id:"lightbox_size_unit_width",type:"select",label:"units",options:{pixels:"px",percents:"%"},control:!1},{id:"lightbox_height",type:"number",label:"ht",control:!1},{id:"lightbox_size_unit_height",type:"select",label:"units",options:{pixels:"px",percents:"%"},control:!1}],wrap_class:"tb_group_element_lightbox"},{id:"highlight_service_menu",type:"checkbox",label:"highlgt",options:[{name:"highlight",value:"highlgtitem"}],binding:{checked:{show:["highlight_text_service_menu","highlight_color_service_menu"]},not_checked:{hide:["highlight_text_service_menu","highlight_color_service_menu"]}}},{id:"highlight_text_service_menu",type:"text",label:"",after:"highlgtxt",class:"large",control:{selector:".tb-highlight-text"}},{id:"highlight_color_service_menu",type:"layout",label:"",mode:"sprite",class:"tb_colors",color:!0,transparent:!0,control:{classSelector:""}},{type:"custom_css_id",custom_css:"css_service_menu"}]}static default(){return{title_service_menu:g.menut,description_service_menu:g.desc,price_service_menu:"$200",image_service_menu:e.builder_url+"img/menu-pizza.png",width_service_menu:100}}getExcerpt(e){const i=e||this.get("mod_settings");return t.Helper.limitString(i.title_service_menu||i.description_service_menu)}getImage(e){const i=e||this.get("mod_settings"),l=i.image_service_menu,o=new Image(32,32);return l?(o.src=l,t.activeModel||(o.loading="lazy"),o.alt=this.getName(),o):super.getImage(i)}static builderSave(e){const t={title_tag:"h4",style_service_menu:"image-left",lightbox_size_unit_width:"pixels",lightbox_size_unit_height:"pixels",highlight_color_service_menu:"default",link_options:"regular",add_price_check:!1,appearance_image_service_menu:!1,highlight_service_menu:!1,image_zoom_icon:!1};for(let i in t)e[i]!==t[i]&&("add_price_check"!==i&&"appearance_image_service_menu"!==i&&"highlight_service_menu"!==i&&"image_zoom_icon"!==i||"|"!==e[i]&&"false"!==e[i])||delete e[i];e.highlight_service_menu||(delete e.highlight_text_service_menu,delete e.highlight_color_service_menu),e.image_service_menu||(delete e.width_service_menu,delete e.height_service_menu),e.link_service_menu||delete e.link_options,e.link_options||delete e.image_zoom_icon,"lightbox"!==e.link_options&&(delete e.lightbox_width,delete e.lightbox_height),e.lightbox_width||delete e.lightbox_size_unit_width,e.lightbox_height||delete e.lightbox_size_unit_height,e.add_price_check?(0===e.price_fields_holder?.length&&delete e.price_fields_holder,delete e.price_service_menu):delete e.price_fields_holder,super.builderSave(e)}preview(e){const i=v(),l=v("","tb-image-content tf_overflow"),o=v("","tb-menu-title-wrap"),s=["module","module-service-menu"],a=this.constructor;if(e.appearance_image_service_menu&&s.push(e.appearance_image_service_menu.split("|").join(" ")),e.style_service_menu&&s.push(e.style_service_menu),e.css_service_menu&&s.push(e.css_service_menu),e.highlight_service_menu){const t=e.highlight_color_service_menu&&"default"!==e.highlight_color_service_menu?e.highlight_color_service_menu:"tb_default_color";if(e.highlight_text_service_menu){const t=a.getModuleTitle(e.title_service_menu,"highlight_text_service_menu");t.className="tb-highlight-text",i.appendChild(t)}s.push("has-highlight",t)}else s.push("no-highlight");if(i.className=s.join(" "),e.image_service_menu){const l=v("","tb-image-wrap tf_left"),o=a.setEditableImage(v("img",{class:"tb_menu_image",alt:e.title_service_menu||e.description_service_menu}),"image_service_menu","width_service_menu","height_service_menu",e);if(e.link_service_menu){const i=v("a",{href:e.link_service_menu}),s=e.link_options;if("lightbox"===s){i.className="lightbox-builder themify_lightbox";const t=e.lightbox_width,l=e.lightbox_height,o=[],s={pixels:"px",percents:"%"};t&&o.push(t+s[e.lightbox_size_unit_width]),l&&o.push(l+s[e.lightbox_size_unit_height]),o.length>0&&(i.dataset.zoomConfig=o.join("|"))}else"newtab"===s&&(i.target="_blank",i.rel="noopener");if("zoom"===e.image_zoom_icon&&"regular"!==s){const e=v("span","zoom");e.appendChild(t.Helper.getIcon("newtab"===s?"fa-external-link":"fa-search")),i.appendChild(e)}i.appendChild(o),l.appendChild(i)}else l.appendChild(o);i.appendChild(l)}if(e.title_service_menu&&o.appendChild(a.A(v(e.title_tag||"h4","tb-menu-title"),"title_service_menu",e.title_service_menu)),e.description_service_menu&&o.appendChild(a.A(v("","tb-menu-description"),"description_service_menu",e.description_service_menu)),l.appendChild(o),""!==e.price_service_menu||"yes"===e.add_price_check){const t=v("","tb-menu-price");if("yes"===e.add_price_check){const i=e.price_fields_holder||[];for(let e=0;e<i.length;++e){let l=v("","tb-price-item");""!==i[e].label&&l.appendChild(a.A(v("","tb-price-title"),"label",i[e].label,"","price_fields_holder",e)),""!==i[e].price&&l.appendChild(a.A(v("","tb-price-value"),"price",i[e].price,"","price_fields_holder",e)),t.appendChild(l)}}else a.A(t,"price_service_menu",e.price_service_menu);l.appendChild(t)}return i.appendChild(l),i}}})(tb_app),(e=>{e.ModuleSignupForm=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title",type:"title"},{id:"e_user",type:"checkbox",default:"1",label:"",options:[{name:"1",value:"sacinftus"}]},{id:"e_admin",type:"checkbox",default:"1",label:"",options:[{name:"1",value:"sacinftadm"}]},{type:"separator",label:""},{id:"success_action",type:"select",label:"afsign",options:{c:"rtourl",m:"shmsg"},binding:{c:{show:"redirect_to",hide:"msg_success"},m:{hide:"redirect_to",show:"msg_success"}}},{id:"redirect_to",type:"url",label:"rurl",help:"rurlafsign"},{id:"msg_success",type:"textarea",label:"sucmsg",help:"smsgafsign"},{id:"optin",type:"toggle_switch",label:"nwsletopt",default:"off",options:{on:{name:"yes",value:"en"},off:{name:"no",value:"dis"}},binding:{yes:{show:["optin_label","provider"]},no:{hide:["optin_label","provider"]}}},{id:"optin_label",type:"text",label:"sbscrbelb"},{id:"provider",label:"Provider",type:"optin_provider"},{id:"gdpr",label:"gdpr",type:"toggle_switch",options:{on:{name:"on",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:"gdpr_label"},not_checked:{hide:"gdpr_label"}}},{id:"gdpr_label",type:"textarea",label:"gdpr_msg"},{type:"captcha"},{id:"welcome",type:"textarea",label:"welcmsg"},{type:"template_fields",target:"welcome",fields:["%site_name%","%site_description%","%site_url%","%user_login%","%user_email%","%user_firstname%","%user_lastname%","%user_display_name%","%user_id%"],title:"avfields"},{type:"group",label:"labels",display:"accordion",options:[{type:"multi",label:"",options:[{id:"i_name",type:"icon"},{id:"l_name",type:"text",label:"name"}]},{type:"multi",label:"",options:[{id:"i_firstname",type:"icon"},{id:"l_firstname",type:"text",label:"fname"}]},{type:"multi",label:"",options:[{id:"i_lastname",type:"icon"},{id:"l_lastname",type:"text",label:"lname"}]},{type:"multi",label:"",options:[{id:"i_username",type:"icon"},{id:"l_username",type:"text",label:"uname"}]},{type:"multi",label:"",options:[{id:"i_email",type:"icon"},{id:"l_email",type:"text",label:"em"}]},{type:"multi",label:"",options:[{id:"i_password",type:"icon"},{id:"l_password",type:"text",label:"pswd"}]},{type:"multi",label:"",options:[{id:"i_bio",type:"icon"},{id:"l_bio",type:"textarea",label:"bio"}]},{type:"multi",label:"",options:[{id:"i_submit",type:"icon"},{id:"l_submit",type:"text",label:"submit"}]},{type:"multi",label:"",options:[{id:"i_desc",type:"icon"},{id:"desc",type:"textarea",label:"desc"}]}]},{type:"custom_css_id",custom_css:"css"}]}static default(){return{l_name:g.name,l_firstname:g.fname,l_lastname:g.lname,l_username:g.uname,l_email:g.em,l_password:g.pswd,l_bio:g.sbio,l_submit:g.submit,desc:g.shrltinf,u_role:g.subscriber,optin_label:g.sbscrbenws,gdpr_label:g.gdpr_opt_msg}}static builderSave(e){const t={success_action:"c",optin:"no",u_role:"subscriber",e_user:"1",e_admin:"1"};for(let i in t)e[i]===t[i]&&delete e[i];e.success_action&&"c"!==e.success_action&&delete e.redirect_to,"m"!==e.success_action&&delete e.msg_success,e.gdpr||delete e.gdpr_label,"yes"!==e.optin&&(delete e.optin_label,delete e.provider),e.desc||delete e.i_desc,super.builderSave(e)}preview(t){const i=this.constructor,l="tb_signup_label",o=v(),s=v("form",{class:"tb_signup_form",name:"tb_signup_form"}),a=v(),_=v("label"),n=i.A(v("span",l),"l_name",t.l_name),r=v("","tb_sp_name_wrapper"),d=i.A(v("button",{name:"tb_submit"}),"l_submit",t.l_submit),c=["module","module-signup-form"],p=t=>{const i=v("em");return i.appendChild(e.Helper.getIcon(t)),i};t.css&&c.push(t.css),o.className=c.join(" "),t.i_name&&n.prepend(p(t.i_name)),_.appendChild(n);for(let e=[{n:"first_n",k:"firstname"},{n:"last_n",k:"lastname"}],l=0;l<e.length;++l){let o=e[l].k,s=v(),a=v("label"),_=i.A(v("span"),"l_"+o,t["l_"+o]);t["i_"+o]&&_.prepend(p(t["i_"+o])),a.append(v("input",{type:"text",name:e[l].n}),_),s.appendChild(a),r.appendChild(s)}a.append(_,r),s.appendChild(a);for(let e=[{n:"usr",k:"username"},{n:"email",k:"email"},{n:"pwd",k:"password"},{n:"bio",k:"bio"}],i=0;i<e.length;++i){let o=e[i].k,a=v(),_=v("label"),n=v("bio"===o?"textarea":"input"),r=v("span",l);if(_.append(r,n),a.appendChild(_),"bio"!==o)n.type="password"===o||"email"===o?o:"text","password"===o&&(n.autocomplete="current-password"),r.dataset.required="yes";else if(t.desc){let e=v("p","",t.desc);t.i_desc&&e.prepend(p(t.i_desc)),a.appendChild(e)}n.name=e[i].n,this.constructor.A(r,"l_"+o,t["l_"+o]),t["i_"+o]&&r.prepend(p(t["i_"+o])),s.appendChild(a)}if("yes"===t.optin||"on"===t.gdpr){const e=[];"yes"===t.optin&&e.push({n:"optin",k:"optin_label"}),"on"===t.gdpr&&e.push({n:"gdpr",k:"gdpr_label"});for(let l=0;l<e.length;++l){let o=e[l].k,a=v(),_=v("label"),n=v("input",{type:"checkbox",name:e[l].n});"gdpr_label"===o&&(n.required=1),_.append(n,i.A(v("span","tb_signup_"+e[l].n),o,t[o])),a.appendChild(_),s.appendChild(a)}}return t.i_submit&&d.prepend(p(t.i_submit)),s.appendChild(d),t.mod_title&&o.appendChild(i.getModuleTitle(t.mod_title,"mod_title")),o.appendChild(s),o}}})(tb_app),(e=>{e.ModuleSlider=class extends e.Module{constructor(e){super(e)}static getOptions(){const e=[{value:"blog",name:"posts"},{value:"image",name:"imags"},{value:"video",name:"videos"},{value:"text",name:"text"}],t=themifyBuilder.admin_url+"/post-new.php",i=!!themifyBuilder.slider_active,l=!!themifyBuilder.portfolio_active,o=!!themifyBuilder.testimonial_active;i&&e.push({value:"slider",name:"sposts"}),l&&e.push({value:"portfolio",name:"portfolio"}),o&&e.push({value:"testimonial",name:"testimt"});const s=[{id:"mod_title_slider",type:"title"},{id:"layout_display_slider",type:"radio",label:"disp",options:e,option_js:!0,wrap_class:"tb_compact_radios"},{type:"query_posts",id:"post_type",tax_id:"taxonomy",term_id:"blog_category_slider",description:g.addmore+' <a href="'+t+'" target="_blank">'+g.posts+"</a>",wrap_class:"tb_group_element_blog",query_filter:!0}];return i&&s.push({type:"query_posts",term_id:"slider_category_slider",taxonomy:"slider-category",description:g.addmore+' <a href="'+t+'?post_type=slider" target="_blank">'+g.sposts+"</a>",wrap_class:"tb_group_element_slider"}),l&&s.push({type:"query_posts",term_id:"portfolio_category_slider",taxonomy:"portfolio-category",description:g.addmore+' <a href="'+t+'?post_type=portfolio" target="_blank">'+g.portfolio+"</a>",wrap_class:"tb_group_element_portfolio"}),o&&s.push({type:"query_posts",term_id:"testimonial_category_slider",taxonomy:"testimonial-category",description:g.addmore+' <a href="'+t+'?post_type=testimonial" target="_blank">'+g.testimonial+"</a>",wrap_class:"tb_group_element_testimonial"}),[...s,{type:"group",wrap_class:"tb_group_element_blog tb_group_element_slider tb_group_element_portfolio tb_group_element_testimonial",options:[{id:"posts_per_page_slider",type:"number",label:"npost",help:"nposth"},{id:"offset_slider",type:"number",label:"ofs",help:"ofsh"},{id:"order_slider",type:"select",label:"order",help:"shelp",order:!0},{id:"orderby_slider",type:"orderby_post",binding:{select:{hide:"meta_key_slider"},meta_value:{show:"meta_key_slider"},meta_value_num:{show:"meta_key_slider"}}},{id:"meta_key_slider",type:"text",label:"cfieldk"},{id:"display_slider",type:"select",label:"disp",options:{content:"content",excerpt:"excerpt",none:"none"},binding:{excerpt:{show:"excerpt_length"},content:{hide:"excerpt_length"},none:{hide:"excerpt_length"}}},{id:"excerpt_length",type:"number",label:"exclen",help:"exch"},{id:"hide_post_title_slider",type:"toggle_switch",label:"ptitle",binding:{checked:{show:"unlink_post_title_slider"},not_checked:{hide:"unlink_post_title_slider"}}},{id:"unlink_post_title_slider",type:"toggle_switch",label:"uptitle",options:"simple"},{id:"hide_feat_img_slider",type:"toggle_switch",label:"fimg",binding:{checked:{show:"unlink_feat_img_slider"},not_checked:{hide:"unlink_feat_img_slider"}}},{id:"unlink_feat_img_slider",type:"toggle_switch",label:"unlfimg",options:"simple"},{id:"open_link_new_tab_slider",type:"toggle_switch",label:"olnknt",options:"simple"},{id:"hide_post_date",type:"toggle_switch",label:"pdate"}]},{id:"img_content_slider",type:"builder",options:[{id:"img_url_slider",type:"image",label:"imgurl"},{id:"img_title_slider",type:"text",label:"imgt"},{id:"img_title_tag",type:"select",label:"tht",h_tags:!0,default:"h3"},{id:"img_link_slider",type:"url",label:"imgl"},{id:"img_link_params",type:"select",label:"",options:{"":"",lightbox:"olnknlb",newtab:"olnknt"}},{id:"img_caption_slider",type:"textarea",label:"imgc"}],wrap_class:"tb_group_element_image"},{id:"video_content_slider",type:"builder",wrap_class:"tb_group_element_video",options:[{id:"video_url_slider",type:"video",label:"vidurl",help:"vidurlh"},{id:"video_title_slider",type:"text",label:"vidt"},{id:"video_title_tag",type:"select",label:"tht",h_tags:!0,default:"h3"},{id:"video_title_link_slider",type:"url",label:"vidtl"},{id:"video_caption_slider",type:"textarea",label:"vidcap"},{id:"video_width_slider",type:"number",label:"vidw"}]},{id:"text_content_slider",type:"builder",options:[{id:"text_caption_slider",type:"wp_editor",class:"builder-field"}],wrap_class:"tb_group_element_text"},{id:"layout_slider",type:"layout",label:"sllay",separated:"top",mode:"sprite",options:[{img:"slider_default",value:"slider-default",label:"sldef"},{img:"slider_image_top",value:"slider-overlay",label:"sloverl"},{img:"slider_caption_overlay",value:"slider-caption-overlay",label:"slcapoverl"},{img:"slider_agency",value:"slider-agency",label:"agency"}],control:{classSelector:".module-slider"}},{type:"group",wrap_class:"tb_group_element_blog tb_group_element_slider tb_group_element_portfolio tb_group_element_image tb_slider_images_opt",options:[{id:"image_size_slider",type:"image_size"},{id:"img_w_slider",type:"number",label:"imgw",after:"px"},{id:"img_fullwidth_slider",type:"checkbox",label:"",options:[{name:"fullwidth",value:"afullwimg"}],wrap_class:"auto_fullwidth"},{id:"img_h_slider",type:"number",label:"imgh",after:"px"}]},{id:"slider_opt",type:"slider"},{type:"hook_content",options:{themify_before_post_image_module:"before_post_image",themify_after_post_image_module:"after_post_image",themify_before_post_title_module:"before_post_title",themify_after_post_title_module:"after_post_title",themify_before_post_content_module:"before_post_content",themify_after_post_content_module:"after_post_content"},wrap_class:"tb_group_element_blog tb_group_element_testimonial"},{type:"custom_css_id",custom_css:"css_slider"}]}static default(){return{posts_per_page_slider:4,display_slider:"none",img_w_slider:360,img_h_slider:200,visible_opt_slider:3,pause_on_hover_slider:"resume",play_pause_control:"no",show_arrow_slider:"yes",show_nav_slider:"yes",wrap_slider:"yes",auto_scroll_opt_slider:"off",post_type:"post",hide_post_date:"yes"}}}})(tb_app),(e=>{e.ModuleSocialShare=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title",type:"title"},{id:"networks",type:"checkbox",label:"nw",options:[{name:"fb",value:"fb"},{name:"tw",value:"tw"},{name:"lk",value:"lk"},{name:"pi",value:"pi"},{name:"em",value:"em"}]},{id:"size",label:"size",type:"layout",mode:"sprite",default:"normal",options:[{img:"normall_button",value:"normal",label:"n"},{img:"small_button",value:"small",label:"sml"},{img:"large_button",value:"large",label:"lrg"},{img:"xlarge_button",value:"xlarge",label:"xlrg"}],control:{prefix:"tb_ss_size_",classSelector:""}},{id:"shape",label:"ishape",type:"layout",mode:"sprite",default:"none",options:[{img:"circle_button",value:"circle",label:"circle"},{img:"rounded_button",value:"rounded",label:"rounded"},{img:"squared_button",value:"squared",label:"squared"},{img:"none",value:"none",label:"none"}],control:{prefix:"tb_ss_shape_",classSelector:""}},{id:"arrangement",label:"arrang",type:"layout",mode:"sprite",default:"h",options:[{img:"horizontal_button",value:"h",label:"hrztal"},{img:"vertical_button",value:"v",label:"vertical"}]},{id:"title",type:"toggle_switch",label:"title",default:"off"},{type:"custom_css_id",custom_css:"css"}]}static default(){return{networks:"fb|tw|pi|em"}}static builderSave(e){const t={size:"normal",shape:"none",arrangement:"h",title:"yes"};for(let i in t)e[i]===t[i]&&delete e[i];super.builderSave(e)}preview(t){const i=v(),l=v("","module-social-share-wrapper"),o=t.networks?.split("|")||[],s=0===o.length?{}:{fb:{icon:"ti-facebook",type:"facebook"},tw:{icon:"fab x-twitter",type:"twitter"},lk:{icon:"ti-linkedin",type:"linkedin"},pi:{icon:"ti-pinterest",type:"pinterest"},em:{icon:"ti-email",type:"email"}},a=["module","module-social-share"];t.css_social_share&&a.push(t.css_social_share),t.shape=t.shape||"none",a.push("tb_ss_shape_"+t.shape),t.size&&a.push("tb_ss_size_"+t.size),i.className=a.join(" ");for(let i=0;i<o.length;++i){let a=v("","ss_anchor_wrap"),_=v("a",{href:"#","data-type":s[o[i]].type}),n=v("em","tb_social_share_icon");"v"!==t.arrangement&&(a.className+=" tf_inline_b"),n.appendChild(e.Helper.getIcon(s[o[i]].icon)),_.appendChild(n),"no"===t.title&&_.appendChild(v("span","tb_social_share_title",g[o[i]])),a.appendChild(_),l.appendChild(a)}return t.mod_title&&i.appendChild(this.constructor.getModuleTitle(t.mod_title,"mod_title")),i.appendChild(l),i}}})(tb_app),(e=>{e.ModuleStar=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"m_t",type:"title"},{id:"rates",type:"builder",options:[{type:"text",label:"tbefore",id:"text_b",control:{selector:".tb_star_text_b"}},{type:"text",label:"tafter",id:"text_a",control:{selector:".tb_star_text_a"}},{type:"icon",label:"icon",default:"fas fullstar",id:"ic"},{id:"count",type:"range",label:"strc",default:5,min:1,max:20},{id:"rating",type:"slider_range",label:"rating",default:5,options:{max:20,step:.1,unit:"",inputRange:!0,range:!1}}]},{type:"custom_css_id",custom_css:"css"}]}static default(){return{rates:[{}]}}static builderSave(e){const t=e.rates;if(t)for(let e=t.length-1;e>-1;--e){let i=t[e];5==~~i.count&&delete i.count,5==~~i.rating&&delete i.rating,"fas fullstar"===i.ic&&delete i.ic}super.builderSave(e)}preview(t){const i=v(),l=v("","tb_star_wrap"),o=t.rates||[],s=["module","module-star"],a=this.constructor;t.css&&s.push(t.css),i.className=s.join(" ");for(let i=0;i<o.length;++i){let s=o[i],_=~~s.count||5,n=d(d(s.rating||_).toFixed(2)),r=v("","tb_star_item tb_star_animate tb_is_repeat"),c=v("","tb_star_container");s.text_b&&r.appendChild(a.A(v("span","tb_star_text_b"),"text_b",s.text_b,"","rates",i));for(let l=0;l<_;++l){let o=e.Helper.getIcon(s.ic||"fas fullstar"),a=o.classList;if(n-l>=1)a.add("tb_star_fill");else if(n>l){let e="tb_"+t.cid+i,l=(n-~~n).toFixed(2),s=x("",{width:0,height:0,"aria-hidden":!0,style:"visibility:hidden;position:absolute"}),_=x("defs"),r=x("linearGradient",{id:e});a.add("tb_star_half"),a.remove("tb_star_fill"),o.style.setProperty("--tb_star_half","url(#"+e+")"),r.append(x("stop",{class:"tb_star_fill",offset:100*l+"%"}),x("stop",{offset:100*l+"%","stop-color":"currentColor"})),_.appendChild(r),s.appendChild(_),c.appendChild(s)}c.appendChild(o)}r.appendChild(c),s.text_a&&r.appendChild(a.A(v("span","tb_star_text_a"),"text_a",s.text_a,"","rates",i)),l.appendChild(r)}return t.m_t&&i.appendChild(a.getModuleTitle(t.m_t,"m_t")),i.appendChild(l),i}}})(tb_app),(t=>{let i,l;t.ModuleTab=class extends t.Module{constructor(e){const t=e.mod_settings?.tab_content_tab;if(t)for(let e=t.length-1;e>-1;--e)t[e].builder_content||(t[e].builder_content=[{cols:[{modules:[{mod_name:"text",mod_settings:{content_text:t[e].text_tab||g.tabc}}]}]}],delete t[e].text_tab);super(e)}static getOptions(){const e=[{id:"mod_title_tab",type:"title"},{id:"tab_content_tab",type:"builder",options:[{id:"title_tab",type:"text",label:"tabt",control:{selector:".tab-nav a"}},{id:"icon_tab",type:"icon",label:"icon"}]},{type:"group",label:"tabl",display:"accordion",options:[{id:"layout_tab",type:"layout",label:"tabl",mode:"sprite",default:"minimal",options:[{img:"tab_frame",value:"tab-frame",label:"tabf"},{img:"tab_window",value:"panel",label:"tabw"},{img:"tab_vertical",value:"vertical",label:"tabv"},{img:"tab_minimal",value:"minimal",label:"tabm"}],control:{classSelector:""}},{id:"style_tab",type:"select",label:"tabi",options:{default:"icbt","icon-top":"icat","icon-only":"icjt"}},{id:"allow_tab_breakpoint",label:"tabmob",type:"toggle_switch",options:{on:{name:"allow_tab",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:"tab_breakpoint"},not_checked:{hide:"tab_breakpoint"}}},{id:"tab_breakpoint",label:"",type:"number",after:"bppx",wrap_class:"tb_checkbox_element_allow_tab"},{id:"color_tab",type:"layout",mode:"sprite",label:"tabcol",class:"tb_colors",color:!0,transparent:!0,control:{classSelector:""}},{id:"tab_appearance_tab",type:"checkbox",label:"tabapp",appearance:!0},{id:"hashtag",type:"toggle_switch",label:"uhtag",options:"simple"}]},{type:"group",label:"autoplay",display:"accordion",options:[{id:"autoplay",label:"tabauto",type:"toggle_switch",options:{on:{name:"y",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:["autoplay_timer","autoplay_c"]},not_checked:{hide:["autoplay_timer","autoplay_c"]}}},{id:"autoplay_timer",type:"number",label:"timer",after:"sec"},{id:"autoplay_c",label:"tabaps",type:"toggle_switch",options:{on:{name:"y",value:"en"},off:{name:"",value:"dis"}},help:"tabapsh"}]},{type:"custom_css_id",custom_css:"css_tab"}];return t.isVisual||e[1].options.splice(1,0,{label:"",class:"tb_info_msg",type:"message",comment:t.Helper.getIcon("ti-info-alt").outerHTML+g.tab_info}),e}static default(){return{tab_content_tab:[{title_tab:g.tabt}]}}static builderSave(e){const t={layout_accordion:"minimal",color_tab:"default",style_tab:"default",tab_appearance_tab:!1,hashtag:"no"},i=e.tab_content_tab;for(let i in t)e[i]===t[i]&&delete e[i];if("|"===e.tab_appearance_tab&&delete e.tab_appearance_tab,"allow_tab"!==e.allow_tab_breakpoint&&delete e.tab_breakpoint,e.autoplay||(delete e.autoplay_timer,delete e.autoplay_c),i)for(let e=i.length-1;e>-1;--e){let t=i[e],l=t.builder_content;t.icon_tab||delete t.icon_tab,t.title_tab||delete t.title_tab,l&&this.cleanBuilderType(l)}super.builderSave(e)}async restore(){i=!0,await super.restore(),i=null}saveLightbox(e){if(!t.isVisual){const t=e.tab_content_tab;for(let e=0;e<l.length;++e)t[e]!==f&&l[e].builder_content&&(t[e].builder_content=l[e].builder_content);l=null}}close(){l=null}async edit(e){const i=t.activeModel?.id===this.id;if(await super.edit(e),!1===i){const e=this.get("mod_settings");this.parseHtml(e),t.isVisual||l||(l=t.Helper.cloneObject(e.tab_content_tab))}}addRow(){t.isVisual||l.push({})}deleteRow(i,o){const s=e.convert(o.children).indexOf(i);if(t.isVisual){const e=this.el.querySelector("ul.tab-nav").children[s];if(e){const t=e.tfTag("a")[0].getAttribute("href");e.remove(),this.el.querySelector('[data-id="'+t.replace("#","")+'"]').remove()}}else l.splice(s,1)}sortRow(e,i,o){if(t.isVisual){const e=this.el.querySelector("ul.tab-nav").children,t=this.el.tfClass("module-tab")[0].children,l=[],s=e[i];for(let e=0;e<t.length;++e)t[e].classList.contains("tab-content")&&l.push(t[e]);const a=l[i];o>=1?(o-1!==i&&i>o&&--o,e[o].after(s),l[o].after(a)):(e[o].before(s),l[o].before(a))}else l.splice(o,0,l.splice(i,1)[0])}duplicateRow(i,o,s){const a=e.convert(s.parentNode.children).indexOf(s);if(t.isVisual){const e=this.el.querySelector("ul.tab-nav").children[a],i=e.tfTag("a")[0].getAttribute("href"),l=this.el.querySelector('[data-id="'+i.replace("#","")+'"]'),o=this.j(l);t.Helper.clearElementId(o,!0);const{tabTitleWrap:s,tabContent:_}=this.q({builder_content:o},{},1,!0);e.after(s),l.after(_)}else{const e=t.Helper.cloneObject(l[a]);e.builder_content&&t.Helper.clearElementId(e.builder_content,!0),l.splice(a+1,0,e)}}j(e,i){const l=e.children,o=[];for(let e=0;e<l.length;++e)o.push(t.Utils.getRowSettings(l[e],"subrow",i));return o}parseHtml(e,i){if(t.isVisual){const t=e.tab_content_tab;if(t){const e=this.el.tfClass("module-tab")[0]?.querySelectorAll(":scope>.tab-content");if(e)for(let i=0;i<e.length;++i)t[i]!==f&&(t[i].builder_content=this.j(e[i]))}}}q(e,i,l,o){let s="tab-"+this.id+"-"+l,a=v("li",{class:"tb_is_repeat"+(0===l?" current":""),"aria-expanded":0===l}),_=v("a",{href:"#"+s}),n=v("",{class:"tab-content tf_clear","data-id":s,"aria-hidden":0!==l}),r=e.builder_content||[{cols:[{modules:[{mod_name:"text",mod_settings:{content_text:e?.text_tab||g.tabc}}]}]}],d=w(),c=[],p=[];for(let e=0;e<r.length;++e){let i=new t.Subrow(r[e]);d.appendChild(i.el),p.push(i.id)}if(!0===t.is_builder_ready){for(let e=0,t=d.querySelectorAll("[data-cid]");e<t.length;++e)c.push(t[e].dataset.cid);n.appendChild(d),o??=t.bootstrap_working,t.bootstrap(c,f,!!o).then((()=>{for(let e=p.length-1;e>-1;--e)t.Utils.runJs(t.Registry.get(p[e]).el,"subrow")}))}else n.appendChild(d);if(e?.title_tab&&"icon-only"!==i.style_tab&&this.constructor.A(_,"title_tab",e.title_tab,"","tab_content_tab"),e?.icon_tab){const i=v("em");i.appendChild(t.Helper.getIcon(e.icon_tab)),_.prepend(i)}return a.append(_,v("",{role:"button",class:"tb_del_btn tb_del_tab tf_close tb_disable_sorting",title:"Delete Tab"})),{tabTitleWrap:a,tabContent:n}}preview(l){const o=l.color_tab&&"default"!==l.color_tab?l.color_tab:"tb_default_color",{layout_tab:s="minimal",tab_content_tab:a=[]}=l,_=v(),n=v("","tab-nav-current-active tf_hide"),r=v("span","tab_burger_icon tf_rel"),d=v("ul","tab-nav tf_clearfix"),c=["module","module-tab","ui"],p=[s,o,l.css_tab];l.style_tab&&c.push("tab-style-"+l.style_tab),l.tab_appearance_tab&&l.tab_appearance_tab.split("|").join(" ");for(let e=0;e<p.length;++e)p[e]&&c.push(p[e]);_.className=c.join(" "),"allow_tab"===l.allow_tab_breakpoint&&""!==l.tab_breakpoint&&(_.dataset.tabBreakpoint=l.tab_breakpoint),n.append(r,this.constructor.A(v("span","tb_tab_title"),"title_tab",a[0]?.title_tab,"","tab_content_tab",0)),l.mod_title_tab&&_.appendChild(this.constructor.getModuleTitle(l.mod_title_tab,"mod_title_tab")),_.append(n,d),t.activeModel?.id!==this.id||i||this.parseHtml(l),_.tfOn(y,(i=>{const l=i.target,o=l?.classList;if(o.contains("tb_add_tab")||o.contains("tb_del_tab"))if(i.stopPropagation(),o.contains("tb_add_tab"))if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("add_new")[0],i.type);else{t.undoManager.start("inlineAdd");const e=this.get("mod_settings"),i=this.el.tfClass("tab-nav")[0],o=this.constructor.default().tab_content_tab?.[0]||{};e.tab_content_tab??=[];const s=e.tab_content_tab.push(o),{tabTitleWrap:a,tabContent:_}=this.q(o,e,s);a.appendChild(l),i.appendChild(a),i.parentNode.appendChild(_),this.set("mod_settings",e),t.undoManager.end("inlineAdd")}else{const o=l.closest("li"),s=e.convert(o.parentNode.children).indexOf(o);if(-1!==s)if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("tb_delete_row")[s],i.type);else{t.undoManager.start("inlineDelete");const e=this.get("mod_settings"),i=o.tfTag("a")[0].getAttribute("href"),l=o.tfClass("tb_add_btn")[0],a=this.el.querySelector('[data-id="'+i.replace("#","")+'"]');e.tab_content_tab.splice(s,1),this.set("mod_settings",e),l&&o.previousElementSibling?.appendChild(l),a.remove(),o.remove(),t.undoManager.end("inlineDelete")}}}),{passive:!0});for(let e=0,t=a.length;e<t;++e){let{tabTitleWrap:i,tabContent:o}=this.q(a[e],l,e);t-1===e&&i.appendChild(v("",{role:"button",class:"tb_add_btn tb_add_tab tf_plus_icon tb_disable_sorting",title:"Add Tab"})),d.appendChild(i),_.appendChild(o)}return _}}})(tb_app),(t=>{t.ModuleTestimonialSlider=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_testimonial",type:"title"},{id:"tab_content_testimonial",type:"builder",options:[{id:"title_testimonial",type:"text",label:"testimtit",control:{selector:".testimonial-title"}},{id:"content_testimonial",type:"wp_editor",control:{selector:".testimonial-entry-content"}},{id:"person_picture_testimonial",type:"image",label:"perspic"},{id:"person_name_testimonial",type:"text",label:"persname",control:{selector:".person-name"}},{id:"person_position_testimonial",type:"text",label:"perspos",control:{selector:".person-position"}},{id:"company_testimonial",type:"text",label:"company",control:{selector:".person-company"}},{id:"company_website_testimonial",type:"text",label:"compweb"},{type:"multi",label:"rstar",options:[{type:"icon",label:"icon",id:"ic",binding:{empty:{hide:"tb_rate_wrap"},not_empty:{show:"tb_rate_wrap"}}},{id:"count",type:"range",wrap_class:"tb_rate_wrap",label:"strc",default:5,min:1,max:20},{id:"rating",type:"slider_range",wrap_class:"tb_rate_wrap",label:"rating",default:5,options:{max:20,step:.1,unit:"",inputRange:!0,range:!1}}]}]},{id:"type_testimonial",type:"radio",label:"type",options:[{value:"slider",name:"slider"},{value:"grid",name:"grid"}],option_js:!0,binding:{slider:{hide:"items_per_slide"}}},{id:"grid_layout_testimonial",type:"layout",label:"gridl",mode:"sprite",post_grid:!0,default:"list-post",binding:{grid4:{show:"masonry"},grid3:{show:"masonry"},grid2:{show:"masonry"},"list-post":{hide:"masonry"}},control:{classSelector:".themify_builder_testimonial"},wrap_class:"tb_group_element_grid"},{id:"masonry",type:"toggle_switch",label:"masnry",options:{on:{name:"enable",value:"en"},off:{name:"disable",value:"dis"}},wrap_class:"tb_group_element_grid"},{id:"layout_testimonial",type:"layout",label:"lay",mode:"sprite",default:"image-top",options:[{img:"testimonials_image_top",value:"image-top",label:"imgtop"},{img:"testimonials_image_bottom",value:"image-bottom",label:"imgbtm"},{img:"testimonials_image_bubble",value:"image-bubble",label:"imgbubl"}],control:{classSelector:".themify_builder_slider_wrap"}},{id:"img_w_slider",type:"number",label:"imgw",after:"px"},{id:"img_h_slider",type:"number",label:"imgh",after:"px"},{id:"slider_option_testimonial",type:"slider",wrap_class:"tb_group_element_slider"},{type:"custom_css_id",custom_css:"css_testimonial"}]}static default(){return{img_h_slider:100,img_w_slider:100,tab_content_testimonial:[{title_testimonial:"Optional Title",content_testimonial:g.testimcont,person_name_testimonial:"John Smith",person_position_testimonial:"CEO",company_testimonial:"X-corporation",ic:"fas fullstar"}]}}static builderSave(e){const t={type_testimonial:"slider",layout_testimonial:"image-top",grid_layout_testimonial:"list-post"},i=e.tab_content_testimonial;for(let i in t)e[i]===t[i]&&delete e[i];if(delete e.items_per_slide,e.grid_layout_testimonial||delete e.masonry,this.clearSliderOptions(e,!!e.type_testimonial),i)for(let e=i.length-1;e>-1;--e){let t=i[e];t.ic&&5!=~~t.count||delete t.count,t.ic&&5!=~~t.rating||delete t.rating,t.person_name_testimonial||(delete t.person_position_testimonial,delete t.company_testimonial),t.company_testimonial||delete t.company_website_testimonial}super.builderSave(e)}q(e,i,l,o){const s=v("","post tb_is_repeat"),a=v("","testimonial-item tf_rel"),_=v("","testimonial-content"),n="tab_content_testimonial",r=this.constructor;if(e.title_testimonial&&_.appendChild(r.A(v("h3","testimonial-title"),"title_testimonial",e.title_testimonial,"",n,l)),e.ic){const o=v("","tb_rating_wrap"),s=~~e.count||5,a=d(d(e.rating||s).toFixed(2));for(let _=0;_<s;++_){let s=t.Helper.getIcon(e.ic),n=s.classList;if(a-_>=1)n.add("tb_rating_fill");else if(a>_){let e="tb_"+i.cid+l,t=(a-~~a).toFixed(2),_=x("",{width:0,height:0,"aria-hidden":!0,style:"visibility:hidden;position:absolute"}),r=x("defs"),d=x("linearGradient",{id:e});n.add("tb_rating_half"),n.remove("tb_rating_fill"),s.style.setProperty("--tb_rating_half","url(#"+e+")"),d.append(x("stop",{class:"tb_rating_fill",offset:100*t+"%"}),x("stop",{offset:100*t+"%","stop-color":"currentColor"})),r.appendChild(d),_.appendChild(r),o.appendChild(_)}o.appendChild(s)}_.appendChild(o)}if(e.content_testimonial){const t=r.A(v("","testimonial-entry-content"),"content_testimonial","",1,n,l);e.content_testimonial&&(t.innerHTML=this.shortcodeToHTML(e.content_testimonial).content),_.appendChild(t)}if(e.person_picture_testimonial){const t=r.setEditableImage(v("img",{title:e.title_testimonial||""}),"person_picture_testimonial","img_w_slider","img_h_slider",i,n,l),o=v("figure","testimonial-image tf_rel");t.src=e.person_picture_testimonial,o.appendChild(t),_.appendChild(o)}if(e.person_name_testimonial){const t=v("","testimonial-author");if(t.appendChild(r.A(v("","person-name"),"person_name_testimonial",e.person_name_testimonial,"",n,l)),e.person_position_testimonial&&t.appendChild(r.A(v("","person-position"),"person_position_testimonial",e.person_position_testimonial,"",n,l)),e.company_testimonial){let i=v("","person-company"),o=i;e.company_website_testimonial&&(o=v("a",{href:e.company_website_testimonial}),i.appendChild(o)),r.A(o,"company_testimonial",e.company_testimonial,"",n,l),t.appendChild(i)}_.appendChild(t)}return o&&(s.className+=" tf_swiper-slide",i.left_margin_slider>0&&(a.style.marginLeft=i.left_margin_slider+"px"),i.right_margin_slider>0&&(a.style.marginRight=i.right_margin_slider+"px")),a.append(_,v("",{role:"button",class:"tb_del_btn tb_del_tstimbtn tf_close tb_disable_sorting",title:"Delete Testimonial"})),s.appendChild(a),s}preview(i){let l=i.tab_content_testimonial||[],o=!i.type_testimonial||"slider"===i.type_testimonial,s=v(),a=v("",o?"themify_builder_slider tf_carousel tf_swiper-container tf_rel tf_overflow":"themify_builder_testimonial loops-wrapper builder-posts-wrap tf_rel tf_clear"),_=["module","module-testimonial-slider","tf_clearfix",i.layout_testimonial||"image-top"],n=a,r=a.dataset;if(o&&(_.push("themify_builder_slider_wrap"),"fullwidth"===i.img_fullwidth_slider&&_.push("slide-image-fullwidth"),"vertical"!==i.show_arrow_buttons_vertical||i.show_arrow_slider&&"yes"!==i.show_arrow_slider||(_.push("slide-image-themify_builder_slider_vertical"),r.nav_out=1)),i.css_slider&&_.push(i.css_slider),s.className=_.join(" "),o){const e={open_link_new_tab_slider:"no",pause_on_hover_slider:"resume",unlink_feat_img_slider:"no",unlink_post_title_slider:"no",auto_scroll_opt_slider:"off",scroll_opt_slider:1,speed_opt_slider:1,...i},t=ThemifyBuilderModuleJs.cssUrl+"sliders/",l="yes"===e.horizontal;r.visible=l?4:e.visible_opt_slider||"",r.scroll=e.scroll_opt_slider,e.tab_visible_opt_slider&&(r.tabVisible=e.tab_visible_opt_slider),e.mob_visible_opt_slider&&(r.mobVisible=e.mob_visible_opt_slider),"off"!==e.auto_scroll_opt_slider&&(r.auto=1e3*e.auto_scroll_opt_slider,r.controller="yes"===e.play_pause_control?1:0,r.pause_hover="resume"===e.pause_on_hover_slider?1:0),r.speed="slow"===e.speed_opt_slider?4:"fast"===e.speed_opt_slider?.5:e.speed_opt_slider,r.wrapvar="no"!==e.wrap_slider?1:0,r.slider_nav="no"!==e.show_arrow_slider?1:0,r.pager="no"!==e.show_nav_slider?1:0,r.effect=e.effect_slider||"scroll",r.height=l||!e.height_slider?"variable":e.height_slider,r.horizontal=l?1:0,r.css_url=t+"carousel,"+t+"slider",e.touch_swipe&&(r.touch_swipe=e.touch_swipe),n=v("","tf_swiper-wrapper tf_lazy tf_rel tf_w tf_h tf_textc"),a.appendChild(n)}else i.grid_layout_testimonial&&(a.className+=" "+i.grid_layout_testimonial),"enable"===i.masonry&&(a.className+=" masonry");for(let e=0;e<l.length;++e)n.appendChild(this.q(l[e],i,e,o));return s.tfOn(y,(i=>{const l=i.target,o=l?.classList;if(o.contains("tb_add_tstimbtn")||o.contains("tb_del_tstimbtn"))if(i.stopPropagation(),o.contains("tb_add_tstimbtn"))if(t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("add_new")[0],i.type);else{t.undoManager.start("inlineAdd");const e=this.get("mod_settings"),i=this.constructor.default().tab_content_testimonial?.[0]||{};e.tab_content_testimonial??=[],e.tab_content_testimonial.push(i),this.set("mod_settings",e),e.type_testimonial&&"slider"!==e.type_testimonial?l.parentNode.tfClass("builder-posts-wrap")[0].appendChild(this.q(i,e)):this.previewLive(e),t.undoManager.end("inlineAdd")}else{let o=l.closest(".post"),s=o.dataset.swiperSlideIndex??e.convert(o.parentNode.tfClass("post")).indexOf(o);if(-1!==s)if(s=~~s,t.activeModel?.id===this.id)e.triggerEvent(t.LightBox.el.tfClass("tb_delete_row")[s],i.type);else{t.undoManager.start("inlineDelete");const e=this.get("mod_settings");e.tab_content_testimonial.splice(s,1),this.set("mod_settings",e),e.type_testimonial&&"slider"!==e.type_testimonial?o.remove():this.previewLive(e),t.undoManager.end("inlineDelete")}}}),{passive:!0}),i.mod_title_testimonial&&s.appendChild(this.constructor.getModuleTitle(i.mod_title_testimonial,"mod_title_testimonial")),s.append(a,v("",{role:"button",class:"tb_add_btn tb_add_tstimbtn tf_plus_icon tb_disable_sorting",title:"Add Testimonial"})),s}}})(tb_app),(e=>{e.ModuleText=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_text",type:"title"},{id:"content_text",type:"wp_editor",control:{selector:".tb_text_wrap"}},{id:"text_drop_cap",label:"dropcap",type:"toggle_switch",options:{on:{name:"dropcap",value:"en"},off:{name:"",value:"dis"}}},{type:"custom_css_id",custom_css:"add_css_text"}]}static default(){return{content_text:"<p>"+g.txtcont+"</p>"}}static builderSave(t){const i=["p_margin_top","p_margin_bottom","dropcap_font_size","dropcap_line_height","d_f_s_h"];for(let e=6;e>0;--e)i.push("font_size_h"+e,"f_s_h"+e+"_h","line_height_h"+e,"letter_spacing_h"+e,"h"+e+"_margin_top","h"+e+"_margin_bottom","h"+e+"_margin_top_h","h"+e+"_margin_bottom_h");for(let l=e.breakpointsReverse,o=l.length-1;o>-1;--o){let e=l[o];this.clearImageGradient("background_image","background_color","background_repeat","background_position",e,t),this.clearImageGradient("b_i_h","bg_c_h","b_r_h","b_p_h",e,t),this.clearFontColor("font_color_type","font_color","font_gradient_color",e,t),this.clearFontColor("f_c_t_h","f_c_h","f_g_c_h",e,t),this.clearShadow("text-shadow",0,e,t),this.clearShadow("t_sh_h",0,e,t),this.clearShadow("t_sh_m_t",0,e,t),this.clearShadow("t_sh_m_t_h",0,e,t),this.clearShadow("t_sh_dr",0,e,t),this.clearShadow("t_sh_dr_h",0,e,t),this.clearPadding("padding",e,t),this.clearPadding("p_h",e,t),this.clearPadding("dropcap_padding",e,t),this.clearPadding("d_p_h",e,t),this.clearPadding("margin",e,t),this.clearPadding("m_h",e,t),this.clearPadding("dropcap_margin",e,t),this.clearPadding("d_m_h",e,t),this.clearPadding("b_ra",e,t),this.clearPadding("r_c_h",e,t),this.clearPadding("rc_dp",e,t),this.clearPadding("rc_dp_h",e,t),this.clearBorder("border",e,t),this.clearBorder("b_h",e,t),this.clearBorder("dropcap_border",e,t),this.clearBorder("d_b_h",e,t),this.clearFilter("bl_m","css_f",e,t),this.clearFilter("_h","css_f_h",e,t),this.clearWidth("w",e,t),this.clearWidth("ht",e,t,1),this.clearShadow("b_sh",1,e,t),this.clearShadow("sh_h",1,e,t),this.clearShadow("sh_dp",1,e,t),this.clearShadow("sh_dp_h",1,e,t),this.clearPosition("po",e,t),this.clearTransform("tr",e,t),this.clearTransform("tr-h",e,t);for(let i=6;i>0;--i)this.clearFontColor("font_color_type_h"+i,"font_color_h"+i,"font_gradient_color_h"+i,e,t),this.clearFontColor("f_c_t_h"+i+"_h","f_c_h"+i+"_h","f_g_c_h"+i+"_h",e,t),this.clearShadow("t_shh"+i,0,e,t),this.clearShadow("t_shh"+i+"_h",0,e,t),this.clearMarginOpposity("h"+i+"_margin_top",e,t),this.clearMarginOpposity("h"+i+"_margin_top_h",e,t);this.clearUnits(i,e,t)}super.builderSave(t)}getExcerpt(t){const i=t||this.get("mod_settings");return e.Helper.limitString(i.content_text)}preview(e){let t=v(),i=["module","module-text"],l=e.content_text,o=this.constructor,s=o.A(v("","tb_text_wrap"),"content_text","",1);return e.add_css_text&&i.push(e.add_css_text),"dropcap"===e.text_drop_cap&&i.push("tb_text_dropcap"),t.className=i.join(" "),l&&(l=this.shortcodeToHTML(l).content.replace(/(<|&lt;)!--more(.*?)?--(>|&gt;)/,'<span class="tb-text-more-link-indicator"><span>'),s.innerHTML=l),e.mod_title_text&&t.appendChild(o.getModuleTitle(e.mod_title_text,"mod_title_text")),t.appendChild(s),t}}})(tb_app),(e=>{e.ModuleToc=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"m_t",type:"title"},{type:"tabs",class:"tb_tabs_fullwidth",options:{include:[{id:"in_tags",label:"anhbtgs",type:"checkbox",default:["h1","h2","h3","h4","h5","h6"],options:[{name:"h1",value:"H1"},{name:"h2",value:"H2"},{name:"h3",value:"H3"},{name:"h4",value:"H4"},{name:"h5",value:"H5"},{name:"h6",value:"H6"}]},{id:"in_cont",label:"conter",type:"select",options:{b:"curb",b_c:"bpcont",r:"inestrow",c:"inestcol",doc:"alldoc",cust:"cus"},binding:{select:{hide:"tb_custom_toc"},cust:{show:"tb_custom_toc"}}},{id:"in_custom",label:"cuscont",wrap_class:"tb_custom_toc",type:"text",control:{event:"change"},help:"cusconth"},{id:"min",type:"range",min:1,default:2,label:"mintag",help:"mintagh"},{id:"maxt",type:"number",label:"maxanchlen"},{id:"maxh",type:"number",min:5,default:32,label:"ghashlen",help:"ghashlenh"}],exclude:[{id:"ex_m_t",label:"exmt",type:"toggle_switch",options:"simple",default:"off"},{id:"ex_tags",label:"exhead",type:"text",control:{event:"change"},help:"exheadh"}]}},{type:"separator",label:"adv"},{id:"mark",type:"select",label:"lbull",options:{none:"none",b:"bull",c:"circle",s:"square",ur:"uproman",lr:"lowroman",ic:"icon"},binding:{select:{hide:"tb_toc_ic"},ic:{show:"tb_toc_ic"}}},{id:"ic",label:"icon",type:"icon",wrap_class:"tb_toc_ic"},{id:"num",type:"toggle_switch",label:"shnum",options:"simple",default:"off"},{id:"tree",type:"toggle_switch",label:"hierarcy",options:"simple",default:"on",binding:{checked:{show:"tb_toc_colapse"},not_checked:{hide:"tb_toc_colapse"}}},{id:"minimize",type:"toggle_switch",label:"minize",options:"simple",default:"off",binding:{checked:{show:"tb_toc_min_ic"},not_checked:{hide:"tb_toc_min_ic"}}},{type:"group",wrap_class:"tb_toc_min_ic",options:[{id:"mic",label:"icon",type:"icon",default:"ti-angle-up"},{id:"mmic",label:"minizeic",type:"icon",default:"ti-angle-down"},{id:"bp",label:"minizeon",type:"select",options:{tl:"table_landscape",t:"ta",m:"mo",n:"none"}}]},{type:"group",wrap_class:"tb_toc_colapse",options:[{id:"colapse",type:"toggle_switch",label:"colsubitem",options:"simple",default:"on",binding:{checked:{show:"tb_toc_colapse_ic"},not_checked:{hide:"tb_toc_colapse_ic"}}},{type:"group",wrap_class:"tb_toc_colapse_ic",options:[{id:"cic",label:"chic",type:"icon"},{id:"cmic",label:"chminizeic",type:"icon"}]}]},{type:"custom_css_id",custom_css:"css"}]}static default(){return{bp:"n"}}static builderSave(e){const t={in_cont:"b",in_tags:"h1|h2|h3|h4|h5|h6",ex_m_t:"no",mark:"none",num:"no",tree:"yes",colapse:"yes",cic:"-",cmic:"+",minimize:"no",mic:"ti-angle-up",mmic:"ti-angle-down",bp:"tl",min:"2",maxh:"32"};for(let i in t)e[i]===t[i]&&delete e[i];"2"===e.min?.toString()&&delete e.min,"32"===e.maxh?.toString()&&delete e.maxh,"cust"!==e.in_cont&&delete e.in_custom,"ic"!==e.mark&&delete e.ic,"no"!==e.tree&&"no"!==e.colapse||("no"===e.tree&&delete e.colapse,delete e.cic,delete e.cmic),"yes"!==e.minimize&&(delete e.mic,delete e.mmic,delete e.bp),super.builderSave(e)}preview(t){const i=v(),l=v("","tb_toc_head tf_clearfix"),o=t.mark||"none",s=["module","module-toc","tb_toc_"+o],a=i.dataset;if(t.m_t&&l.appendChild(this.constructor.getModuleTitle(t.m_t,"m_t")),"yes"===t.num&&s.push("tb_toc_show_num"),"no"!==t.tree&&s.push("tb_toc_tree"),i.className=s.join(" "),a.min=t.min>=1?t.min:2,a.maxh=t.maxh>2?t.maxh:32,a.tags=t.in_tags,a.cont=t.in_cont||"b","yes"===t.ex_m_t&&(a.ex_m=1),"yes"===t.minimize&&(a.bp=t.bp||"",l.append(e.Helper.getIcon(t.mic||"ti-angle-down","tb_toc_mic_close"),e.Helper.getIcon(t.mmic||"ti-angle-up","tb_toc_mic tf_hide"))),t.maxt&&(a.maxt=t.max),t.ex_tags&&(a.excl=t.ex_tags),t.in_custom&&(a.sel=t.in_custom),i.appendChild(l),"ic"===o&&t.ic){const l=v("template","tpl_toc_ic");l.content.appendChild(e.Helper.getIcon(t.ic,"tb_toc_ic")),i.appendChild(l)}if("no"!==t.tree&&"no"!==t.colapse){const l=v("template","tpl_toc_cic"),o=v("template","tpl_toc_cic_close"),s=t.cic||"-",a=t.cmic||"+";l.content.appendChild("-"===s?v("span","tf_fa tb_toc_cic"):e.Helper.getIcon(s,"tb_toc_cic")),o.content.appendChild("+"===a?v("span","tf_fa tb_toc_cic_close tf_hide"):e.Helper.getIcon(a,"tb_toc_cic_close tf_hide")),i.append(l,o)}return i}}})(tb_app),(t=>{t.ModuleVideo=class extends t.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_video",type:"title"},{id:"style_video",type:"layout",label:"vidlay",mode:"sprite",options:[{img:"video_top",value:"video-top",label:"vidtop"},{img:"video_left",value:"video-left",label:"vidleft"},{img:"video_right",value:"video-right",label:"vidright"},{img:"video_overlay",value:"video-overlay",label:"vidoverlay"}],control:{classSelector:""}},{id:"url_video",type:"video",label:"vidurl",help:"vidurlh",binding:{external:{hide:"tb_video_local_wrap",show:["tb_video_container","tb_video_external_wrap"]},local:{hide:"tb_video_external_wrap",show:["tb_video_container","tb_video_local_wrap"]},empty:{hide:["tb_video_container"]}},required:{message:"viderr"}},{type:"group",wrap_class:"tb_video_container",options:[{type:"group",wrap_class:"tb_video_external_wrap",options:[{id:"ext_start",type:"number",label:"starttime",help:"starttimeh"},{id:"ext_end",type:"number",label:"endtime",help:"endtimeh"}]},{id:"ext_hide_ctrls",type:"toggle_switch",label:"playctrls",binding:{checked:{show:"dl_btn"},not_checked:{hide:"dl_btn"}}},{type:"group",wrap_class:"tb_video_external_wrap",options:[{id:"ext_privacy",type:"toggle_switch",options:{on:{name:"1",value:"en"},off:{name:"",value:"dis"}},label:"privmod"}]},{type:"group",wrap_class:"tb_video_local_wrap",options:[{id:"dl_btn",type:"toggle_switch",options:{on:{name:"1",value:"en"},off:{name:"",value:"dis"}},label:"dwldbtn"},{id:"hover_play",type:"toggle_switch",label:"plyhover",options:"simple",default:"off",binding:{checked:{hide:"tb_v_autoplay"},not_checked:{show:"tb_v_autoplay"}}}]},{type:"group",wrap_class:"tb_v_autoplay",options:[{id:"autoplay_video",type:"toggle_switch",label:"autoplay",options:"simple",default:"off",binding:{checked:{show:"autoplay_text"},not_checked:{hide:"autoplay_text"}}},{id:"autoplay_text",type:"message",label:"",comment:"vidmuth"}]},{id:"mute_video",type:"toggle_switch",label:"mute",options:"simple",default:"off"},{id:"loop",type:"toggle_switch",label:"loop",options:"simple",default:"off"},{id:"o_i_c",label:"overimg",type:"toggle_switch",options:{on:{name:"1",value:"en"},off:{name:"",value:"dis"}},binding:{checked:{show:["o_i","o_m"]},not_checked:{hide:["o_i","o_m"]}}},{id:"o_i",type:"image",label:""},{id:"o_m",type:"multi",label:"",options:[{id:"o_w",label:"w",type:"number"},{id:"o_h",label:"ht",type:"number"}]},{id:"width_video",type:"number",label:"vidw",help:"vidwh",break:!0,unit:{id:"unit_video",options:{px:"px","%":"%"}}},{id:"title_video",type:"text",label:"vidt",control:{selector:".video-title"}},{id:"title_tag",type:"select",label:"vidtag",h_tags:!0,default:"h3"},{id:"title_link_video",type:"url",label:"vidtl"},{id:"caption_video",type:"textarea",label:"vidcap",control:{selector:".video-caption"}}]},{type:"custom_css_id",custom_css:"css_video"}]}static default(){return{url_video:"https://www.youtube.com/watch?v=FPPce2D8pYI"}}getImage(i){const l=i||this.get("mod_settings"),o=l.url_video,s=new Image(32,32);if(o){let i,a=e.parseVideo(o),_=a.type;if("youtube"===_?i="https://img.youtube.com/vi/"+a.id+"/default.jpg":"vimeo"===_?i="https://vumbnail.com/"+a.id+".jpg":l.o_i&&(i=l.o_i),i)return s.src=i,t.activeModel||(s.loading="lazy"),s.alt=this.getName(),s}return super.getImage(l)}getExcerpt(e){const i=e||this.get("mod_settings");return t.Helper.limitString(i.title_video)}static builderSave(e){const i={style_video:"video-top",ext_hide_ctrls:"no",mute_video:"no",hover_play:"no",autoplay_video:"no",ext_branding:"no",loop:"no",unit_video:"px",title_tag:"h3"},l=["font_size_caption","line_height_caption","f_s_c_h"];for(let t in i)e[t]===i[t]&&delete e[t];e.width_video<=0&&delete e.unit_video,e.ext_hide_ctrls&&delete e.dl_btn,e.o_i_c||delete e.o_i,e.o_i||(delete e.o_w,delete e.o_h),e.hover_play&&delete e.autoplay_video;for(let i=t.breakpointsReverse,o=i.length-1;o>-1;--o){let t=i[o];this.clearFontColor("font_color_type","font_color","font_gradient_color",t,e),this.clearFontColor("f_c_h_f_c_t_h","f_g_c_h_f_c_t_h","f_g_c_f_c_t_h",t,e),this.clearShadow("text-shadow",0,t,e),this.clearShadow("t_sh_h",0,t,e),this.clearShadow("t_sh_m_t",0,t,e),this.clearShadow("t_sh_m_t_h",0,t,e),this.clearShadow("t_sh_t",0,t,e),this.clearShadow("t_sh_t_h",0,t,e),this.clearShadow("t_sh_c",0,t,e),this.clearShadow("t_sh_c_h",0,t,e),this.clearPadding("padding",t,e),this.clearPadding("p_h",t,e),this.clearPadding("p_o_i",t,e),this.clearPadding("p_o_i_h",t,e),this.clearPadding("margin",t,e),this.clearPadding("m_h",t,e),this.clearPadding("m_o_i",t,e),this.clearPadding("m_o_i_h",t,e),this.clearPadding("b_ra",t,e),this.clearPadding("r_c_h",t,e),this.clearPadding("r_c_o_i",t,e),this.clearPadding("r_c_o_i_h",t,e),this.clearBorder("border",t,e),this.clearBorder("b_h",t,e),this.clearBorder("b_o_i",t,e),this.clearBorder("b_o_i_h",t,e),this.clearFilter("bl_m","css_f",t,e),this.clearFilter("_h","css_f_h",t,e),this.clearWidth("w",t,e),this.clearWidth("ht",t,e,1),this.clearShadow("b_sh",1,t,e),this.clearShadow("sh_h",1,t,e),this.clearShadow("b_sh_o_i",1,t,e),this.clearShadow("b_sh_o_i_h",1,t,e),this.clearTransform("tr",t,e),this.clearTransform("tr-h",t,e),this.clearUnits(l,t,e)}super.builderSave(e)}preview(t){const i=v(),l=v("","video-wrap-outer"),o=v("","video-wrap tf_rel tf_overflow"),s=["module","module-video",t.style_video||"video-top"],a=t.url_video,_=this.constructor;if(a){const n=e.parseVideo(a),r=n.type,c="youtube"!==r&&"vimeo"!==r,p=t.o_i&&1==~~t.o_i_c;if(t.css_video&&s.push(t.css_video),"yes"===t.autoplay_video&&s.push("video-autoplay"),t.width_video&&(l.style.maxWidth=t.width_video+(t.unit_video||"px")),c){const e=v("video",{src:a,preload:"none","webkit-playsinline":1,playsinline:1}),i=e.dataset;if("yes"===e.loop&&(e.loop=1),p&&(i.noScript=1),"yes"===t.mute_video&&(e.muted=1),"yes"===t.hover_play?(i.hoverPlay=1,s.push("tb_hover_play")):"yes"===t.autoplay_video&&(i.autoplay=1),t.dl_btn&&(i.download=1),"yes"===t.ext_hide_ctrls&&(i.hideControls=1),p){const t=v("","tf_vd_lazy tf_w tf_box tf_rel");t.appendChild(e),o.appendChild(t)}else o.appendChild(e);o.className+=" tf_local_video"}else{let i,l={},s="fullscreen",_=new URL(a),c=v("noscript");if(n.h&&(l.h=n.h),l.pip=l.playsinline=1,_.search)for(let[e,t]of _.searchParams.entries())"v"!==e&&(l[e]=t);"youtube"===r?(s="accelerometer;encrypted-media;gyroscope;picture-in-picture",i="https://www.youtube",t.ext_privacy&&(i+="-nocookie"),t.ext_start?l.start=d(t.ext_start):_.hash&&"#"!==_.hash&&(l.start=d(_.hash.replace("#","")),isNaN(l.start)&&(l.start=0)),t.ext_end&&(l.end=d(t.ext_end)),i+=".com/embed/"+n.id):(i="https://player.vimeo.com/video/"+n.id,t.ext_start?i+="#t="+t.ext_start:_.hash&&"#"!==_.hash&&(i+=_.hash),t.ext_privacy&&(l.dnt=1),l.byline=l.title=l.portrait=0);for(let e=["controls","loop","autoplay","mute","muted"],t=e.length-1;t>-1;--t)delete l[e[t]];"yes"===t.ext_hide_ctrls&&(l.controls=0),"yes"===t.loop&&(l.loop=1,l.playlist=n.id),"yes"!==t.autoplay_video&&"1"!==l.autoplay||(s+=";autoplay",l.autoplay=1),("yes"===t.mute_video||e.isTouch&&1===l.autoplay)&&("youtube"===r?l.mute=1:l.muted=1),c.appendChild(v("iframe",{src:i+"?"+new URLSearchParams(l),class:"tf_abs tf_w tf_h",allow:s,"data-no-script":1})),o.appendChild(c)}if(p){o.className+=" tb_voverlay";const e=_.setEditableImage(v("img",{alt:t.title_video||"",style:"width:100%;object-fit:cover"}),"o_i","o_w","o_h",t);if("yes"===t.hover_play)c&&(e.className="tb_video_poster tf_abs_t"),o.appendChild(e);else{const t=v("","tb_video_overlay tf_abs_t tf_w tf_h");t.append(v("","tb_video_play tf_abs_c"),e),o.appendChild(t)}}if(t.mod_title_video&&i.appendChild(_.getModuleTitle(t.mod_title_video,"mod_title_video")),l.appendChild(o),i.appendChild(l),t.title_video||t.caption_video){const e=v("","video-content");if(t.title_video){let i=v(t.title_tag||"h3","video-title"),l=i;if(t.title_link_video){const e=v("a",{href:t.title_link_video});i.appendChild(e),l=e}_.A(l,"title_video",t.title_video),e.appendChild(i)}if(t.caption_video){const i=_.A(v("","video-caption tb_text_wrap"),"caption_video");i.innerHTML=t.caption_video,e.appendChild(i)}i.appendChild(e)}}return i.className=s.join(" "),i}}})(tb_app),(e=>{e.ModuleWidget=class extends e.Module{constructor(e){super(e)}getExcerpt(t){let i=(t||this.get("mod_settings")).class_widget;return i&&ThemifyConstructor.widget_select._data&&(i=ThemifyConstructor.widget_select.data[i]?.n||i),e.Helper.limitString(i)}static getOptions(){return[{id:"mod_title_widget",type:"title"},{id:"class_widget",type:"widget_select",label:"swidget"},{id:"instance_widget",type:"widget_form"},{type:"custom_css_id",custom_css:"custom_css_widget"}]}}})(tb_app),(e=>{e.ModuleWidgetized=class extends e.Module{constructor(e){super(e)}static getOptions(){return[{id:"mod_title_widgetized",type:"title"},{id:"sidebar_widgetized",type:"select",label:"warea",sidebars:!0},{type:"custom_css_id",custom_css:"custom_css_widgetized"}]}}})(tb_app)})(Themify,window,document,Object,requestAnimationFrame,cancelAnimationFrame,setTimeout,0,Promise,parseInt,parseFloat,JSON,getComputedStyle,localStorage,Set,Map,Math,themifyBuilder.i18n.label,void 0);