((t,$,e,i,n)=>{"use strict";let a,r="";const s="<!--themify_builder_static--><!--/themify_builder_static-->",l=[/\<\!--themify_builder_static--\>([\s\S]*?)<!--\/themify_builder_static--\>/gi,/\&lt;\!--themify_builder_static--\&gt;([\s\S]*?)\&lt;\!--\/themify_builder_static--\&gt;/gi,/\&amp;lt;\!--themify_builder_static--\&amp;gt;([\s\S]*?)\&amp;lt;\!--\/themify_builder_static--\&amp;gt;/gi],o=themifyBuilder.short_badge?"excerpt":"content",d=themifyBuilder.is_gutenberg_editor;e.mce.views.register("tb_static_badge",{template:e.media.template("tb-static-badge"),bindNode(e,i){i.addEventListener(t.click,(e=>{const i=e.target.closest(".tb_mce_view_frontend_btn,.tb_mce_view_backend_btn");i&&(i.classList.contains("tb_mce_view_frontend_btn")?this.goToFront():t.trigger("tb_scroll_to_builder"))}))},getContent(){return this.template({})},match(t){const i=e.mce.views._tb_static_content.isMatch(t);if(i)return{index:i.index,content:i[0],options:{}}},View:{className:"tb_static_badge",template:e.media.template("tb-static-badge"),getHtml(){return this.template({})}},edit(){this.goToFront()},goToFront(){t.triggerEvent(i.tfClass("tb_switch_frontend")[0],t.click)},contentPlaceholder:t=>(r||=t,s+(t.length>59?" ".repeat(t.length-59):""))}),e.mce.views._tb_static_content={setContent(t,e){e&&(e=e.trim());const a=n?.tinyMCE.get(o);if(a)if(a.hidden){let t=i.tfId(o);t&&t.value.trim()!==e&&(t.value=e)}else e!==a.getContent().trim()&&a.setContent(e);else e!==t.value.trim()&&(t.value=e)},isMatch:t=>l[0].exec(t)||l[1].exec(t)||l[2].exec(t)},$(i).on("tinymce-editor-init",((t,i)=>{if(i.wp?._createToolbar){const t=i.wp._createToolbar(["wp_view_edit"]);t&&i.on("wptoolbar",(e=>{i.dom.hasClass(e.element,"wpview")&&"tb_static_badge"===i.dom.getAttrib(e.element,"data-wpview-type")&&(e.toolbar=t)}))}i.id===o&&i.setContent(e.mce.views.setMarkers(i.getContent())),i.on("beforesetcontent",(t=>{t.content=e.mce.views.setMarkers(t.content)}))})),t.on("themify_builder_save_data",(t=>{if(d||!t.builder_data||!t.static_content)return!0;let a=n?.tinyMCE.get(o),r=null;if(a)r=a.hidden?tinymce.DOM.get(o).value:a.getContent();else{if(a=i.tfId(o),!a)return;r=a.value}if(null!==r){const i=e.mce.views._tb_static_content.isMatch(r)?((t,e)=>{if(t)for(let i=0;i<l.length;++i)t=t.replaceAll(l[i],(()=>e));else t="";return t})(r,t.static_content):r+t.static_content;e.mce.views._tb_static_content.setContent(a,i)}}));const _={timeout:null,init(){$(n).on("YoastSEO:ready",(()=>{_.load()}))},load(){d&&(r=e.data.select("core/editor").getCurrentPost().builder_content),YoastSEO.app.registerPlugin("TBuilderReader",{status:"loading"}),YoastSEO.app.pluginReady("TBuilderReader"),YoastSEO.app.registerModification(o,_.readContent,"TBuilderReader",5),_.update()},readContent:t=>(r&&(d?t+=" "+r:t=t.replace(s,r).replace(/(\r\n|\n|\r)/gm,"")),t),update(){clearTimeout(a),a=setTimeout((()=>{YoastSEO.app.refresh()}),250)}};_.init()})(Themify,jQuery,wp,document,window);