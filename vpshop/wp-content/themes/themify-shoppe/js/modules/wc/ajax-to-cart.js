let ThemifyShoppeAjaxCart;((t,o,a,e,i)=>{"use strict";let r=!1;const c=(t=!1)=>{for(let a=o.querySelectorAll("#header .icon-shopping-cart,.cart .icon-shopping-cart"),e=a.length-1;e>-1;--e)a[e].classList.toggle("tf_loader",t)};t.body.on("adding_to_cart",((o,a)=>{t.trigger("themify_theme_spark",a),c(!0)})).on("wc_fragments_loaded",(function(){const t=o.tfId("cart-icon-count");null!==t&&this.classList.toggle("wc-cart-empty",void 0!==t.tfClass("cart_empty")[0])})).on("added_to_cart",(function(a){if(c(),i.ajaxCartSeconds&&!1===r&&!this.classList.contains("post-lightbox")){r=!0;let a=~~i.ajaxCartSeconds;if(o.body.classList.contains("cart-style-dropdown"))for(let t=o.tfClass("shopdock"),i=t.length-1;i>-1;--i)t[i].parentNode.classList.add("show_cart"),e((()=>{t[i].parentNode.classList.remove("show_cart"),r=!1}),a);else{const i=o.querySelector("#cart-link-mobile-link, #cart-link");if(null!==i){const c=i.getAttribute("href"),n=o.tfId(c.replace("#",""));null!==n&&(t.on("sidemenushow",((t,i,s)=>{c===t&&e((()=>{n.matches(":hover")?n.tfOn("mouseleave",(()=>{s.hidePanel(),o.body.classList.remove("tf_auto_cart_open")}),{once:!0,passive:!0}):(s.hidePanel(),o.body.classList.remove("tf_auto_cart_open")),r=!1}),a)}),!0),o.body.classList.add("tf_auto_cart_open"),e((()=>{i.click()}),100))}}}})),void 0!==a.wc_add_to_cart_params&&t.body.on("click",".remove_from_cart_button",(function(t){t.preventDefault(),this.classList.remove("tf_close"),this.classList.add("tf_loader")})),ThemifyShoppeAjaxCart=async function(e){if(this.classList.contains("auction_form")||a.location.search.includes("switch-subscription")||null!==this.closest(".product-type-external"))return;e.preventDefault();const r=new FormData(this),n=this.tfClass("single_add_to_cart_button")[0]||this.querySelector('[type="submit"]'),s=n?.classList,d=this.querySelector('[name="add-to-cart"]');if(d&&!s?.contains("loading")){"INPUT"!==d.tagName&&r.set("add-to-cart",d.value),s&&(s.remove("added"),s.add("loading")),t.body.triggerHandler("adding_to_cart",[n,r]);try{const e=await t.fetch(r,null,null,(""+woocommerce_params.wc_ajax_url).replace("%%endpoint%%","theme_add_to_cart"));if(!e)throw"error";if(!e.fragments&&!e.success)throw e.data;const{fragments:c,cart_hash:d}=e;if(c){let t=null;for(let a=Object.keys(c),e=a.length-1;e>-1;e--){t=o.querySelectorAll(a[e]);for(let o=t.length-1;o>-1;o--)t[o].className+=" updating",t[o].outerHTML=c[a[e]]}}s?.add("added");try{t.body.triggerHandler("added_to_cart",[c,d,n])}catch(t){}i.redirect&&(a.location.href=i.redirect)}catch(e){const i=o.createDocumentFragment(),r=o.createElement("div"),c=Array.isArray(e)?e:[e];await t.loadJs(t.url+"js/admin/notification",!!a.TF_Notification);for(let t=0;t<c.length;++t){let a=o.createElement("template");a.innerHTML=c[t],i.appendChild(a.content)}r.className="wc_errors",r.appendChild(i),await TF_Notification.showHide("error",r,3e3)}s?.remove("loading"),c()}},i.ajaxSingleCart&&o.querySelector("form.cart")?.tfOn("submit",ThemifyShoppeAjaxCart)})(Themify,document,window,setTimeout,themifyScript);