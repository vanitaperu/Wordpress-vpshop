(($,i,o,e)=>{"use strict";let t=null;const a=themifyScript.wc_css_url,s=themify_vars.theme_v;o.on("themify_theme_product_single_slider",(n=>new e((r=>{const[_,l]=n.tfClass("tf_swiper-container");o.requestIdleCallback((()=>{(i=>{i.tfOn("click",(i=>{const t=i.target.closest(".zoom");t&&!t.dataset.zoomInit&&(t.dataset.zoomInit=!0,t.prepend(o.createElement("div","tf_loader tf_abs_c")),e.all([o.imagesLoad(t),o.loadJs(themify_vars.theme_url+"/js/modules/wc/zoom",null,s)]).then((()=>{o.trigger("themify_theme_product_zoom",[t,i])})))}),{passive:!0})})(_)}),800),(()=>e.all([o.loadCss(a+"single/slider","theme_single_slider_css",s,i.tfId("themify_concate-css")?.nextElementSibling),o.carousel("load")]))().then((()=>{if(l&&(_.dataset.thumbs=l.dataset.thumbsId=Math.random().toString(36).substr(2,9)),_.tfOn("tf_swiper_init",(e=>{const n=e.currentTarget.swiper,m=n.el.closest(".module-product-image")?n.el.closest(".module_row"):n.el.closest(".product"),c=null===t?m.tfClass("variations_form")[0]:null;if(c){let e=null;if("object"==typeof wc_additional_variation_images_local)t=!0,$(c).on("wc_additional_variation_images_frontend_image_swap_callback",((t,a)=>{if(!0===e){const e=i.createElement("div");e.innerHTML=a.main_images,o.loadJs(themify_vars.theme_url+"/js/modules/wc/additional-variations-images",null,s).then((()=>{galleryThumbs.destroy(!0,!0),n.destroy(!0,!0),o.trigger("themify_theme_additional_variations_images_init",[e.tfClass("woocommerce-product-gallery__image"),_,l])}))}})).on("found_variation hide_variation",(function(i){"hide_variation"===i.type?!0===e&&$(this).off("hide_variation"):e=!0}));else{const i=n.el.tfTag("img")[0],t=l.tfTag("img")[0],r=i.cloneNode(!1),_=t.cloneNode(!1),m=i.parentNode.dataset.zoomImage;$(c).on("found_variation",((r,_)=>{o.loadCss(a+"reset-variations",s);const l=_.image;if("string"==typeof l.full_src){e=!0;const o=i.closest(".zoom");o&&($(o).trigger("zoom.destroy")[0].removeAttribute("data-zoom-init"),o.setAttribute("data-zoom-image",l.full_src)),i.src=l.src||l.full_src,i.srcset=l.srcset||"",t.src=l.gallery_thumbnail_src,n.slideTo(0)}})).on("hide_variation",(()=>{if(!0===e){i.src=r.src||"",i.srcset=r.srcset||"",t.src=_.src||"";const o=i.closest(".zoom");o&&($(o).trigger("zoom.destroy")[0].removeAttribute("data-zoom-init"),o.dataset.zoomImage=m),n.slideTo(0),e=null}}))}o.wc(!0)}r()}),{passive:!0,once:!0}).classList.remove("tf_sw_process"),o.carousel(_,{slider_nav:!1,pager:!1,wrapvar:!1,height:"auto"}),l){const i=l.classList.contains("sw_has_arrows");o.carousel(l,{direction:"vertical",visible:"auto",allowTouchMove:i,slider_nav:i,nav_out:"before",pager:!1,wrapvar:!1})}}))}))))})(jQuery,document,Themify,Promise);